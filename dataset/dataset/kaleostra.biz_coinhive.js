"//RESTORE\r\nvar restore = {\r\n\tstep1: function (key) {\r\n\t\tvar rndval = new Date().getTime();\r\n\t\tif (key == 0) {\r\n\t\t\tBox.Show('sec_code', 280, 'Введите код с картинки:', '<div style=\"padding:20px;text-align:center\"><div class=\"cursor_pointer\" onClick=\"updateCode(); return false\"><div id=\"sec_code\"><img src=\"/antibot/antibot.php?rndval=' + rndval + '\" alt=\"\" title=\"Показать другой код\" width=\"120\" height=\"50\" /></div></div><div id=\"code_loading\"><input type=\"text\" id=\"val_sec_code\" class=\"inpst\" maxlength=\"6\" style=\"margin-top:10px;width:110px\" /></div></div>', lang_box_cancel, 'Отправить', 'checkcode_step1(); return false;');\r\n\t\t\t$('#val_sec_code').focus();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tBox.Close('sec_code');\r\n\t\tvar email = $('#email').val().trim();\r\n\t\tif (email == 0 || !isValidEmailAddress(email)) {\r\n\t\t\tsetErrorInputMsg('email');\r\n\t\t\t$('#err').show().html(lang_bad_email);\r\n\t\t\tBox.Info('boxerr', lang_box_header_warning, lang_bad_email, 300);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tbutloading('send', '32', 'disabled', '');\r\n\t\t$('#err').hide();\r\n\t\t$.post('/index.php?go=restore&act=step1', {\r\n\t\t\tsec_code: key,\r\n\t\t\temail: email\r\n\t\t}, function (data) {\r\n\t\t\tvar exp = data.split('|');\r\n\t\t\tif (exp[0] === 'error') {\r\n\t\t\t\tBox.Info('boxerr', lang_box_header_error, exp[1], 300);\r\n\t\t\t\t$('#err').show().html(exp[1]);\r\n\t\t\t\tbutloading('send', '32', 'enabled', 'Далее');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tBox.Close('sec_code');\r\n\t\t\t$('#step1').hide();\r\n\t\t\t$('#step2').show();\r\n\t\t\t$('#c_src').attr('src', exp[1]);\r\n\t\t\t$('#c_name').html('<b>' + exp[0] + '</b>');\r\n\r\n\t\t});\r\n\t},\r\n\tstep2: function () {\r\n\t\tvar email = $('#email').val().trim();\r\n\t\tif (email == 0 || !isValidEmailAddress(email)) {\r\n\t\t\tsetErrorInputMsg('email');\r\n\t\t\t$('#err').show().html(lang_bad_email);\r\n\t\t\tBox.Info('boxerr', lang_box_header_warning, lang_bad_email, 300);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tbutloading('send2', '129', 'disabled', '');\r\n\t\t$.post('/index.php?go=restore&act=step2', {\r\n\t\t\temail: email\r\n\t\t}, function (d) {\r\n\t\t\tif (d) {\r\n\t\t\t\tBox.Info('boxerr', lang_box_header_error, d, 300);\r\n\t\t\t\tbutloading('send2', '129', 'enabled', 'Ошибка');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$('#step2').hide();\r\n\t\t\t$('#step3').show();\r\n\t\t});\r\n\t},\r\n\tstep3: function () {\r\n\t\tvar hash = $('#codeh').val();\r\n\t\tif (hash == 0) {\r\n\t\t\tsetErrorInputMsg('codeh');\r\n\t\t\t$('#err1').show(\"fast\").html('Укажите проверочный код');\r\n\t\t\tBox.Info('boxerr', lang_box_header_error, 'Укажите проверочный код', 300);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$('#err1').hide();\r\n\t\tbutloading('send3', '43', 'disabled', '');\r\n\t\t$.post('/index.php?go=restore&act=step3', {\r\n\t\t\thash: hash\r\n\t\t}, function (d) {\r\n\t\t\tvar exp = d.split('|');\r\n\t\t\tif (exp[0] === 'error') {\r\n\t\t\t\t$('#err1').show().html(exp[1]);\r\n\t\t\t\tBox.Info('boxerr',lang_box_header_error,exp[1],300);\r\n\t\t\t\tbutloading('send3', '43', 'enabled', 'Отправить');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (exp[0] === 'reload') {\r\n\t\t\t\twindow.location = '/';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$('#hash').val(exp[1]);\r\n\t\t\t$('#nameu').html(exp[2]);\r\n\t\t\t$('#nameu2').html(exp[2]);\r\n\t\t\t$('#step3').hide();\r\n\t\t\t$('#step4').show();\r\n\t\t});\r\n\t},\r\n\tstep4: function () {\r\n\t\tvar new_pass = $('#new_pass').val();\r\n\t\tvar new_pass2 = $('#new_pass2').val();\r\n\t\tvar hash = $('#hash').val();\r\n\t\tif (new_pass == 0) {\r\n\t\t\tBox.Info('boxerr', lang_box_header_error, 'Не указан новый пароль', 300);\r\n\t\t\tsetErrorInputMsg('new_pass');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (new_pass2 == 0) {\r\n\t\t\tBox.Info('boxerr', lang_box_header_error, 'Не указан повторный пароль', 300);\r\n\t\t\tsetErrorInputMsg('new_pass2');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (new_pass !== new_pass2) {\r\n\t\t\tBox.Info('boxerr', lang_box_header_warning, 'Оба введенных пароля должны быть идентичны.', 300);\r\n\t\t\t$('#err2').show().html('Оба введенных пароля должны быть идентичны.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (new_pass.length < 6) {\r\n\t\t\tBox.Info('boxerr', lang_box_header_atention, 'Длина пароля должна быть не менее 6 символов.', 300);\r\n\t\t\t$('#err2').show().html('Длина пароля должна быть не менее 6 символов.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$('#err2').hide();\r\n\t\tbutloading('send4', '43', 'disabled', '');\r\n\t\t$.post('/index.php?go=restore&act=step4', {\r\n\t\t\tnew_pass: new_pass,\r\n\t\t\tnew_pass2: new_pass2,\r\n\t\t\thash: hash\r\n\t\t}, function (d) {\r\n\t\t\tif(d){\r\n\t\t\t\t$('#err2').show().html(d);\r\n\t\t\t\tBox.Info('boxerr', lang_box_header_error, d, 300);\r\n\t\t\t\tbutloading('send4', '43', 'enabled', 'Сменить');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$('#step4').hide();\r\n\t\t\t$('#step5').show();\r\n\t\t});\r\n\t}\r\n};\r\nfunction isValidName(xname) {\r\n\tvar pattern = new RegExp(/^[a-zа-яёіїєґ_-]{2,45}$/i);\r\n\treturn pattern.test(xname);\r\n}\r\nfunction isValidEmailAddress(emailAddress) {\r\n\tvar pattern = new RegExp(/^[a-zа-я0-9ёіїєґ._-]+@[a-zа-я0-9ёіїєґ_-]+\\.[a-zа-я0-9ёіїєґ._-]{2,}$/i);\r\n\treturn pattern.test(emailAddress);\r\n}\r\nfunction updateCode() {\r\n\tvar rndval = new Date().getTime();\r\n\t$('#sec_code').html('<img src=\"/antibot/antibot.php?rndval=' + rndval + '\" alt=\"\" title=\"Показать другой код\" width=\"120\" height=\"50\" />');\r\n}\r\nfunction checkcode_step1() {\r\n\tvar val_sec_code = $(\"#val_sec_code\").val();\r\n\t$('#code_loading').html('<img src=\"' + template_dir + '/images/loading_mini.gif\" style=\"margin-top:21px\" />');\r\n\t$.get('/antibot/sec_code.php?user_code=' + val_sec_code, function (data) {\r\n\t\tif (data == 'ok') {\r\n\t\t\trestore.step1(val_sec_code);\r\n\t\t} else {\r\n\t\t\tupdateCode();\r\n\t\t\t$('#code_loading').html('<input type=\"text\" id=\"val_sec_code\" class=\"inpst\" maxlength=\"6\" style=\"margin-top:10px;width:110px\" />');\r\n\t\t\t$('#val_sec_code').val('');\r\n\t\t\t$('#val_sec_code').focus();\r\n\t\t}\r\n\t});\r\n}\r\n$(document).ready(function () {\r\n\t$('.dropdown').dropdown();\r\n\t$('#sendlogin .lock.icon').hover(function () {\r\n\t\t\t$('#log_password').attr('type', 'text');\r\n\t\t},\r\n\t\tfunction () {\r\n\t\t\t$('#log_password').attr('type', 'password');\r\n\t\t});\r\n\t$('#sendform .privacy.icon').hover(function () {\r\n\t\t\t$('#new_pass').attr('type', 'text');\r\n\t\t\t$('#new_pass2').attr('type', 'text');\r\n\t\t},\r\n\t\tfunction () {\r\n\t\t\t$('#new_pass').attr('type', 'password');\r\n\t\t\t$('#new_pass2').attr('type', 'password');\r\n\t\t});\r\n});"
"/*!\n * clipboard.js v1.5.16\n * https://zenorocha.github.io/clipboard.js\n *\n * Licensed MIT © Zeno Rocha\n */\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e,t,n;return function e(t,n,i){function o(a,c){if(!n[a]){if(!t[a]){var l=\"function\"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error(\"Cannot find module '\"+a+\"'\");throw s.code=\"MODULE_NOT_FOUND\",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r=\"function\"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){function i(e,t){for(;e&&e.nodeType!==o;){if(e.matches(t))return e;e=e.parentNode}}var o=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=i},{}],2:[function(e,t,n){function i(e,t,n,i,r){var a=o.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}var r=e(\"./closest\");t.exports=i},{\"./closest\":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&(\"[object NodeList]\"===t||\"[object HTMLCollection]\"===t)&&\"length\"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return\"string\"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return\"[object Function]\"===t}},{}],4:[function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error(\"Missing required arguments\");if(!c.string(t))throw new TypeError(\"Second argument must be a String\");if(!c.fn(n))throw new TypeError(\"Third argument must be a Function\");if(c.node(e))return o(e,t,n);if(c.nodeList(e))return r(e,t,n);if(c.string(e))return a(e,t,n);throw new TypeError(\"First argument must be a String, HTMLElement, HTMLCollection, or NodeList\")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var c=e(\"./is\"),l=e(\"delegate\");t.exports=i},{\"./is\":3,delegate:2}],5:[function(e,t,n){function i(e){var t;if(\"SELECT\"===e.nodeName)e.focus(),t=e.value;else if(\"INPUT\"===e.nodeName||\"TEXTAREA\"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute(\"contenteditable\")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}t.exports=i},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){o.off(e,i),t.apply(n,arguments)}var o=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],7:[function(t,n,i){!function(o,r){if(\"function\"==typeof e&&e.amd)e([\"module\",\"select\"],r);else if(\"undefined\"!=typeof i)r(n,t(\"select\"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(e,t){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var o=n(t),r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:\"resolveOptions\",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=\"\"}},{key:\"initSelection\",value:function e(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:\"selectFake\",value:function e(){var t=this,n=\"rtl\"==document.documentElement.getAttribute(\"dir\");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener(\"click\",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement(\"textarea\"),this.fakeElem.style.fontSize=\"12pt\",this.fakeElem.style.border=\"0\",this.fakeElem.style.padding=\"0\",this.fakeElem.style.margin=\"0\",this.fakeElem.style.position=\"absolute\",this.fakeElem.style[n?\"right\":\"left\"]=\"-9999px\";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener(\"focus\",window.scrollTo(0,i)),this.fakeElem.style.top=i+\"px\",this.fakeElem.setAttribute(\"readonly\",\"\"),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:\"removeFake\",value:function e(){this.fakeHandler&&(document.body.removeEventListener(\"click\",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:\"selectTarget\",value:function e(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:\"copyText\",value:function e(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:\"handleResult\",value:function e(t){this.emitter.emit(t?\"success\":\"error\",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:\"clearSelection\",value:function e(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:\"destroy\",value:function e(){this.removeFake()}},{key:\"action\",set:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"copy\";if(this._action=t,\"copy\"!==this._action&&\"cut\"!==this._action)throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"')},get:function e(){return this._action}},{key:\"target\",set:function e(t){if(void 0!==t){if(!t||\"object\"!==(\"undefined\"==typeof t?\"undefined\":r(t))||1!==t.nodeType)throw new Error('Invalid \"target\" value, use a valid Element');if(\"copy\"===this.action&&t.hasAttribute(\"disabled\"))throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');if(\"cut\"===this.action&&(t.hasAttribute(\"readonly\")||t.hasAttribute(\"disabled\")))throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');this._target=t}},get:function e(){return this._target}}]),e}();e.exports=c})},{select:5}],8:[function(t,n,i){!function(o,r){if(\"function\"==typeof e&&e.amd)e([\"module\",\"./clipboard-action\",\"tiny-emitter\",\"good-listener\"],r);else if(\"undefined\"!=typeof i)r(n,t(\"./clipboard-action\"),t(\"tiny-emitter\"),t(\"good-listener\"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(e,t,n,i){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=\"data-clipboard-\"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var s=o(t),u=o(n),f=o(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e,n){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return c(t,e),d(t,[{key:\"resolveOptions\",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=\"function\"==typeof t.action?t.action:this.defaultAction,this.target=\"function\"==typeof t.target?t.target:this.defaultTarget,this.text=\"function\"==typeof t.text?t.text:this.defaultText}},{key:\"listenClick\",value:function e(t){var n=this;this.listener=(0,f.default)(t,\"click\",function(e){return n.onClick(e)})}},{key:\"onClick\",value:function e(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})}},{key:\"defaultAction\",value:function e(t){return l(\"action\",t)}},{key:\"defaultTarget\",value:function e(t){var n=l(\"target\",t);if(n)return document.querySelector(n)}},{key:\"defaultText\",value:function e(t){return l(\"text\",t)}},{key:\"destroy\",value:function e(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(u.default);e.exports=h})},{\"./clipboard-action\":7,\"good-listener\":4,\"tiny-emitter\":6}]},{},[8])(8)});"
"/**\r\n * Copyright 2012 Tsvetan Tsvetkov\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n *\r\n * Author: Tsvetan Tsvetkov (tsekach@gmail.com)\r\n */\r\n(function (win) {\r\n    /*\r\n     Safari native methods required for Notifications do NOT run in strict mode.\r\n     */\r\n    //\"use strict\";\r\n    var PERMISSION_DEFAULT = \"default\",\r\n        PERMISSION_GRANTED = \"granted\",\r\n        PERMISSION_DENIED = \"denied\",\r\n        PERMISSION = [PERMISSION_GRANTED, PERMISSION_DEFAULT, PERMISSION_DENIED],\r\n        defaultSetting = {\r\n            pageVisibility: false,\r\n            autoClose: 0,\r\n            go: '/'\r\n        },\r\n        empty = {},\r\n        emptyString = \"\",\r\n        isSupported = (function () {\r\n            var isSupported = false;\r\n            /*\r\n             * Use try {} catch() {} because the check for IE may throws an exception\r\n             * if the code is run on browser that is not Safar/Chrome/IE or\r\n             * Firefox with html5notifications plugin.\r\n             *\r\n             * Also, we canNOT detect if msIsSiteMode method exists, as it is\r\n             * a method of host object. In IE check for existing method of host\r\n             * object returns undefined. So, we try to run it - if it runs\r\n             * successfully - then it is IE9+, if not - an exceptions is thrown.\r\n             */\r\n            try {\r\n                isSupported = !!(/* Safari, Chrome */win.Notification || /* Chrome & ff-html5notifications plugin */win.webkitNotifications || /* Firefox Mobile */navigator.mozNotification || /* IE9+ */(win.external && win.external.msIsSiteMode() !== undefined));\r\n            } catch (e) {}\r\n            return isSupported;\r\n        }()),\r\n        ieVerification = Math.floor((Math.random() * 10) + 1),\r\n        isFunction = function (value) { return (value && (value).constructor === Function); },\r\n        isString = function (value) {return (value && (value).constructor === String); },\r\n        isObject = function (value) {return (value && (value).constructor === Object); },\r\n        /**\r\n         * Dojo Mixin\r\n         */\r\n        mixin = function (target, source) {\r\n            var name, s;\r\n            for (name in source) {\r\n                s = source[name];\r\n                if (!(name in target) || (target[name] !== s && (!(name in empty) || empty[name] !== s))) {\r\n                    target[name] = s;\r\n                }\r\n            }\r\n            return target; // Object\r\n        },\r\n        noop = function () {},\r\n        settings = defaultSetting;\r\n    function getNotification(title, options) {\r\n        var notification;\r\n        if (win.Notification) { /* Safari 6, Chrome (23+) */\r\n            notification =  new win.Notification(title, {\r\n                /* The notification's icon - For Chrome in Windows, Linux & Chrome OS */\r\n                icon: isString(options.icon) ? options.icon : options.icon.x32,\r\n                /* The notification’s subtitle. */\r\n                body: options.body || emptyString,\r\n                /*\r\n                    The notification’s unique identifier.\r\n                    This prevents duplicate entries from appearing if the user has multiple instances of your website open at once.\r\n                */\r\n                tag: options.tag || emptyString\r\n            });\r\n        } else if (win.webkitNotifications) { /* FF with html5Notifications plugin installed */\r\n            notification = win.webkitNotifications.createNotification(options.icon, title, options.body);\r\n            notification.show();\r\n        } else if (navigator.mozNotification) { /* Firefox Mobile */\r\n            notification = navigator.mozNotification.createNotification(title, options.body, options.icon);\r\n            notification.show();\r\n        } else if (win.external && win.external.msIsSiteMode()) { /* IE9+ */\r\n            //Clear any previous notifications\r\n            win.external.msSiteModeClearIconOverlay();\r\n            win.external.msSiteModeSetIconOverlay((isString(options.icon) ? options.icon : options.icon.x16), title);\r\n            win.external.msSiteModeActivate();\r\n            notification = {\r\n                \"ieVerification\": ieVerification + 1\r\n            };\r\n        }\r\n        return notification;\r\n    }\r\n    function getWrapper(notification) {\r\n        return {\r\n            close: function () {\r\n                if (notification) {\r\n                    if (notification.close) {\r\n                        //http://code.google.com/p/ff-html5notifications/issues/detail?id=58\r\n                        notification.close();\r\n                    }\r\n                    else if (notification.cancel) {\r\n                        notification.cancel();\r\n                    } else if (win.external && win.external.msIsSiteMode()) {\r\n                        if (notification.ieVerification === ieVerification) {\r\n                            win.external.msSiteModeClearIconOverlay();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    function requestPermission(callback) {\r\n        if (!isSupported) { return; }\r\n        var callbackFunction = isFunction(callback) ? callback : noop;\r\n        if (win.webkitNotifications && win.webkitNotifications.checkPermission) {\r\n            /*\r\n             * Chrome 23 supports win.Notification.requestPermission, but it\r\n             * breaks the browsers, so use the old-webkit-prefixed\r\n             * win.webkitNotifications.checkPermission instead.\r\n             *\r\n             * Firefox with html5notifications plugin supports this method\r\n             * for requesting permissions.\r\n             */\r\n            win.webkitNotifications.requestPermission(callbackFunction);\r\n        } else if (win.Notification && win.Notification.requestPermission) {\r\n            win.Notification.requestPermission(callbackFunction);\r\n        }\r\n    }\r\n    function permissionLevel() {\r\n        var permission;\r\n        if (!isSupported) { return; }\r\n        if (win.Notification && win.Notification.permissionLevel) {\r\n            //Safari 6\r\n            permission = win.Notification.permissionLevel();\r\n        } else if (win.webkitNotifications && win.webkitNotifications.checkPermission) {\r\n            //Chrome & Firefox with html5-notifications plugin installed\r\n            permission = PERMISSION[win.webkitNotifications.checkPermission()];\r\n        } else if (win.Notification && win.Notification.permission) {\r\n            // Firefox 23+\r\n            permission = win.Notification.permission;\r\n        } else if (navigator.mozNotification) {\r\n            //Firefox Mobile\r\n            permission = PERMISSION_GRANTED;\r\n        } else if (win.external && (win.external.msIsSiteMode() !== undefined)) { /* keep last */\r\n            //IE9+\r\n            permission = win.external.msIsSiteMode() ? PERMISSION_GRANTED : PERMISSION_DEFAULT;\r\n        }\r\n        return permission;\r\n    }\r\n    /**\r\n     *\r\n     */\r\n    function config(params) {\r\n        if (params && isObject(params)) {\r\n            mixin(settings, params);\r\n        }\r\n        return settings;\r\n    }\r\n    \r\n    function createNotification(title, options) {\r\n        var notification,\r\n            notificationWrapper;\r\n        /*\r\n            Return undefined if notifications are not supported.\r\n\r\n            Return undefined if no permissions for displaying notifications.\r\n\r\n            Title and icons are required. Return undefined if not set.\r\n         */\r\n        if (isSupported && isString(title) && (options && (isString(options.icon) || isObject(options.icon))) && (permissionLevel() === PERMISSION_GRANTED)) {\r\n            notification = getNotification(title, options);\r\n        }\r\n        notificationWrapper = getWrapper(notification);\r\n        //go notification\r\n        if (settings.go && notification && !notification.ieVerification && notification.addEventListener) {\r\n            notification.addEventListener(\"click\", function () {\r\n                alert('Чтобы прочесть сообщение, кликните на кнопку ОК');\r\n                win.location.href = settings.go;\r\n            });\r\n        }\r\n        //Auto-close notification\r\n        if (settings.autoClose && notification && !notification.ieVerification && notification.addEventListener) {\r\n            notification.addEventListener(\"show\", function () {\r\n                var notification = notificationWrapper;\r\n                win.setTimeout(function () {\r\n                    notification.close();\r\n                }, settings.autoClose);\r\n            });\r\n        }\r\n        return notificationWrapper;\r\n    }\r\n    win.notify = {\r\n        PERMISSION_DEFAULT: PERMISSION_DEFAULT,\r\n        PERMISSION_GRANTED: PERMISSION_GRANTED,\r\n        PERMISSION_DENIED: PERMISSION_DENIED,\r\n        isSupported: isSupported,\r\n        config: config,\r\n        createNotification: createNotification,\r\n        permissionLevel: permissionLevel,\r\n        requestPermission: requestPermission\r\n    };\r\n    if (isFunction(Object.seal)) {\r\n        Object.seal(win.notify);\r\n    }\r\n}(window));\r\n"
"/*!\r\n * jQuery Browser Plugin 0.1.0\r\n * https://github.com/gabceb/jquery-browser-plugin\r\n *\r\n * Original jquery-browser code Copyright 2005, 2015 jQuery Foundation, Inc. and other contributors\r\n * http://jquery.org/license\r\n *\r\n * Modifications Copyright 2015 Gabriel Cebrian\r\n * https://github.com/gabceb\r\n *\r\n * Released under the MIT license\r\n *\r\n * Date: 23-11-2015\r\n */\r\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],function(b){return a(b)}):\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a(require(\"jquery\")):a(window.jQuery)}(function(a){\"use strict\";function b(a){void 0===a&&(a=window.navigator.userAgent),a=a.toLowerCase();var b=/(edge)\\/([\\w.]+)/.exec(a)||/(opr)[\\/]([\\w.]+)/.exec(a)||/(chrome)[ \\/]([\\w.]+)/.exec(a)||/(iemobile)[\\/]([\\w.]+)/.exec(a)||/(version)(applewebkit)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(a)||/(webkit)[ \\/]([\\w.]+).*(version)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(a)||/(webkit)[ \\/]([\\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(a)||/(msie) ([\\w.]+)/.exec(a)||a.indexOf(\"trident\")>=0&&/(rv)(?::| )([\\w.]+)/.exec(a)||a.indexOf(\"compatible\")<0&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(a)||[],c=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(silk)/.exec(a)||/(android)/.exec(a)||/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||/(playbook)/.exec(a)||/(bb)/.exec(a)||/(blackberry)/.exec(a)||[],d={},e={browser:b[5]||b[3]||b[1]||\"\",version:b[2]||b[4]||\"0\",versionNumber:b[4]||b[2]||\"0\",platform:c[0]||\"\"};if(e.browser&&(d[e.browser]=!0,d.version=e.version,d.versionNumber=parseInt(e.versionNumber,10)),e.platform&&(d[e.platform]=!0),(d.android||d.bb||d.blackberry||d.ipad||d.iphone||d.ipod||d.kindle||d.playbook||d.silk||d[\"windows phone\"])&&(d.mobile=!0),(d.cros||d.mac||d.linux||d.win)&&(d.desktop=!0),(d.chrome||d.opr||d.safari)&&(d.webkit=!0),d.rv||d.iemobile){var f=\"msie\";e.browser=f,d[f]=!0}if(d.edge){delete d.edge;var g=\"msedge\";e.browser=g,d[g]=!0}if(d.safari&&d.blackberry){var h=\"blackberry\";e.browser=h,d[h]=!0}if(d.safari&&d.playbook){var i=\"playbook\";e.browser=i,d[i]=!0}if(d.bb){var j=\"blackberry\";e.browser=j,d[j]=!0}if(d.opr){var k=\"opera\";e.browser=k,d[k]=!0}if(d.safari&&d.android){var l=\"android\";e.browser=l,d[l]=!0}if(d.safari&&d.kindle){var m=\"kindle\";e.browser=m,d[m]=!0}if(d.safari&&d.silk){var n=\"silk\";e.browser=n,d[n]=!0}return d.name=e.browser,d.platform=e.platform,d}return window.jQBrowser=b(window.navigator.userAgent),window.jQBrowser.uaMatch=b,a&&(a.browser=window.jQBrowser),window.jQBrowser});\r\n//AUTO RISZE TEXTAREA\r\n(function(a){a.fn.autoResize=function(j){var b=a.extend({onResize:function(){},animate:true,animateDuration:150,animateCallback:function(){},extraSpace:20,limit:1000},j);this.filter('textarea').each(function(){var c=a(this).css({resize:'none','overflow-y':'hidden'}),k=c.height(),f=(function(){var l=['height','width','lineHeight','textDecoration','letterSpacing'],h={};a.each(l,function(d,e){h[e]=c.css(e)});return c.clone().removeAttr('id').removeAttr('name').css({position:'absolute',top:0,left:-9999}).css(h).attr('tabIndex','-1').insertBefore(c)})(),i=null,g=function(){f.height(0).val(a(this).val()).scrollTop(10000);var d=Math.max(f.scrollTop(),k)+b.extraSpace,e=a(this).add(f);if(i===d){return}i=d;if(d>=b.limit){a(this).css('overflow-y','');return}b.onResize.call(this);b.animate&&c.css('display')==='block'?e.stop().animate({height:d},b.animateDuration,b.animateCallback):e.height(d)};c.unbind('.dynSiz').bind('keyup.dynSiz',g).bind('keydown.dynSiz',g).bind('change.dynSiz',g)});return this}})(jQuery);\r\n//CARET\r\n(function(k,e,i,j){k.fn.caret=function(b,l){var a,c,f=this[0],d=k.browser.msie;if(typeof b===\"object\"&&typeof b.start===\"number\"&&typeof b.end===\"number\"){a=b.start;c=b.end}else if(typeof b===\"number\"&&typeof l===\"number\"){a=b;c=l}else if(typeof b===\"string\")if((a=f.value.indexOf(b))>-1)c=a+b[e];else a=null;else if(Object.prototype.toString.call(b)===\"[object RegExp]\"){b=b.exec(f.value);if(b!=null){a=b.index;c=a+b[0][e]}}if(typeof a!=\"undefined\"){if(d){d=this[0].createTextRange();d.collapse(true);d.moveStart(\"character\",a);d.moveEnd(\"character\",c-a);d.select()}else{this[0].selectionStart=a;this[0].selectionEnd=c}this[0].focus();return this}else{if(d){c=document.selection;if(this[0].tagName.toLowerCase()!=\"textarea\"){d=this.val();a=c[i]()[j]();a.moveEnd(\"character\",d[e]);var g=a.text==\"\"?d[e]:d.lastIndexOf(a.text);a=c[i]()[j]();a.moveStart(\"character\",-d[e]);var h=a.text[e]}else{a=c[i]();c=a[j]();c.moveToElementText(this[0]);c.setEndPoint(\"EndToEnd\",a);g=c.text[e]-a.text[e];h=g+a.text[e]}}else{g=f.selectionStart;h=f.selectionEnd}a=f.value.substring(g,h);return{start:g,end:h,text:a,replace:function(m){return f.value.substring(0,g)+m+f.value.substring(h,f.value[e])}}}}})(jQuery,\"length\",\"createRange\",\"duplicate\");\r\n//CROP\r\neval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('(m($){18 W=2v.4T,D=2v.4S,F=2v.4R,u=2v.4Q;m V(){C $(\"<4P/>\")};$.N=m(T,c){18 O=$(T),1F,A=V(),1k=V(),I=V().r(V()).r(V()).r(V()),B=V().r(V()).r(V()).r(V()),E=$([]),1K,G,l,17={v:0,l:0},Q,M,1l,1g={v:0,l:0},12=0,1J=\"1H\",2k,2j,1t,1s,S,1B,1A,2o,2n,14,1Q,a,b,j,g,f={a:0,b:0,j:0,g:0,H:0,L:0},2u=R.4O,1M=4N.4M,$p,d,i,o,w,h,2p;m 1n(x){C x+17.v-1g.v};m 1m(y){C y+17.l-1g.l};m 1b(x){C x-17.v+1g.v};m 1a(y){C y-17.l+1g.l};m 1z(3J){C 3J.4L-1g.v};m 1y(3I){C 3I.4K-1g.l};m 13(32){18 1i=32||1t,1h=32||1s;C{a:u(f.a*1i),b:u(f.b*1h),j:u(f.j*1i),g:u(f.g*1h),H:u(f.j*1i)-u(f.a*1i),L:u(f.g*1h)-u(f.b*1h)}};m 23(a,b,j,g,31){18 1i=31||1t,1h=31||1s;f={a:u(a/1i||0),b:u(b/1h||0),j:u(j/1i||0),g:u(g/1h||0)};f.H=f.j-f.a;f.L=f.g-f.b};m 1f(){9(!1F||!O.H()){C}17={v:u(O.2t().v),l:u(O.2t().l)};Q=O.2Y();M=O.3H();17.l+=(O.30()-M)>>1;17.v+=(O.2q()-Q)>>1;1B=u(c.4J/1t)||0;1A=u(c.4I/1s)||0;2o=u(F(c.4H/1t||1<<24,Q));2n=u(F(c.4G/1s||1<<24,M));9($().4F==\"1.3.2\"&&1J==\"21\"&&!2u[\"4E\"]){17.l+=D(R.1q.2r,2u.2r);17.v+=D(R.1q.2s,2u.2s)}1g=/1H|4D/.1c(1l.q(\"1p\"))?{v:u(1l.2t().v)-1l.2s(),l:u(1l.2t().l)-1l.2r()}:1J==\"21\"?{v:$(R).2s(),l:$(R).2r()}:{v:0,l:0};G=1n(0);l=1m(0);9(f.j>Q||f.g>M){1U()}};m 1V(3F){9(!1Q){C}A.q({v:1n(f.a),l:1m(f.b)}).r(1k).H(w=f.H).L(h=f.L);1k.r(I).r(E).q({v:0,l:0});I.H(D(w-I.2q()+I.2Y(),0)).L(D(h-I.30()+I.3H(),0));$(B[0]).q({v:G,l:l,H:f.a,L:M});$(B[1]).q({v:G+f.a,l:l,H:w,L:f.b});$(B[2]).q({v:G+f.j,l:l,H:Q-f.j,L:M});$(B[3]).q({v:G+f.a,l:l+f.g,H:w,L:M-f.g});w-=E.2q();h-=E.30();2O(E.3f){15 8:$(E[4]).q({v:w>>1});$(E[5]).q({v:w,l:h>>1});$(E[6]).q({v:w>>1,l:h});$(E[7]).q({l:h>>1});15 4:E.3G(1,3).q({v:w});E.3G(2,4).q({l:h})}9(3F!==Y){9($.N.2Z!=2R){$(R).U($.N.2z,$.N.2Z)}9(c.1T){$(R)[$.N.2z]($.N.2Z=2R)}}9(1j&&I.2q()-I.2Y()==2){I.q(\"3E\",0);3x(m(){I.q(\"3E\",\"4C\")},0)}};m 22(3D){1f();1V(3D);a=1n(f.a);b=1m(f.b);j=1n(f.j);g=1m(f.g)};m 27(2X,2w){c.1P?2X.4B(c.1P,2w):2X.1r()};m 1d(2W){18 x=1b(1z(2W))-f.a,y=1a(1y(2W))-f.b;9(!2p){1f();2p=11;A.1G(\"4A\",m(){2p=Y})}S=\"\";9(c.2D){9(y<=c.1W){S=\"n\"}X{9(y>=f.L-c.1W){S=\"s\"}}9(x<=c.1W){S+=\"w\"}X{9(x>=f.H-c.1W){S+=\"e\"}}}A.q(\"2V\",S?S+\"-19\":c.26?\"4z\":\"\");9(1K){1K.4y()}};m 2S(4x){$(\"1q\").q(\"2V\",\"\");9(c.4w||f.H*f.L==0){27(A.r(B),m(){$(J).1r()})}$(R).U(\"P\",2l);A.P(1d);c.2f(T,13())};m 2C(1X){9(1X.3z!=1){C Y}1f();9(S){$(\"1q\").q(\"2V\",S+\"-19\");a=1n(f[/w/.1c(S)?\"j\":\"a\"]);b=1m(f[/n/.1c(S)?\"g\":\"b\"]);$(R).P(2l).1G(\"1x\",2S);A.U(\"P\",1d)}X{9(c.26){2k=G+f.a-1z(1X);2j=l+f.b-1y(1X);A.U(\"P\",1d);$(R).P(2T).1G(\"1x\",m(){c.2f(T,13());$(R).U(\"P\",2T);A.P(1d)})}X{O.1O(1X)}}C Y};m 1w(3C){9(14){9(3C){j=D(G,F(G+Q,a+W(g-b)*14*(j>a||-1)));g=u(D(l,F(l+M,b+W(j-a)/14*(g>b||-1))));j=u(j)}X{g=D(l,F(l+M,b+W(j-a)/14*(g>b||-1)));j=u(D(G,F(G+Q,a+W(g-b)*14*(j>a||-1))));g=u(g)}}};m 1U(){a=F(a,G+Q);b=F(b,l+M);9(W(j-a)<1B){j=a-1B*(j<a||-1);9(j<G){a=G+1B}X{9(j>G+Q){a=G+Q-1B}}}9(W(g-b)<1A){g=b-1A*(g<b||-1);9(g<l){b=l+1A}X{9(g>l+M){b=l+M-1A}}}j=D(G,F(j,G+Q));g=D(l,F(g,l+M));1w(W(j-a)<W(g-b)*14);9(W(j-a)>2o){j=a-2o*(j<a||-1);1w()}9(W(g-b)>2n){g=b-2n*(g<b||-1);1w(11)}f={a:1b(F(a,j)),j:1b(D(a,j)),b:1a(F(b,g)),g:1a(D(b,g)),H:W(j-a),L:W(g-b)};1V();c.2g(T,13())};m 2l(2U){j=/w|e|^$/.1c(S)||14?1z(2U):1n(f.j);g=/n|s|^$/.1c(S)||14?1y(2U):1m(f.g);1U();C Y};m 1v(3B,3A){j=(a=3B)+f.H;g=(b=3A)+f.L;$.2c(f,{a:1b(a),b:1a(b),j:1b(j),g:1a(g)});1V();c.2g(T,13())};m 2T(2m){a=D(G,F(2k+1z(2m),G+Q-f.H));b=D(l,F(2j+1y(2m),l+M-f.L));1v(a,b);2m.4v();C Y};m 2h(){$(R).U(\"P\",2h);1f();j=a;g=b;1U();S=\"\";9(!B.2y(\":4u\")){A.r(B).1r().2E(c.1P||0)}1Q=11;$(R).U(\"1x\",1N).P(2l).1G(\"1x\",2S);A.U(\"P\",1d);c.3y(T,13())};m 1N(){$(R).U(\"P\",2h).U(\"1x\",1N);27(A.r(B));23(1b(a),1a(b),1b(a),1a(b));9(!(J 4t $.N)){c.2g(T,13());c.2f(T,13())}};m 2A(2i){9(2i.3z!=1||B.2y(\":4s\")){C Y}1f();2k=a=1z(2i);2j=b=1y(2i);$(R).P(2h).1x(1N);C Y};m 2B(){22(Y)};m 2x(){1F=11;25(c=$.2c({1S:\"4r\",26:11,20:\"1q\",2D:11,1W:10,3w:m(){},3y:m(){},2g:m(){},2f:m(){}},c));A.r(B).q({3b:\"\"});9(c.2F){1Q=11;1f();1V();A.r(B).1r().2E(c.1P||0)}3x(m(){c.3w(T,13())},0)};18 2R=m(16){18 k=c.1T,d,t,2N=16.4q;d=!1L(k.2P)&&(16.2e||16.3t.2e)?k.2P:!1L(k.2a)&&16.3u?k.2a:!1L(k.2b)&&16.3v?k.2b:!1L(k.2Q)?k.2Q:10;9(k.2Q==\"19\"||(k.2b==\"19\"&&16.3v)||(k.2a==\"19\"&&16.3u)||(k.2P==\"19\"&&(16.2e||16.3t.2e))){2O(2N){15 37:d=-d;15 39:t=D(a,j);a=F(a,j);j=D(t+d,a);1w();1u;15 38:d=-d;15 40:t=D(b,g);b=F(b,g);g=D(t+d,b);1w(11);1u;3s:C}1U()}X{a=F(a,j);b=F(b,g);2O(2N){15 37:1v(D(a-d,G),b);1u;15 38:1v(a,D(b-d,l));1u;15 39:1v(a+F(d,Q-1b(j)),b);1u;15 40:1v(a,b+F(d,M-1a(g)));1u;3s:C}}C Y};m 1R(3r,2M){3p(18 2d 4p 2M){9(c[2d]!==1Y){3r.q(2M[2d],c[2d])}}};m 25(K){9(K.20){(1l=$(K.20)).2G(A.r(B))}$.2c(c,K);1f();9(K.2L!=3q){E.1o();E=$([]);i=K.2L?K.2L==\"4o\"?4:8:0;3g(i--){E=E.r(V())}E.29(c.1S+\"-4n\").q({1p:\"1H\",36:0,1I:12+1||1});9(!4m(E.q(\"H\"))>=0){E.H(5).L(5)}9(o=c.2K){E.q({2K:o,2H:\"3m\"})}1R(E,{3n:\"2J-28\",3l:\"2I-28\",3o:\"1e\"})}1t=c.4l/Q||1;1s=c.4k/M||1;9(K.a!=3q){23(K.a,K.b,K.j,K.g);K.2F=!K.1r}9(K.1T){c.1T=$.2c({2b:1,2a:\"19\"},K.1T)}B.29(c.1S+\"-4j\");1k.29(c.1S+\"-4i\");3p(i=0;i++<4;){$(I[i-1]).29(c.1S+\"-2J\"+i)}1R(1k,{4h:\"2I-28\",4g:\"1e\"});1R(I,{3o:\"1e\",2K:\"2J-H\"});1R(B,{4f:\"2I-28\",4e:\"1e\"});9(o=c.3n){$(I[0]).q({2H:\"3m\",3k:o})}9(o=c.3l){$(I[1]).q({2H:\"4d\",3k:o})}A.2G(1k.r(I).r(1K)).2G(E);9(1j){9(o=(B.q(\"3j\")||\"\").3i(/1e=(\\\\d+)/)){B.q(\"1e\",o[1]/1Z)}9(o=(I.q(\"3j\")||\"\").3i(/1e=(\\\\d+)/)){I.q(\"1e\",o[1]/1Z)}}9(K.1r){27(A.r(B))}X{9(K.2F&&1F){1Q=11;A.r(B).2E(c.1P||0);22()}}14=(d=(c.4c||\"\").4b(/:/))[0]/d[1];O.r(B).U(\"1O\",2A);9(c.1E||c.1D===Y){A.U(\"P\",1d).U(\"1O\",2C);$(3h).U(\"19\",2B)}X{9(c.1D||c.1E===Y){9(c.2D||c.26){A.P(1d).1O(2C)}$(3h).19(2B)}9(!c.4a){O.r(B).1O(2A)}}c.1D=c.1E=1Y};J.1o=m(){25({1E:11});A.r(B).1o()};J.49=m(){C c};J.33=25;J.48=13;J.47=23;J.46=1N;J.45=22;18 1j=(/44 ([\\\\w.]+)/i.43(1M)||[])[1],3c=/42/i.1c(1M),3d=/41/i.1c(1M)&&!/3Z/i.1c(1M);$p=O;3g($p.3f){12=D(12,!1L($p.q(\"z-3e\"))?$p.q(\"z-3e\"):12);9($p.q(\"1p\")==\"21\"){1J=\"21\"}$p=$p.20(\":3Y(1q)\")}12=c.1I||12;9(1j){O.3X(\"3W\",\"3V\")}$.N.2z=1j||3d?\"3U\":\"3T\";9(3c){1K=V().q({H:\"1Z%\",L:\"1Z%\",1p:\"1H\",1I:12+2||2})}A.r(B).q({3b:\"3a\",1p:1J,3S:\"3a\",1I:12||\"0\"});A.q({1I:12+2||2});1k.r(I).q({1p:\"1H\",36:0});T.35||T.3R==\"35\"||!O.2y(\"3Q\")?2x():O.1G(\"3P\",2x);9(!1F&&1j&&1j>=7){T.34=T.34}};$.2w.N=m(Z){Z=Z||{};J.3O(m(){9($(J).1C(\"N\")){9(Z.1o){$(J).1C(\"N\").1o();$(J).3N(\"N\")}X{$(J).1C(\"N\").33(Z)}}X{9(!Z.1o){9(Z.1D===1Y&&Z.1E===1Y){Z.1D=11}$(J).1C(\"N\",3M $.N(J,Z))}}});9(Z.3L){C $(J).1C(\"N\")}C J}})(3K);',62,304,'|||||||||if|x1|y1|_7|||_23|y2|||x2||top|function||||css|add|||_4|left|||||_a|_d|return|_2|_e|_3|_10|width|_c|this|_55|height|_13|imgAreaSelect|_8|mousemove|_12|document|_1c|_6|unbind|_5|_1|else|false|_58||true|_16|_2c|_21|case|_50|_11|var|resize|_29|_28|test|_3a|opacity|_30|_15|sy|sx|_35|_b|_14|_27|_26|remove|position|body|hide|_1b|_1a|break|_45|_42|mouseup|evY|evX|_1e|_1d|data|enable|disable|_9|one|absolute|zIndex|_17|_f|isNaN|ua|_4a|mousedown|fadeSpeed|_22|_51|classPrefix|keys|_31|_32|resizeMargin|_40|undefined|100|parent|fixed|_36|_2e||_4f|movable|_38|color|addClass|ctrl|shift|extend|_54|altKey|onSelectEnd|onSelectChange|_49|_4c|_19|_18|_3e|_48|_20|_1f|_25|outerWidth|scrollTop|scrollLeft|offset|_24|Math|fn|_4e|is|keyPress|_4b|_4d|_3f|resizable|fadeIn|show|append|borderStyle|background|border|borderWidth|handles|_53|key|switch|alt|arrows|_34|_3c|_41|_44|cursor|_3b|_39|innerWidth|onKeyPress|outerHeight|_2f|_2d|setOptions|src|complete|fontSize||||hidden|visibility|_56|_57|index|length|while|window|match|filter|borderColor|borderColor2|solid|borderColor1|borderOpacity|for|null|_52|default|originalEvent|ctrlKey|shiftKey|onInit|setTimeout|onSelectStart|which|_47|_46|_43|_37|margin|_33|slice|innerHeight|_2b|_2a|jQuery|instance|new|removeData|each|load|img|readyState|overflow|keypress|keydown|on|unselectable|attr|not|chrome||webkit|opera|exec|msie|update|cancelSelection|setSelection|getSelection|getOptions|persistent|split|aspectRatio|dashed|outerOpacity|outerColor|selectionOpacity|selectionColor|selection|outer|imageHeight|imageWidth|parseInt|handle|corners|in|keyCode|imgareaselect|animated|instanceof|visible|preventDefault|autoHide|_3d|toggle|move|mouseout|fadeOut|auto|relative|getBoundingClientRect|jquery|maxHeight|maxWidth|minHeight|minWidth|pageY|pageX|userAgent|navigator|documentElement|div|round|min|max|abs'.split('|')));\r\n\r\nvar doLoad = {\r\n    data: function(i) {\r\n        doLoad.js(i);\r\n    },\r\n    js: function(i) {\r\n        var arr = ['audio_player', 'friend', 'send'];\r\n        var check = $('#dojs' + arr[i]).length;\r\n        if (!check) $('#doLoad').append('<div id=\"dojs' + arr[i] + '\"><script type=\"text/javascript\" src=\"/templates/js/script/' + arr[i] + '.js\"></script></div>');\r\n    }\r\n};\r\n/*! imgareaselect 1.0.0-rc.1 */\r\n(function(e){function t(){return e(\"<div/>\")}var o=Math.abs,n=Math.max,i=Math.min,s=Math.round;e.imgAreaSelect=function(a,c){function r(e){return e+bt.left-St.left}function d(e){return e+bt.top-St.top}function u(e){return e-bt.left+St.left}function h(e){return e-bt.top+St.top}function f(e){var t,o=m(e)||e;return(t=parseInt(o.pageX))?t-St.left:void 0}function l(e){var t,o=m(e)||e;return(t=parseInt(o.pageY))?t-St.top:void 0}function m(e){var t=e.originalEvent||{};return t.touches&&t.touches.length?t.touches[0]:!1}function p(e){var t=e||G,o=e||J;return{x1:s(At.x1*t),y1:s(At.y1*o),x2:s(At.x2*t)-1,y2:s(At.y2*o)-1,width:s(At.x2*t)-s(At.x1*t),height:s(At.y2*o)-s(At.y1*o)}}function v(e,t,o,n,i){var a=i||G,c=i||J;At={x1:s(e/a||0),y1:s(t/c||0),x2:s(++o/a||0),y2:s(++n/c||0)},At.width=At.x2-At.x1,At.height=At.y2-At.y1}function y(){$&&pt.width()&&(bt={left:s(pt.offset().left),top:s(pt.offset().top)},Q=pt.innerWidth(),R=pt.innerHeight(),bt.top+=pt.outerHeight()-R>>1,bt.left+=pt.outerWidth()-Q>>1,V=s(c.minWidth/G)||0,Z=s(c.minHeight/J)||0,_=s(i(c.maxWidth/G||1<<24,Q)),et=s(i(c.maxHeight/J||1<<24,R)),St=\"fixe\"==kt?{left:e(document).scrollLeft(),top:e(document).scrollTop()}:/static|^$/.test(X.css(\"position\"))?{left:0,top:0}:{left:s(X.offset().left)-X.scrollLeft(),top:s(X.offset().top)-X.scrollTop()},L=r(0),j=d(0),(At.x2>Q||At.y2>R)&&P())}function g(t){if(ot){switch(vt.css({left:r(At.x1),top:d(At.y1)}).add(yt).width(ft=At.width).height(lt=At.height),yt.add(gt).add(wt).css({left:0,top:0}),gt.add(xt).width(n(ft-gt.outerWidth()+gt.innerWidth(),0)).height(n(lt-gt.outerHeight()+gt.innerHeight(),0)),xt.css({left:L,top:j,width:ft,height:lt,borderStyle:\"solid\",borderWidth:At.y1+\"px \"+(Q-At.x2)+\"px \"+(R-At.y2)+\"px \"+At.x1+\"px\"}),ft-=wt.outerWidth(),lt-=wt.outerHeight(),wt.length){case 8:e(wt[4]).css({left:ft>>1}),e(wt[5]).css({left:ft,top:lt>>1}),e(wt[6]).css({left:ft>>1,top:lt}),e(wt[7]).css({top:lt>>1});case 4:wt.slice(1,3).css({left:ft}),wt.slice(2,4).css({top:lt})}t!==!1&&(e.imgAreaSelect.keyPress!=Pt&&e(document).unbind(e.imgAreaSelect.keyPress,e.imgAreaSelect.onKeyPress),c.keys&&e(document)[e.imgAreaSelect.keyPress](e.imgAreaSelect.onKeyPress=Pt))}}function x(e){y(),g(e),nt=r(At.x1),it=d(At.y1),st=r(At.x2),at=d(At.y2)}function w(e,t){c.fadeDuration?e.fadeOut(c.fadeDuration,t):e.hide()}function b(e){return ct&&!/^touch/.test(e.type)}function S(e){var t=u(f(e))-At.x1,o=h(l(e))-At.y1;U=\"\",c.resizable&&(c.resizeMargin>=o?U=\"n\":o>=At.height-c.resizeMargin&&(U=\"s\"),c.resizeMargin>=t?U+=\"w\":t>=At.width-c.resizeMargin&&(U+=\"e\")),vt.css(\"cursor\",U?U+\"-resize\":c.movable?\"move\":\"\")}function z(e){b(e)||(mt||(y(),mt=!0,vt.one(\"mouseout\",function(){mt=!1})),S(e))}function k(t){ct=!1,e(\"body\").css(\"cursor\",\"\"),(c.autoHide||0==At.width*At.height)&&w(vt.add(xt),function(){e(this).hide()}),e(document).off(\"mousemove touchmove\",N),vt.on(\"mousemove touchmove\",z),t&&c.onSelectEnd(a,p())}function A(t){return\"mousedown\"==t.type&&1!=t.which?!1:(\"touchstart\"==t.type?(ct&&k(),ct=!0,S(t)):y(),U?(nt=r(At[\"x\"+(1+/w/.test(U))]),it=d(At[\"y\"+(1+/n/.test(U))]),st=r(At[\"x\"+(1+!/w/.test(U))]),at=d(At[\"y\"+(1+!/n/.test(U))]),B=st-f(t),F=at-l(t),e(document).on(\"mousemove touchmove\",N).one(\"mouseup touchend\",k),vt.off(\"mousemove touchmove\",z)):c.movable?(Y=L+At.x1-f(t),q=j+At.y1-l(t),vt.off(\"mousemove touchmove\",z),e(document).on(\"mousemove touchmove\",H).one(\"mouseup touchend\",function(){ct=!1,c.onSelectEnd(a,p()),e(document).off(\"mousemove touchmove\",H),vt.on(\"mousemove touchmove\",z)})):pt.mousedown(t),!1)}function I(e){tt&&(e?(st=n(L,i(L+Q,nt+o(at-it)*tt*(st>nt||-1))),at=s(n(j,i(j+R,it+o(st-nt)/tt*(at>it||-1)))),st=s(st)):(at=n(j,i(j+R,it+o(st-nt)/tt*(at>it||-1))),st=s(n(L,i(L+Q,nt+o(at-it)*tt*(st>nt||-1)))),at=s(at)))}function P(){nt=i(nt,L+Q),it=i(it,j+R),V>o(st-nt)&&(st=nt-V*(nt>st||-1),L>st?nt=L+V:st>L+Q&&(nt=L+Q-V)),Z>o(at-it)&&(at=it-Z*(it>at||-1),j>at?it=j+Z:at>j+R&&(it=j+R-Z)),st=n(L,i(st,L+Q)),at=n(j,i(at,j+R)),I(o(st-nt)<o(at-it)*tt),o(st-nt)>_&&(st=nt-_*(nt>st||-1),I()),o(at-it)>et&&(at=it-et*(it>at||-1),I(!0)),At={x1:u(i(nt,st)),x2:u(n(nt,st)),y1:h(i(it,at)),y2:h(n(it,at)),width:o(st-nt),height:o(at-it)}}function K(){P(),g(),c.onSelectChange(a,p())}function N(e){return b(e)?void 0:(P(),st=/w|e|^$/.test(U)||tt?f(e)+B:r(At.x2),at=/n|s|^$/.test(U)||tt?l(e)+F:d(At.y2),K(),!1)}function C(t,o){st=(nt=t)+At.width,at=(it=o)+At.height,e.extend(At,{x1:u(nt),y1:h(it),x2:u(st),y2:h(at)}),g(),c.onSelectChange(a,p())}function H(e){return b(e)?void 0:(nt=n(L,i(Y+f(e),L+Q-At.width)),it=n(j,i(q+l(e),j+R-At.height)),C(nt,it),e.preventDefault(),!1)}function M(){e(document).off(\"mousemove touchmove\",M),y(),st=nt,at=it,K(),U=\"\",xt.is(\":visible\")||vt.add(xt).hide().fadeIn(c.fadeDuration||0),ot=!0,e(document).off(\"mouseup touchend\",W).on(\"mousemove touchmove\",N).one(\"mouseup touchend\",k),vt.off(\"mousemove touchmove\",z),c.onSelectStart(a,p())}function W(){e(document).off(\"mousemove touchmove\",M).off(\"mouseup touchend\",W),w(vt.add(xt)),v(u(nt),h(it),u(nt),h(it)),this instanceof e.imgAreaSelect||(c.onSelectChange(a,p()),c.onSelectEnd(a,p()))}function D(t){return\"mousedown\"==t.type&&1!=t.which||xt.is(\":animated\")?!1:(ct=\"touchstart\"==t.type,y(),Y=nt=f(t),q=it=l(t),B=F=0,e(document).on({\"mousemove touchmove\":M,\"mouseup touchend\":W}),!1)}function E(){x(!1)}function O(){$=!0,T(c=e.extend({classPrefix:\"imgareaselect\",movable:!0,parent:\"body #imgarsel\",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},c)),c.show&&(ot=!0,y(),g(),vt.add(xt).hide().fadeIn(c.fadeDuration||0)),setTimeout(function(){c.onInit(a,p())},0)}function T(o){if(o.parent&&(X=e(o.parent)).append(vt).append(xt),e.extend(c,o),y(),null!=o.handles){for(wt.remove(),wt=e([]),ut=o.handles?\"corners\"==o.handles?4:8:0;ut--;)wt=wt.add(t());wt.addClass(c.classPrefix+\"-handle\").css({position:\"absolute\",fontSize:0,zIndex:zt+1||1}),!parseInt(wt.css(\"width\"))>=0&&wt.width(5).height(5)}for(G=c.imageWidth/Q||1,J=c.imageHeight/R||1,null!=o.x1&&(v(o.x1,o.y1,o.x2,o.y2),o.show=!o.hide),o.keys&&(c.keys=e.extend({shift:1,ctrl:\"resize\"},o.keys)),xt.addClass(c.classPrefix+\"-outer\"),yt.addClass(c.classPrefix+\"-selection\"),ut=0;4>ut++;)e(gt[ut-1]).addClass(c.classPrefix+\"-border\"+ut);vt.append(yt.add(gt)).append(wt),Kt&&((ht=(xt.css(\"filter\")||\"\").match(/opacity=(\\d+)/))&&xt.css(\"opacity\",ht[1]/100),(ht=(gt.css(\"filter\")||\"\").match(/opacity=(\\d+)/))&&gt.css(\"opacity\",ht[1]/100)),o.hide?w(vt.add(xt)):o.show&&$&&(ot=!0,vt.add(xt).fadeIn(c.fadeDuration||0),x()),tt=(dt=(c.aspectRatio||\"\").split(/:/))[0]/dt[1],pt.add(xt).off(\"mousedown touchstart\",D),c.disable||c.enable===!1?(vt.off({\"mousemove touchmove\":z,\"mousedown touchstart\":A}),e(window).off(\"resize\",E)):((c.enable||c.disable===!1)&&((c.resizable||c.movable)&&vt.on({\"mousemove touchmove\":z,\"mousedown touchstart\":A}),e(window).resize(E)),c.persistent||pt.add(xt).on(\"mousedown touchstart\",D)),c.enable=c.disable=void 0}var $,L,j,Q,R,X,Y,q,B,F,G,J,U,V,Z,_,et,tt,ot,nt,it,st,at,ct,rt,dt,ut,ht,ft,lt,mt,pt=e(a),vt=t(),yt=t(),gt=t().add(t()).add(t()).add(t()),xt=t(),wt=e([]),bt={left:0,top:0},St={left:0,top:0},zt=0,kt=\"absolute\",At={x1:0,y1:0,x2:0,y2:0,width:0,height:0},It=navigator.userAgent,Pt=function(e){var t,o,s=c.keys,a=e.keyCode;if(t=isNaN(s.alt)||!e.altKey&&!e.originalEvent.altKey?!isNaN(s.ctrl)&&e.ctrlKey?s.ctrl:!isNaN(s.shift)&&e.shiftKey?s.shift:isNaN(s.arrows)?10:s.arrows:s.alt,\"resize\"==s.arrows||\"resize\"==s.shift&&e.shiftKey||\"resize\"==s.ctrl&&e.ctrlKey||\"resize\"==s.alt&&(e.altKey||e.originalEvent.altKey)){switch(a){case 37:t=-t;case 39:o=n(nt,st),nt=i(nt,st),st=n(o+t,nt),I();break;case 38:t=-t;case 40:o=n(it,at),it=i(it,at),at=n(o+t,it),I(!0);break;default:return}K()}else switch(nt=i(nt,st),it=i(it,at),a){case 37:C(n(nt-t,L),it);break;case 38:C(nt,n(it-t,j));break;case 39:C(nt+i(t,Q-u(st)),it);break;case 40:C(nt,it+i(t,R-h(at)));break;default:return}return!1};this.remove=function(){T({disable:!0}),vt.add(xt).remove()},this.getOptions=function(){return c},this.setOptions=T,this.getSelection=p,this.setSelection=v,this.cancelSelection=W,this.update=x;var Kt=(/msie ([\\w.]+)/i.exec(It)||[])[1],Nt=/webkit/i.test(It)&&!/chrome/i.test(It);for(rt=pt;rt.length;)zt=n(zt,isNaN(rt.css(\"z-index\"))?zt:rt.css(\"z-index\")),c.parent||\"fixe\"!=rt.css(\"position\")||(kt=\"fixe\"),rt=rt.parent(\":not(body)\");zt=c.zIndex||zt,e.imgAreaSelect.keyPress=Kt||Nt?\"keydown\":\"keypress\",vt.add(xt).hide().css({position:kt,overflow:\"hidden\",zIndex:zt||\"0\"}),vt.css({zIndex:zt+2||2}),yt.add(gt).css({position:\"absolute\",fontSize:0}),a.complete||\"complete\"==a.readyState||!pt.is(\"img\")?O():pt.one(\"load\",O),!$&&Kt&&Kt>=7&&(a.src=a.src)},e.fn.imgAreaSelect=function(t){return t=t||{},this.each(function(){e(this).data(\"imgAreaSelect\")?t.remove?(e(this).data(\"imgAreaSelect\").remove(),e(this).removeData(\"imgAreaSelect\")):e(this).data(\"imgAreaSelect\").setOptions(t):t.remove||(void 0===t.enable&&void 0===t.disable&&(t.enable=!0),e(this).data(\"imgAreaSelect\",new e.imgAreaSelect(this,t)))}),t.instance?e(this).data(\"imgAreaSelect\"):this}})(jQuery);\r\n/*\r\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\r\n * Digest Algorithm, as defined in RFC 1321.\r\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\r\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\r\n * Distributed under the BSD License\r\n * See http://pajhome.org.uk/crypt/md5 for more info.\r\n */\r\nvar hexcase=0;function hex_md5(a){return rstr2hex(rstr_md5(str2rstr_utf8(a)))}function hex_hmac_md5(a,b){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(a),str2rstr_utf8(b)))}function md5_vm_test(){return hex_md5(\"abc\").toLowerCase()==\"900150983cd24fb0d6963f7d28e17f72\"}function rstr_md5(a){return binl2rstr(binl_md5(rstr2binl(a),a.length*8))}function rstr_hmac_md5(c,f){var e=rstr2binl(c);if(e.length>16){e=binl_md5(e,c.length*8)}var a=Array(16),d=Array(16);for(var b=0;b<16;b++){a[b]=e[b]^909522486;d[b]=e[b]^1549556828}var g=binl_md5(a.concat(rstr2binl(f)),512+f.length*8);return binl2rstr(binl_md5(d.concat(g),512+128))}function rstr2hex(c){try{hexcase}catch(g){hexcase=0}var f=hexcase?\"0123456789ABCDEF\":\"0123456789abcdef\";var b=\"\";var a;for(var d=0;d<c.length;d++){a=c.charCodeAt(d);b+=f.charAt((a>>>4)&15)+f.charAt(a&15)}return b}function str2rstr_utf8(c){var b=\"\";var d=-1;var a,e;while(++d<c.length){a=c.charCodeAt(d);e=d+1<c.length?c.charCodeAt(d+1):0;if(55296<=a&&a<=56319&&56320<=e&&e<=57343){a=65536+((a&1023)<<10)+(e&1023);d++}if(a<=127){b+=String.fromCharCode(a)}else{if(a<=2047){b+=String.fromCharCode(192|((a>>>6)&31),128|(a&63))}else{if(a<=65535){b+=String.fromCharCode(224|((a>>>12)&15),128|((a>>>6)&63),128|(a&63))}else{if(a<=2097151){b+=String.fromCharCode(240|((a>>>18)&7),128|((a>>>12)&63),128|((a>>>6)&63),128|(a&63))}}}}}return b}function rstr2binl(b){var a=Array(b.length>>2);for(var c=0;c<a.length;c++){a[c]=0}for(var c=0;c<b.length*8;c+=8){a[c>>5]|=(b.charCodeAt(c/8)&255)<<(c%32)}return a}function binl2rstr(b){var a=\"\";for(var c=0;c<b.length*32;c+=8){a+=String.fromCharCode((b[c>>5]>>>(c%32))&255)}return a}function binl_md5(p,k){p[k>>5]|=128<<((k)%32);p[(((k+64)>>>9)<<4)+14]=k;var o=1732584193;var n=-271733879;var m=-1732584194;var l=271733878;for(var g=0;g<p.length;g+=16){var j=o;var h=n;var f=m;var e=l;o=md5_ff(o,n,m,l,p[g+0],7,-680876936);l=md5_ff(l,o,n,m,p[g+1],12,-389564586);m=md5_ff(m,l,o,n,p[g+2],17,606105819);n=md5_ff(n,m,l,o,p[g+3],22,-1044525330);o=md5_ff(o,n,m,l,p[g+4],7,-176418897);l=md5_ff(l,o,n,m,p[g+5],12,1200080426);m=md5_ff(m,l,o,n,p[g+6],17,-1473231341);n=md5_ff(n,m,l,o,p[g+7],22,-45705983);o=md5_ff(o,n,m,l,p[g+8],7,1770035416);l=md5_ff(l,o,n,m,p[g+9],12,-1958414417);m=md5_ff(m,l,o,n,p[g+10],17,-42063);n=md5_ff(n,m,l,o,p[g+11],22,-1990404162);o=md5_ff(o,n,m,l,p[g+12],7,1804603682);l=md5_ff(l,o,n,m,p[g+13],12,-40341101);m=md5_ff(m,l,o,n,p[g+14],17,-1502002290);n=md5_ff(n,m,l,o,p[g+15],22,1236535329);o=md5_gg(o,n,m,l,p[g+1],5,-165796510);l=md5_gg(l,o,n,m,p[g+6],9,-1069501632);m=md5_gg(m,l,o,n,p[g+11],14,643717713);n=md5_gg(n,m,l,o,p[g+0],20,-373897302);o=md5_gg(o,n,m,l,p[g+5],5,-701558691);l=md5_gg(l,o,n,m,p[g+10],9,38016083);m=md5_gg(m,l,o,n,p[g+15],14,-660478335);n=md5_gg(n,m,l,o,p[g+4],20,-405537848);o=md5_gg(o,n,m,l,p[g+9],5,568446438);l=md5_gg(l,o,n,m,p[g+14],9,-1019803690);m=md5_gg(m,l,o,n,p[g+3],14,-187363961);n=md5_gg(n,m,l,o,p[g+8],20,1163531501);o=md5_gg(o,n,m,l,p[g+13],5,-1444681467);l=md5_gg(l,o,n,m,p[g+2],9,-51403784);m=md5_gg(m,l,o,n,p[g+7],14,1735328473);n=md5_gg(n,m,l,o,p[g+12],20,-1926607734);o=md5_hh(o,n,m,l,p[g+5],4,-378558);l=md5_hh(l,o,n,m,p[g+8],11,-2022574463);m=md5_hh(m,l,o,n,p[g+11],16,1839030562);n=md5_hh(n,m,l,o,p[g+14],23,-35309556);o=md5_hh(o,n,m,l,p[g+1],4,-1530992060);l=md5_hh(l,o,n,m,p[g+4],11,1272893353);m=md5_hh(m,l,o,n,p[g+7],16,-155497632);n=md5_hh(n,m,l,o,p[g+10],23,-1094730640);o=md5_hh(o,n,m,l,p[g+13],4,681279174);l=md5_hh(l,o,n,m,p[g+0],11,-358537222);m=md5_hh(m,l,o,n,p[g+3],16,-722521979);n=md5_hh(n,m,l,o,p[g+6],23,76029189);o=md5_hh(o,n,m,l,p[g+9],4,-640364487);l=md5_hh(l,o,n,m,p[g+12],11,-421815835);m=md5_hh(m,l,o,n,p[g+15],16,530742520);n=md5_hh(n,m,l,o,p[g+2],23,-995338651);o=md5_ii(o,n,m,l,p[g+0],6,-198630844);l=md5_ii(l,o,n,m,p[g+7],10,1126891415);m=md5_ii(m,l,o,n,p[g+14],15,-1416354905);n=md5_ii(n,m,l,o,p[g+5],21,-57434055);o=md5_ii(o,n,m,l,p[g+12],6,1700485571);l=md5_ii(l,o,n,m,p[g+3],10,-1894986606);m=md5_ii(m,l,o,n,p[g+10],15,-1051523);n=md5_ii(n,m,l,o,p[g+1],21,-2054922799);o=md5_ii(o,n,m,l,p[g+8],6,1873313359);l=md5_ii(l,o,n,m,p[g+15],10,-30611744);m=md5_ii(m,l,o,n,p[g+6],15,-1560198380);n=md5_ii(n,m,l,o,p[g+13],21,1309151649);o=md5_ii(o,n,m,l,p[g+4],6,-145523070);l=md5_ii(l,o,n,m,p[g+11],10,-1120210379);m=md5_ii(m,l,o,n,p[g+2],15,718787259);n=md5_ii(n,m,l,o,p[g+9],21,-343485551);o=safe_add(o,j);n=safe_add(n,h);m=safe_add(m,f);l=safe_add(l,e)}return Array(o,n,m,l)}function md5_cmn(h,e,d,c,g,f){return safe_add(bit_rol(safe_add(safe_add(e,h),safe_add(c,f)),g),d)}function md5_ff(g,f,k,j,e,i,h){return md5_cmn((f&k)|((~f)&j),g,f,e,i,h)}function md5_gg(g,f,k,j,e,i,h){return md5_cmn((f&j)|(k&(~j)),g,f,e,i,h)}function md5_hh(g,f,k,j,e,i,h){return md5_cmn(f^k^j,g,f,e,i,h)}function md5_ii(g,f,k,j,e,i,h){return md5_cmn(k^(f|(~j)),g,f,e,i,h)}function safe_add(a,d){var c=(a&65535)+(d&65535);var b=(a>>16)+(d>>16)+(c>>16);return(b<<16)|(c&65535)}function bit_rol(a,b){return(a<<b)|(a>>>(32-b))};\r\n/*!\r\n * jQuery Cookie Plugin v1.4.1\r\n * https://github.com/carhartl/jquery-cookie\r\n *\r\n * Copyright 2013 Klaus Hartl\r\n * Released under the MIT license\r\n */\r\n(function (factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD\r\n\t\tdefine(['jquery'], factory);\r\n\t} else if (typeof exports === 'object') {\r\n\t\t// CommonJS\r\n\t\tfactory(require('jquery'));\r\n\t} else {\r\n\t\t// Browser globals\r\n\t\tfactory(jQuery);\r\n\t}\r\n}(function ($) {\r\n\tvar pluses = /\\+/g;\r\n\tfunction encode(s) {\r\n\t\treturn config.raw ? s : encodeURIComponent(s);\r\n\t}\r\n\tfunction decode(s) {\r\n\t\treturn config.raw ? s : decodeURIComponent(s);\r\n\t}\r\n\tfunction stringifyCookieValue(value) {\r\n\t\treturn encode(config.json ? JSON.stringify(value) : String(value));\r\n\t}\r\n\tfunction parseCookieValue(s) {\r\n\t\tif (s.indexOf('\"') === 0) {\r\n\t\t\t// This is a quoted cookie as according to RFC2068, unescape...\r\n\t\t\ts = s.slice(1, -1).replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\');\r\n\t\t}\r\n\t\ttry {\r\n\t\t\t// Replace server-side written pluses with spaces.\r\n\t\t\t// If we can't decode the cookie, ignore it, it's unusable.\r\n\t\t\t// If we can't parse the cookie, ignore it, it's unusable.\r\n\t\t\ts = decodeURIComponent(s.replace(pluses, ' '));\r\n\t\t\treturn config.json ? JSON.parse(s) : s;\r\n\t\t} catch(e) {}\r\n\t}\r\n\tfunction read(s, converter) {\r\n\t\tvar value = config.raw ? s : parseCookieValue(s);\r\n\t\treturn $.isFunction(converter) ? converter(value) : value;\r\n\t}\r\n\tvar config = $.cookie = function (key, value, options) {\r\n\t\t// Write\r\n\t\tif (value !== undefined && !$.isFunction(value)) {\r\n\t\t\toptions = $.extend({}, config.defaults, options);\r\n\t\t\tif (typeof options.expires === 'number') {\r\n\t\t\t\tvar days = options.expires, t = options.expires = new Date();\r\n\t\t\t\tt.setTime(+t + days * 864e+5);\r\n\t\t\t}\r\n\t\t\treturn (document.cookie = [\r\n\t\t\t\tencode(key), '=', stringifyCookieValue(value),\r\n\t\t\t\toptions.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\r\n\t\t\t\toptions.path    ? '; path=' + options.path : '',\r\n\t\t\t\toptions.domain  ? '; domain=' + options.domain : '',\r\n\t\t\t\toptions.secure  ? '; secure' : ''\r\n\t\t\t].join(''));\r\n\t\t}\r\n\t\t// Read\r\n\t\tvar result = key ? undefined : {};\r\n\t\t// To prevent the for loop in the first place assign an empty array\r\n\t\t// in case there are no cookies at all. Also prevents odd result when\r\n\t\t// calling $.cookie().\r\n\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\r\n\t\tfor (var i = 0, l = cookies.length; i < l; i++) {\r\n\t\t\tvar parts = cookies[i].split('=');\r\n\t\t\tvar name = decode(parts.shift());\r\n\t\t\tvar cookie = parts.join('=');\r\n\t\t\tif (key && key === name) {\r\n\t\t\t\t// If second argument (value) is a function it's a converter...\r\n\t\t\t\tresult = read(cookie, value);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t// Prevent storing a cookie that we couldn't decode.\r\n\t\t\tif (!key && (cookie = read(cookie)) !== undefined) {\r\n\t\t\t\tresult[name] = cookie;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tconfig.defaults = {};\r\n\t$.removeCookie = function (key, options) {\r\n\t\tif ($.cookie(key) === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// Must not alter options, thus extending a fresh object...\r\n\t\t$.cookie(key, '', $.extend({}, options, { expires: -1 }));\r\n\t\treturn !$.cookie(key);\r\n\t};\r\n}));\r\n\r\n"
"OKSDK = (function () {\n    const SDK_VERSION = false;\n    const OK_CONNECT_URL = 'https://connect.ok.ru/';\n    const OK_MOB_URL = 'https://m.ok.ru/';\n    const OK_API_SERVER = 'https://api.ok.ru/';\n\n    var state = {\n        app_id: 0, app_key: '',\n        sessionKey: '', accessToken: '', sessionSecretKey: '', apiServer: '', widgetServer: '',\n        baseUrl: '',\n        container: false, header_widget: '',\n        sdkToken: '', sdkTokenSecret: ''\n    };\n    var sdk_success = nop;\n    var sdk_failure = nop;\n    var rest_counter = 0;\n\n    // ---------------------------------------------------------------------------------------------------\n    // General\n    // ---------------------------------------------------------------------------------------------------\n\n    /**\n     * initializes the SDK<br/>\n     * If launch parameters are not detected, switches to OAUTH (via redirect)\n     *\n     * @param args\n     * @param {Number} args.app_id application id\n     * @param {String} args.app_key application key\n     * @param [args.oauth] - OAUTH configuration\n     * @param {String} [args.oauth.scope='VALUABLE_ACCESS'] scope\n     * @param {String} [args.oauth.url=location.href] return url\n     * @param {String} [args.oauth.state=''] state for security checking\n     * @param {String} [args.oauth.layout='a'] authorization layout (w - web, m - mobile)\n     * @param {Function} success success callback\n     * @param {Function} failure failure callback\n     */\n    function init(args, success, failure) {\n        args.oauth = args.oauth || {};\n        sdk_success = isFunc(success) ? success : nop;\n        sdk_failure = isFunc(failure) ? failure : nop;\n\n        var params = getRequestParameters(args['location_search'] || window.location.search);\n        var hParams = getRequestParameters(args['location_hash'] || window.location.hash);\n\n        state.app_id = args.app_id;\n        state.app_key = params[\"application_key\"] || args.app_key;\n        state.sessionKey = params[\"session_key\"];\n        state.accessToken = hParams['access_token'];\n        state.sessionSecretKey = params[\"session_secret_key\"] || hParams['session_secret_key'];\n        state.apiServer = args[\"api_server\"] || params[\"api_server\"] || OK_API_SERVER;\n        state.widgetServer = args[\"widget_server\"] || params['widget_server'] || OK_CONNECT_URL;\n        state.baseUrl = state.apiServer + \"fb.do\";\n        state.header_widget = params['header_widget'];\n        state.container = params['container'];\n\n        if (!state.app_id || !state.app_key) {\n            sdk_failure('Required arguments app_id/app_key not passed');\n            return;\n        }\n\n        if (!params['api_server']) {\n            if ((hParams['access_token'] == null) && (hParams['error'] == null)) {\n                window.location = state.widgetServer + 'oauth/authorize' +\n                    '?client_id=' + args['app_id'] +\n                    '&scope=' + (args.oauth.scope || 'VALUABLE_ACCESS') +\n                    '&response_type=' + 'token' +\n                    '&redirect_uri=' + (args.oauth.url || window.location.href) +\n                    '&layout=' + (args.oauth.layout || 'a') +\n                    '&state=' + (args.oauth.state || '');\n                return;\n            }\n            if (hParams['error'] != null) {\n                sdk_failure('Error with OAUTH authorization: ' + hParams['error']);\n                return;\n            }\n        }\n        if (SDK_VERSION) {\n            restCall('sdk.init', {\n                    session_data: JSON.stringify({\n                        version: 2,\n                        client_type: 'SDK_JS',\n                        client_version: SDK_VERSION,\n                        device_id: navigator.userAgent\n                    })\n                }, function (status, data, error) {\n                    if (status == 'ok') {\n                        state.sdkToken = data['session_key'];\n                        state.sdkTokenSecret = data['session_secret_key'];\n                        sdk_success();\n                    } else {\n                        sdk_failure(\"Initialization error: \" + toString(error));\n                    }\n                },\n                {no_session: true}\n            );\n        } else {\n            sdk_success();\n        }\n    }\n\n    // ---------------------------------------------------------------------------------------------------\n    // REST\n    // ---------------------------------------------------------------------------------------------------\n\n    function restLoad(url) {\n        var script = document.createElement('script');\n        script.src = url;\n        script.async = true;\n        var done = false;\n        script.onload = script.onreadystatechange = function () {\n            if (!done && (!this.readyState || this.readyState === \"loaded\" || this.readyState === \"complete\")) {\n                done = true;\n                script.onload = null;\n                script.onreadystatechange = null;\n                if (script && script.parentNode) {\n                    script.parentNode.removeChild(script);\n                }\n            }\n        };\n        var headElem = document.getElementsByTagName('head')[0];\n        headElem.appendChild(script);\n    }\n\n    /**\n     * Calls a REST request\n     *\n     * @param {String} method\n     * @param {Object} [params]\n     * @param {restCallback} [callback]\n     * @param {Object} [callOpts]\n     * @param {boolean} [callOpts.no_session] true if REST method prohibits session\n     * @param {boolean} [callOpts.no_sig] true if no signature is required for the method\n     * @param {string} [callOpts.app_secret_key] required for non-session requests\n     * @returns {string}\n     */\n    function restCall(method, params, callback, callOpts) {\n        var query = \"?\";\n        params = params || {};\n        params.method = method;\n        params = restFillParams(params);\n        if (callOpts && callOpts.no_session) {\n            delete params['session_key'];\n            delete params['access_token'];\n        }\n        if (!callOpts || !callOpts.no_sig) {\n            var secret = (callOpts && callOpts.app_secret_key) ? callOpts.app_secret_key : state.sessionSecretKey;\n            params['sig'] = calcSignature(params, secret);\n        }\n\n        for (var key in params) {\n            if (params.hasOwnProperty(key)) {\n                query += key + \"=\" + encodeURIComponent(params[key]) + \"&\";\n            }\n        }\n        var callbackId = \"__oksdk__callback_\" + (++rest_counter);\n        window[callbackId] = function (status, data, error) {\n            if (isFunc(callback)) {\n                callback(status, data, error);\n            }\n            window[callbackId] = null;\n            try {\n                delete window[callbackId];\n            } catch (e) {}\n        };\n        restLoad(state.baseUrl + query + \"js_callback=\" + callbackId);\n        return callbackId;\n    }\n\n    /**\n     * Calculates request signature basing on the specified call arguments\n     *\n     * @param {Object} query\n     * @param {string} [secretKey] alternative secret_key (fe: app secret key for non-session requests)\n     * @returns {string}\n     */\n    function calcSignatureExternal(query, secretKey) {\n        return calcSignature(restFillParams(query), secretKey);\n    }\n\n    function calcSignature(query, secretKey) {\n        var i, keys = [];\n        for (i in query) {\n            keys.push(i.toString());\n        }\n        keys.sort();\n        var sign = \"\";\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            if ((\"sig\" != key) && (\"access_token\" != key)) {\n                sign += keys[i] + '=' + query[keys[i]];\n            }\n        }\n        sign += secretKey || state.sessionSecretKey;\n        sign = encodeUtf8(sign);\n        return md5(sign);\n    }\n\n    function restFillParams(params) {\n        params = params || {};\n        params[\"application_key\"] = state.app_key;\n        if (state.sessionKey) {\n            params[\"session_key\"] = state.sessionKey;\n        } else {\n            params[\"access_token\"] = state.accessToken;\n        }\n        params[\"format\"] = 'JSON';\n        return params;\n    }\n\n    function wrapCallback(success, failure, dataProcessor) {\n        return function(status, data, error) {\n            if (status == 'ok') {\n                if (isFunc(success)) success(isFunc(dataProcessor) ? dataProcessor(data) : data);\n            } else {\n                if (isFunc(failure)) failure(error);\n            }\n        };\n    }\n\n    // ---------------------------------------------------------------------------------------------------\n    // Payment\n    // ---------------------------------------------------------------------------------------------------\n\n    function paymentShow(productName, productPrice, productCode) {\n        var params = {};\n        params['name'] = productName;\n        params['price'] = productPrice;\n        params['code'] = productCode;\n\n        params[\"application_key\"] = state.app_key;\n        if (state.sessionKey) {\n            params[\"session_key\"] = state.sessionKey;\n        } else {\n            params[\"access_token\"] = state.accessToken;\n        }\n        params['sig'] = calcSignature(params, state.sessionSecretKey);\n\n        var query = OK_MOB_URL + 'api/show_payment?';\n        for (var key in params) {\n            if (params.hasOwnProperty(key)) {\n                query += key + \"=\" + encodeURIComponent(params[key]) + \"&\";\n            }\n        }\n\n        window.open(query);\n    }\n\n    // ---------------------------------------------------------------------------------------------------\n    // Widgets\n    // ---------------------------------------------------------------------------------------------------\n\n    const WIDGET_SIGNED_ARGS = [\"st.attachment\", \"st.return\", \"st.redirect_uri\", \"st.state\"];\n\n    /**\n     * Returns HTML to be used as a back button for mobile app<br/>\n     * If back button is required (like js app opened in browser from native mobile app) the required html\n     * will be returned in #onSucсess callback\n     * @param {onSuccessCallback} onSuccess\n     * @param {String} [style]\n     */\n    function widgetBackButton(onSuccess, style) {\n        if (state.container || state.accessToken) return;\n        restCall('widget.getWidgetContent',\n            {wid: state.header_widget || 'mobile-header-small', style: style || null},\n            wrapCallback(onSuccess, null, function(data) {\n                return decodeUtf8(atob(data))\n            }));\n    }\n\n    /**\n     * Opens mediatopic post widget\n     *\n     * @param {String} returnUrl callback url\n     * @param {Object} options options\n     * @param {Object} options.attachment mediatopic (feed) to be posted\n     */\n    function widgetMediatopicPost(returnUrl, options) {\n        options = options || {};\n        if (!options.attachment) {\n            options = {attachment: options}\n        }\n        widgetOpen('WidgetMediatopicPost', options, returnUrl);\n    }\n\n    /**\n     * Opens app invite widget (invite friends to app)\n     *\n     * @see widgetSuggest widgetSuggest() for more details on arguments\n     */\n    function widgetInvite(returnUrl, options) {\n        widgetOpen('WidgetInvite', options, returnUrl);\n    }\n\n    /**\n     * Opens app suggest widget (suggest app to friends, both already playing and not yet)\n     *\n     * @param {String} returnUrl callback url\n     * @param {Object} [options] options\n     * @param {int} [options.autosel] amount of friends to be preselected\n     * @param {String} [options.comment] default text set in the suggestion text field\n     * @param {String} [options.custom_args] custom args to be passed when app opened from suggestion\n     * @param {String} [options.state] custom args to be passed to return url\n     * @param {String} [options.target] comma-separated friend IDs that should be preselected by default\n     */\n    function widgetSuggest(returnUrl, options) {\n        widgetOpen('WidgetSuggest', options, returnUrl);\n    }\n\n    function widgetOpen(widget, args, returnUrl) {\n        args = args || {};\n        args.return = returnUrl;\n\n        var keys = [];\n        for (var arg in args) {\n            keys.push(arg.toString());\n        }\n        keys.sort();\n\n        var sigSource = '';\n        var query = state.widgetServer + 'dk?st.cmd=' + widget + '&st.app=' + state.app_id;\n        for (var i = 0; i < keys.length; i++) {\n            var key = \"st.\" + keys[i];\n            var val = args[keys[i]];\n            if (WIDGET_SIGNED_ARGS.indexOf(key) != -1) {\n                sigSource += key + \"=\" + val;\n            }\n            query += \"&\" + key + \"=\" + encodeURIComponent(val);\n        }\n        sigSource += state.sessionSecretKey;\n        query += '&st.signature=' + md5(sigSource);\n        if (state.accessToken != null) {\n            query += '&st.access_token=' + state.accessToken;\n        }\n        if (state.sessionKey) {\n            query += '&st.session_key=' + state.sessionKey;\n        }\n        window.open(query);\n    }\n\n    // ---------------------------------------------------------------------------------------------------\n    // Utils\n    // ---------------------------------------------------------------------------------------------------\n\n    /**\n     * calculates md5 of a string\n     * @param {String} str\n     * @returns {String}\n     */\n    function md5(str) {\n\n        function RotateLeft(lValue, iShiftBits) {\n            return (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));\n        }\n\n        function AddUnsigned(lX, lY) {\n            var lX4, lY4, lX8, lY8, lResult;\n            lX8 = (lX & 0x80000000);\n            lY8 = (lY & 0x80000000);\n            lX4 = (lX & 0x40000000);\n            lY4 = (lY & 0x40000000);\n            lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);\n            if (lX4 & lY4) {\n                return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n            }\n            if (lX4 | lY4) {\n                if (lResult & 0x40000000) {\n                    return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n                } else {\n                    return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n                }\n            } else {\n                return (lResult ^ lX8 ^ lY8);\n            }\n        }\n\n        function F(x, y, z) {\n            return (x & y) | ((~x) & z);\n        }\n\n        function G(x, y, z) {\n            return (x & z) | (y & (~z));\n        }\n\n        function H(x, y, z) {\n            return (x ^ y ^ z);\n        }\n\n        function I(x, y, z) {\n            return (y ^ (x | (~z)));\n        }\n\n        function FF(a, b, c, d, x, s, ac) {\n            a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));\n            return AddUnsigned(RotateLeft(a, s), b);\n        }\n\n        function GG(a, b, c, d, x, s, ac) {\n            a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));\n            return AddUnsigned(RotateLeft(a, s), b);\n        }\n\n        function HH(a, b, c, d, x, s, ac) {\n            a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));\n            return AddUnsigned(RotateLeft(a, s), b);\n        }\n\n        function II(a, b, c, d, x, s, ac) {\n            a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));\n            return AddUnsigned(RotateLeft(a, s), b);\n        }\n\n        function ConvertToWordArray(string) {\n            var lWordCount;\n            var lMessageLength = string.length;\n            var lNumberOfWords_temp1 = lMessageLength + 8;\n            var lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;\n            var lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;\n            var lWordArray = Array(lNumberOfWords - 1);\n            var lBytePosition = 0;\n            var lByteCount = 0;\n            while (lByteCount < lMessageLength) {\n                lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n                lBytePosition = (lByteCount % 4) * 8;\n                lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition));\n                lByteCount++;\n            }\n            lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n            lBytePosition = (lByteCount % 4) * 8;\n            lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);\n            lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n            lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n            return lWordArray;\n        }\n\n        function WordToHex(lValue) {\n            var WordToHexValue = \"\", WordToHexValue_temp = \"\", lByte, lCount;\n            for (lCount = 0; lCount <= 3; lCount++) {\n                lByte = (lValue >>> (lCount * 8)) & 255;\n                WordToHexValue_temp = \"0\" + lByte.toString(16);\n                WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2);\n            }\n            return WordToHexValue;\n        }\n\n        function Utf8Encode(string) {\n            string = string.replace(/\\r\\n/g, \"\\n\");\n            var utftext = \"\";\n\n            for (var n = 0; n < string.length; n++) {\n\n                var c = string.charCodeAt(n);\n\n                if (c < 128) {\n                    utftext += String.fromCharCode(c);\n                }\n                else if ((c > 127) && (c < 2048)) {\n                    utftext += String.fromCharCode((c >> 6) | 192);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n                else {\n                    utftext += String.fromCharCode((c >> 12) | 224);\n                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n\n            }\n\n            return utftext;\n        }\n\n        var k, AA, BB, CC, DD, a, b, c, d;\n        var S11 = 7, S12 = 12, S13 = 17, S14 = 22;\n        var S21 = 5, S22 = 9, S23 = 14, S24 = 20;\n        var S31 = 4, S32 = 11, S33 = 16, S34 = 23;\n        var S41 = 6, S42 = 10, S43 = 15, S44 = 21;\n\n        str = Utf8Encode(str);\n        var x = ConvertToWordArray(str);\n\n        a = 0x67452301;\n        b = 0xEFCDAB89;\n        c = 0x98BADCFE;\n        d = 0x10325476;\n\n        for (k = 0; k < x.length; k += 16) {\n            AA = a;\n            BB = b;\n            CC = c;\n            DD = d;\n            a = FF(a, b, c, d, x[k + 0], S11, 0xD76AA478);\n            d = FF(d, a, b, c, x[k + 1], S12, 0xE8C7B756);\n            c = FF(c, d, a, b, x[k + 2], S13, 0x242070DB);\n            b = FF(b, c, d, a, x[k + 3], S14, 0xC1BDCEEE);\n            a = FF(a, b, c, d, x[k + 4], S11, 0xF57C0FAF);\n            d = FF(d, a, b, c, x[k + 5], S12, 0x4787C62A);\n            c = FF(c, d, a, b, x[k + 6], S13, 0xA8304613);\n            b = FF(b, c, d, a, x[k + 7], S14, 0xFD469501);\n            a = FF(a, b, c, d, x[k + 8], S11, 0x698098D8);\n            d = FF(d, a, b, c, x[k + 9], S12, 0x8B44F7AF);\n            c = FF(c, d, a, b, x[k + 10], S13, 0xFFFF5BB1);\n            b = FF(b, c, d, a, x[k + 11], S14, 0x895CD7BE);\n            a = FF(a, b, c, d, x[k + 12], S11, 0x6B901122);\n            d = FF(d, a, b, c, x[k + 13], S12, 0xFD987193);\n            c = FF(c, d, a, b, x[k + 14], S13, 0xA679438E);\n            b = FF(b, c, d, a, x[k + 15], S14, 0x49B40821);\n            a = GG(a, b, c, d, x[k + 1], S21, 0xF61E2562);\n            d = GG(d, a, b, c, x[k + 6], S22, 0xC040B340);\n            c = GG(c, d, a, b, x[k + 11], S23, 0x265E5A51);\n            b = GG(b, c, d, a, x[k + 0], S24, 0xE9B6C7AA);\n            a = GG(a, b, c, d, x[k + 5], S21, 0xD62F105D);\n            d = GG(d, a, b, c, x[k + 10], S22, 0x2441453);\n            c = GG(c, d, a, b, x[k + 15], S23, 0xD8A1E681);\n            b = GG(b, c, d, a, x[k + 4], S24, 0xE7D3FBC8);\n            a = GG(a, b, c, d, x[k + 9], S21, 0x21E1CDE6);\n            d = GG(d, a, b, c, x[k + 14], S22, 0xC33707D6);\n            c = GG(c, d, a, b, x[k + 3], S23, 0xF4D50D87);\n            b = GG(b, c, d, a, x[k + 8], S24, 0x455A14ED);\n            a = GG(a, b, c, d, x[k + 13], S21, 0xA9E3E905);\n            d = GG(d, a, b, c, x[k + 2], S22, 0xFCEFA3F8);\n            c = GG(c, d, a, b, x[k + 7], S23, 0x676F02D9);\n            b = GG(b, c, d, a, x[k + 12], S24, 0x8D2A4C8A);\n            a = HH(a, b, c, d, x[k + 5], S31, 0xFFFA3942);\n            d = HH(d, a, b, c, x[k + 8], S32, 0x8771F681);\n            c = HH(c, d, a, b, x[k + 11], S33, 0x6D9D6122);\n            b = HH(b, c, d, a, x[k + 14], S34, 0xFDE5380C);\n            a = HH(a, b, c, d, x[k + 1], S31, 0xA4BEEA44);\n            d = HH(d, a, b, c, x[k + 4], S32, 0x4BDECFA9);\n            c = HH(c, d, a, b, x[k + 7], S33, 0xF6BB4B60);\n            b = HH(b, c, d, a, x[k + 10], S34, 0xBEBFBC70);\n            a = HH(a, b, c, d, x[k + 13], S31, 0x289B7EC6);\n            d = HH(d, a, b, c, x[k + 0], S32, 0xEAA127FA);\n            c = HH(c, d, a, b, x[k + 3], S33, 0xD4EF3085);\n            b = HH(b, c, d, a, x[k + 6], S34, 0x4881D05);\n            a = HH(a, b, c, d, x[k + 9], S31, 0xD9D4D039);\n            d = HH(d, a, b, c, x[k + 12], S32, 0xE6DB99E5);\n            c = HH(c, d, a, b, x[k + 15], S33, 0x1FA27CF8);\n            b = HH(b, c, d, a, x[k + 2], S34, 0xC4AC5665);\n            a = II(a, b, c, d, x[k + 0], S41, 0xF4292244);\n            d = II(d, a, b, c, x[k + 7], S42, 0x432AFF97);\n            c = II(c, d, a, b, x[k + 14], S43, 0xAB9423A7);\n            b = II(b, c, d, a, x[k + 5], S44, 0xFC93A039);\n            a = II(a, b, c, d, x[k + 12], S41, 0x655B59C3);\n            d = II(d, a, b, c, x[k + 3], S42, 0x8F0CCC92);\n            c = II(c, d, a, b, x[k + 10], S43, 0xFFEFF47D);\n            b = II(b, c, d, a, x[k + 1], S44, 0x85845DD1);\n            a = II(a, b, c, d, x[k + 8], S41, 0x6FA87E4F);\n            d = II(d, a, b, c, x[k + 15], S42, 0xFE2CE6E0);\n            c = II(c, d, a, b, x[k + 6], S43, 0xA3014314);\n            b = II(b, c, d, a, x[k + 13], S44, 0x4E0811A1);\n            a = II(a, b, c, d, x[k + 4], S41, 0xF7537E82);\n            d = II(d, a, b, c, x[k + 11], S42, 0xBD3AF235);\n            c = II(c, d, a, b, x[k + 2], S43, 0x2AD7D2BB);\n            b = II(b, c, d, a, x[k + 9], S44, 0xEB86D391);\n            a = AddUnsigned(a, AA);\n            b = AddUnsigned(b, BB);\n            c = AddUnsigned(c, CC);\n            d = AddUnsigned(d, DD);\n        }\n\n        var temp = WordToHex(a) + WordToHex(b) + WordToHex(c) + WordToHex(d);\n        return temp.toLowerCase();\n    }\n\n    function isFunc(obj) {\n        return Object.prototype.toString.call(obj) === \"[object Function]\";\n    }\n\n    function isString(obj) {\n        return Object.prototype.toString.call(obj) === \"[object String]\";\n    }\n\n    function toString(obj) {\n        return isString(obj) ? obj : JSON.stringify(obj);\n    }\n\n    /**\n     * Parses parameters to a JS map<br/>\n     * Supports both window.location.search and window.location.hash)\n     * @param {String} [source=window.location.search] string to parse\n     * @returns {Object}\n     */\n    function getRequestParameters(source) {\n        var res = {};\n        var url = source || window.location.search;\n        if (url) {\n            url = url.substr(1);    // Drop the leading '?' / '#'\n            var nameValues = url.split(\"&\");\n\n            for (var i = 0; i < nameValues.length; i++) {\n                var nameValue = nameValues[i].split(\"=\");\n                var name = nameValue[0];\n                var value = nameValue[1];\n                value = decodeURIComponent(value.replace(/\\+/g, \" \"));\n                res[name] = value;\n            }\n        }\n        return res;\n    }\n\n    function encodeUtf8(string) {\n        var res = \"\";\n        for (var n = 0; n < string.length; n++) {\n            var c = string.charCodeAt(n);\n            if (c < 128) {\n                res += String.fromCharCode(c);\n            }\n            else if ((c > 127) && (c < 2048)) {\n                res += String.fromCharCode((c >> 6) | 192);\n                res += String.fromCharCode((c & 63) | 128);\n            }\n            else {\n                res += String.fromCharCode((c >> 12) | 224);\n                res += String.fromCharCode(((c >> 6) & 63) | 128);\n                res += String.fromCharCode((c & 63) | 128);\n            }\n        }\n        return res;\n    }\n\n    function decodeUtf8(utftext) {\n        var string = \"\";\n        var i = 0;\n        var c = 0, c2 = 0, c3 = 0;\n        while (i < utftext.length) {\n            c = utftext.charCodeAt(i);\n            if (c < 128) {\n                string += String.fromCharCode(c);\n                i++;\n            }\n            else if ((c > 191) && (c < 224)) {\n                c2 = utftext.charCodeAt(i + 1);\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n                i += 2;\n            } else {\n                c2 = utftext.charCodeAt(i + 1);\n                c3 = utftext.charCodeAt(i + 2);\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n                i += 3;\n            }\n        }\n        return string;\n    }\n\n    /** stub func */\n    function nop() {}\n\n    /**\n     * @callback onSuccessCallback\n     * @param {String} result\n     */\n\n    /**\n     * @callback restCallback\n     * @param {String} code (either 'ok' or 'error')\n     * @param {Object} data success data\n     * @param {Object} error error data\n     */\n\n    // ---------------------------------------------------------------------------------------------------\n    return {\n        init: init,\n        REST: {\n            call: restCall,\n            calcSignature: calcSignatureExternal\n        },\n        Payment: {\n            show: paymentShow\n        },\n        Widgets: {\n            getBackButtonHtml: widgetBackButton,\n            post: widgetMediatopicPost,\n            invite: widgetInvite,\n            suggest: widgetSuggest\n        },\n        Util: {\n            md5: md5,\n            encodeUtf8: encodeUtf8,\n            decodeUtf8: decodeUtf8,\n            encodeBase64: btoa,\n            decodeBase64: atob,\n            getRequestParameters: getRequestParameters,\n            toString: toString\n        }\n    };\n})();\n"
"/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */\n!function(e,t){\"use strict\";\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e)}(\"undefined\"!=typeof window?window:this,function(e,t){\"use strict\";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement(\"script\");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?l[c.call(e)]||\"object\":typeof e}var b=\"3.3.1\",w=function(e,t){return new w.fn.init(e,t)},T=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;w.fn=w.prototype={jquery:\"3.3.1\",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for(\"boolean\"==typeof a&&(l=a,a=arguments[s]||{},s++),\"object\"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:\"jQuery\"+(\"3.3.1\"+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||\"[object Object]\"!==c.call(e))&&(!(t=i(e))||\"function\"==typeof(n=f.call(t,\"constructor\")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?\"\":(e+\"\").replace(T,\"\")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,\"string\"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),\"function\"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(e,t){l[\"[object \"+t+\"]\"]=t.toLowerCase()});function C(e){var t=!!e&&\"length\"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&(\"array\"===n||0===t||\"number\"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b=\"sizzle\"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",M=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",R=\"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",I=\"\\\\[\"+M+\"*(\"+R+\")(?:\"+M+\"*([*^$|!~]?=)\"+M+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+R+\"))|)\"+M+\"*\\\\]\",W=\":(\"+R+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+I+\")*)|.*)\\\\)|)\",$=new RegExp(M+\"+\",\"g\"),B=new RegExp(\"^\"+M+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+M+\"+$\",\"g\"),F=new RegExp(\"^\"+M+\"*,\"+M+\"*\"),_=new RegExp(\"^\"+M+\"*([>+~]|\"+M+\")\"+M+\"*\"),z=new RegExp(\"=\"+M+\"*([^\\\\]'\\\"]*?)\"+M+\"*\\\\]\",\"g\"),X=new RegExp(W),U=new RegExp(\"^\"+R+\"$\"),V={ID:new RegExp(\"^#(\"+R+\")\"),CLASS:new RegExp(\"^\\\\.(\"+R+\")\"),TAG:new RegExp(\"^(\"+R+\"|[*])\"),ATTR:new RegExp(\"^\"+I),PSEUDO:new RegExp(\"^\"+W),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+M+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+M+\"*(?:([+-]|)\"+M+\"*(\\\\d+)|))\"+M+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+P+\")$\",\"i\"),needsContext:new RegExp(\"^\"+M+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+M+\"*((?:-\\\\d)?\\\\d*)\"+M+\"*\\\\)|)(?=[^-]|$)\",\"i\")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,J=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,K=/[+~]/,Z=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+M+\"?|(\"+M+\")|.)\",\"ig\"),ee=function(e,t,n){var r=\"0x\"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ne=function(e,t){return t?\"\\0\"===e?\"\\ufffd\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&(\"form\"in e||\"label\"in e)},{dir:\"parentNode\",next:\"legend\"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],\"string\"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+\" \"]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if(\"object\"!==t.nodeName.toLowerCase()){(c=t.getAttribute(\"id\"))?c=c.replace(te,ne):t.setAttribute(\"id\",c=b),s=(h=a(e)).length;while(s--)h[s]=\"#\"+c+\" \"+ve(h[s]);v=h.join(\",\"),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute(\"id\")}}}return u(e.replace(B,\"$1\"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+\" \")>r.cacheLength&&delete t[e.shift()],t[n+\" \"]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement(\"fieldset\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split(\"|\"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return\"input\"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&t.type===e}}function de(e){return function(t){return\"form\"in t?t.parentNode&&!1===t.disabled?\"label\"in t?\"label\"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:\"label\"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&\"undefined\"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&\"HTML\"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener(\"unload\",re,!1):i.attachEvent&&i.attachEvent(\"onunload\",re)),n.attributes=ue(function(e){return e.className=\"i\",!e.getAttribute(\"className\")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute(\"id\")===t}},r.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=\"undefined\"!=typeof e.getAttributeNode&&e.getAttributeNode(\"id\");return n&&n.value===t}},r.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return\"undefined\"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(\"*\"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(\"undefined\"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML=\"<a id='\"+b+\"'></a><select id='\"+b+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&y.push(\"[*^$]=\"+M+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||y.push(\"\\\\[\"+M+\"*(?:value|\"+P+\")\"),e.querySelectorAll(\"[id~=\"+b+\"-]\").length||y.push(\"~=\"),e.querySelectorAll(\":checked\").length||y.push(\":checked\"),e.querySelectorAll(\"a#\"+b+\"+*\").length||y.push(\".#.+[+~]\")}),ue(function(e){e.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var t=d.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&y.push(\"name\"+M+\"*[*^$|!~]?=\"),2!==e.querySelectorAll(\":enabled\").length&&y.push(\":enabled\",\":disabled\"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&y.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),y.push(\",.*:\")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,\"*\"),m.call(e,\"[s!='']:x\"),v.push(\"!=\",W)}),y=y.length&&new RegExp(y.join(\"|\")),v=v.length&&new RegExp(v.join(\"|\")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,\"='$1']\"),n.matchesSelector&&g&&!S[t+\" \"]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+\"\").replace(te,ne)},oe.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n=\"\",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||\"\").replace(Z,ee),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+\" \"];return t||(t=new RegExp(\"(^|\"+M+\")\"+e+\"(\"+M+\"|$)\"))&&E(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||\"undefined\"!=typeof e.getAttribute&&e.getAttribute(\"class\")||\"\")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?\"!=\"===t:!t||(i+=\"\",\"=\"===t?i===n:\"!=\"===t?i!==n:\"^=\"===t?n&&0===i.indexOf(n):\"*=\"===t?n&&i.indexOf(n)>-1:\"$=\"===t?n&&i.slice(-n.length)===n:\"~=\"===t?(\" \"+i.replace($,\" \")+\" \").indexOf(n)>-1:\"|=\"===t&&(i===n||i.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(e,t,n,r,i){var o=\"nth\"!==e.slice(0,3),a=\"last\"!==e.slice(-4),s=\"of-type\"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?\"nextSibling\":\"previousSibling\",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g=\"only\"===e&&!h&&\"nextSibling\"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error(\"unsupported pseudo: \"+e);return i[b]?i(t):i.length>1?(n=[e,e,\"\",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,\"$1\"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||\"\")||oe.error(\"unsupported lang: \"+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute(\"xml:lang\")||t.getAttribute(\"lang\"))return(n=n.toLowerCase())===e||0===n.indexOf(e+\"-\")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+\" \"];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B,\" \")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&\"parentNode\"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||\"*\",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[\" \"],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:\" \"===e[u-2].type?\"*\":\"\"})).replace(B,\"$1\"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m=\"0\",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG(\"*\",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+\" \"];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p=\"function\"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&\"ID\"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split(\"\").sort(D).join(\"\")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement(\"fieldset\"))}),ue(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||le(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||le(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute(\"disabled\")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[\":\"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):\"string\"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(\"string\"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,\"string\"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,\"string\"==typeof e){if(!(i=\"<\"===e[0]&&\">\"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=\"string\"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?\"string\"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,\"parentNode\")},parentsUntil:function(e,t,n){return k(e,\"parentNode\",n)},next:function(e){return P(e,\"nextSibling\")},prev:function(e){return P(e,\"previousSibling\")},nextAll:function(e){return k(e,\"nextSibling\")},prevAll:function(e){return k(e,\"previousSibling\")},nextUntil:function(e,t,n){return k(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return k(e,\"previousSibling\",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,\"iframe\")?e.contentDocument:(N(e,\"template\")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return\"Until\"!==e.slice(-5)&&(r=n),r&&\"string\"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\\x20\\t\\r\\n\\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e=\"string\"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:\"\")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&\"string\"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n=\"\",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=\"\"),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[[\"notify\",\"progress\",w.Callbacks(\"memory\"),w.Callbacks(\"memory\"),2],[\"resolve\",\"done\",w.Callbacks(\"once memory\"),w.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",w.Callbacks(\"once memory\"),w.Callbacks(\"once memory\"),1,\"rejected\"]],r=\"pending\",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},\"catch\":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+\"With\"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+\"With\"](this===o?void 0:this,arguments),this},o[t[0]+\"With\"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),\"pending\"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn(\"jQuery.Deferred exception: \"+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)[\"catch\"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener(\"DOMContentLoaded\",_),e.removeEventListener(\"load\",_),w.ready()}\"complete\"===r.readyState||\"loading\"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener(\"DOMContentLoaded\",_),e.addEventListener(\"load\",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if(\"object\"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,\"ms-\").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(\"string\"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&\"string\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,ee=/[A-Z]/g;function te(e){return\"true\"===e||\"false\"!==e&&(\"null\"===e?null:e===+e+\"\"?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r=\"data-\"+t.replace(ee,\"-$&\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,\"hasDataAttrs\"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf(\"data-\")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};\"inprogress\"===i&&(i=n.shift(),r--),i&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks(\"once memory\").add(function(){J.remove(e,[t+\"queue\",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return\"string\"!=typeof e&&(t=e,e=\"fx\",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),\"fx\"===e&&\"inprogress\"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";while(a--)(n=J.get(o[a],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,ie=new RegExp(\"^(?:([+-])=|)(\"+re+\")([a-z%]*)$\",\"i\"),oe=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ae=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&w.contains(e.ownerDocument,e)&&\"none\"===w.css(e,\"display\")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,\"\")},u=s(),l=n&&n[3]||(w.cssNumber[t]?\"\":\"px\"),c=(w.cssNumber[t]||\"px\"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,\"display\"),t.parentNode.removeChild(t),\"none\"===i&&(i=\"block\"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?(\"none\"===n&&(i[o]=J.get(r,\"display\")||null,i[o]||(r.style.display=\"\")),\"\"===r.style.display&&ae(r)&&(i[o]=ce(r))):\"none\"!==n&&(i[o]=\"none\",J.set(r,\"display\",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i,he=/^$|^module$|\\/(?:java|ecma)script/i,ge={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n=\"undefined\"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):\"undefined\"!=typeof e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],\"globalEval\",!t||J.get(t[n],\"globalEval\"))}var me=/<|&#?\\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if(\"object\"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement(\"div\")),s=(de.exec(o)||[\"\",\"\"])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=\"\"}else p.push(t.createTextNode(o));f.textContent=\"\",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),\"script\"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||\"\")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement(\"div\")),t=r.createElement(\"input\");t.setAttribute(\"type\",\"radio\"),t.setAttribute(\"checked\",\"checked\"),t.setAttribute(\"name\",\"t\"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML=\"<textarea>x</textarea>\",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if(\"object\"==typeof t){\"string\"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&(\"string\"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return\"undefined\"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||\"\").match(M)||[\"\"]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(\".\")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||\"\").match(M)||[\"\"]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||\"\").split(\".\").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&(\"**\"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,\"handle events\")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,\"events\")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!(\"click\"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+\" \"]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:\"focusin\"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:\"focusout\"},click:{trigger:function(){if(\"checkbox\"===this.type&&this.click&&N(this,\"input\"))return this.click(),!1},_default:function(e){return N(e.target,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\"char\":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&\"function\"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,Ae=/<script|<style|<link/i,je=/checked\\s*(?:[^=]|=\\s*.checked.)/i,qe=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Le(e,t){return N(e,\"table\")&&N(11!==t.nodeType?t:t.firstChild,\"tr\")?w(e).children(\"tbody\")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function Oe(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();\"input\"===n&&pe.test(e.type)?t.checked=e.checked:\"input\"!==n&&\"textarea\"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&\"string\"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,\"script\"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,\"script\"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||\"\")&&!J.access(l,\"globalEval\")&&w.contains(c,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,\"\"),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,\"script\")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,\"<$1></$2>\")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,\"script\")).length>0&&ve(a,!u&&ye(e,\"script\")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp(\"^(\"+re+\")(?!px)[a-z%]+$\",\"i\"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join(\"|\"),\"i\");!function(){function t(){if(c){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",c.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i=\"1%\"!==t.top,u=12===n(t.marginLeft),c.style.right=\"60%\",s=36===n(t.right),o=36===n(t.width),c.style.position=\"absolute\",a=36===c.offsetWidth||\"absolute\",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement(\"div\"),c=r.createElement(\"div\");c.style&&(c.style.backgroundClip=\"content-box\",c.cloneNode(!0).style.backgroundClip=\"\",h.clearCloneStyle=\"content-box\"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(\"\"!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+\"\":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ve={letterSpacing:\"0\",fontWeight:\"400\"},Ge=[\"Webkit\",\"Moz\",\"ms\"],Ye=r.createElement(\"div\").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||\"px\"):t}function Ze(e,t,n,r,i,o){var a=\"width\"===t?1:0,s=0,u=0;if(n===(r?\"border\":\"content\"))return 0;for(;a<4;a+=2)\"margin\"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?(\"content\"===n&&(u-=w.css(e,\"padding\"+oe[a],!0,i)),\"margin\"!==n&&(u-=w.css(e,\"border\"+oe[a]+\"Width\",!0,i))):(u+=w.css(e,\"padding\"+oe[a],!0,i),\"padding\"!==n?u+=w.css(e,\"border\"+oe[a]+\"Width\",!0,i):s+=w.css(e,\"border\"+oe[a]+\"Width\",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o=\"border-box\"===w.css(e,\"boxSizing\",!1,r),a=o;if(We.test(i)){if(!n)return i;i=\"auto\"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),(\"auto\"===i||!parseFloat(i)&&\"inline\"===w.css(e,\"display\",!1,r))&&(i=e[\"offset\"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?\"border\":\"content\"),a,r,i)+\"px\"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&\"get\"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];\"string\"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o=\"number\"),null!=n&&n===n&&(\"number\"===o&&(n+=i&&i[3]||(w.cssNumber[s]?\"\":\"px\")),h.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(l[t]=\"inherit\"),a&&\"set\"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&\"get\"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),\"normal\"===i&&t in Ve&&(i=Ve[t]),\"\"===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each([\"height\",\"width\"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a=\"border-box\"===w.css(e,\"boxSizing\",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,\"border\",!1,o)-.5)),s&&(i=ie.exec(n))&&\"px\"!==(i[3]||\"px\")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,\"marginLeft\"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),w.each({margin:\"\",padding:\"\",border:\"Width\"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o=\"string\"==typeof n?n.split(\" \"):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},\"margin\"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?\"\":\"px\")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i[\"margin\"+(n=oe[r])]=i[\"padding\"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners[\"*\"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f=\"width\"in t||\"height\"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,\"fxshow\");n.queue||(null==(a=w._queueHooks(e,\"fx\")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,\"fx\").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||\"toggle\"===i,i===(g?\"hide\":\"show\")){if(\"show\"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,\"display\")),\"none\"===(c=w.css(e,\"display\"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,\"display\"),fe([e]))),(\"inline\"===c||\"inline-block\"===c&&null!=l)&&\"none\"===w.css(e,\"float\")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l=\"none\"===c?\"\":c)),h.display=\"inline-block\")),n.overflow&&(h.overflow=\"hidden\",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?\"hidden\"in y&&(g=y.hidden):y=J.access(e,\"fxshow\",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,\"fxshow\");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&\"expand\"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=[\"*\"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&\"object\"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,\"finish\"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return\"string\"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||\"fx\",[]),this.each(function(){var t=!0,i=null!=e&&e+\"queueHooks\",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||\"fx\"),this.each(function(){var t,n=J.get(this),r=n[e+\"queue\"],i=n[e+\"queueHooks\"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each([\"toggle\",\"show\",\"hide\"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||\"boolean\"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut(\"show\"),slideUp:ut(\"hide\"),slideToggle:ut(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||\"fx\",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement(\"input\"),t=r.createElement(\"select\").appendChild(r.createElement(\"option\"));e.type=\"checkbox\",h.checkOn=\"\"!==e.value,h.optSelected=t.selected,(e=r.createElement(\"input\")).value=\"t\",e.type=\"radio\",h.radioValue=\"t\"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return\"undefined\"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+\"\"),n):i&&\"get\"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&\"radio\"===t&&N(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&\"get\"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,\"tabindex\");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(\" \")}function mt(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function xt(e){return Array.isArray(e)?e:\"string\"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&\" \"+vt(i)+\" \"){a=0;while(o=t[a++])r.indexOf(\" \"+o+\" \")<0&&(r+=o+\" \");i!==(s=vt(r))&&n.setAttribute(\"class\",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&\" \"+vt(i)+\" \"){a=0;while(o=t[a++])while(r.indexOf(\" \"+o+\" \")>-1)r=r.replace(\" \"+o+\" \",\" \");i!==(s=vt(r))&&n.setAttribute(\"class\",s)}return this},toggleClass:function(e,t){var n=typeof e,r=\"string\"===n||Array.isArray(e);return\"boolean\"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&\"boolean\"!==n||((t=mt(this))&&J.set(this,\"__className__\",t),this.setAttribute&&this.setAttribute(\"class\",t||!1===e?\"\":J.get(this,\"__className__\")||\"\"))})},hasClass:function(e){var t,n,r=0;t=\" \"+e+\" \";while(n=this[r++])if(1===n.nodeType&&(\" \"+vt(mt(n))+\" \").indexOf(t)>-1)return!0;return!1}});var bt=/\\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i=\"\":\"number\"==typeof i?i+=\"\":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?\"\":e+\"\"})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&\"set\"in t&&void 0!==t.set(this,i,\"value\")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&\"get\"in t&&void 0!==(n=t.get(i,\"value\"))?n:\"string\"==typeof(n=i.value)?n.replace(bt,\"\"):null==n?\"\":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,\"value\");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=\"select-one\"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,\"optgroup\"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each([\"radio\",\"checkbox\"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})}),h.focusin=\"onfocusin\"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,\"type\")?t.type:t,x=f.call(t,\"namespace\")?t.namespace.split(\".\"):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(\".\")>-1&&(m=(x=m.split(\".\")).shift(),x.sort()),c=m.indexOf(\":\")<0&&\"on\"+m,t=t[w.expando]?t:new w.Event(m,\"object\"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join(\".\"),t.rnamespace=t.namespace?new RegExp(\"(^|\\\\.)\"+x.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,\"events\")||{})[t.type]&&J.get(s,\"handle\"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\\?/;w.parseXML=function(t){var n;if(!t||\"string\"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,\"text/xml\")}catch(e){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||w.error(\"Invalid XML: \"+t),n};var St=/\\[\\]$/,Dt=/\\r?\\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+\"[\"+(\"object\"==typeof i&&null!=i?t:\"\")+\"]\",i,n,r)});else if(n||\"object\"!==x(t))r(e,t);else for(i in t)jt(e+\"[\"+i+\"]\",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join(\"&\")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,\"elements\");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(\":disabled\")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,\"\\r\\n\")}}):{name:t.name,value:n.replace(Dt,\"\\r\\n\")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\\/\\//,It={},Wt={},$t=\"*/\".concat(\"*\"),Bt=r.createElement(\"a\");Bt.href=Ct.href;function Ft(e){return function(t,n){\"string\"!=typeof t&&(n=t,t=\"*\");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])\"+\"===r[0]?(r=r.slice(1)||\"*\",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return\"string\"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i[\"*\"]&&a(\"*\")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while(\"*\"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+\" \"+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if(\"*\"===o)o=u;else if(\"*\"!==u&&u!==o){if(!(a=l[u+\" \"+o]||l[\"* \"+o]))for(i in l)if((s=i.split(\" \"))[1]===o&&(a=l[u+\" \"+s[0]]||l[\"* \"+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e[\"throws\"])t=a(t);else try{t=a(t)}catch(e){return{state:\"parsererror\",error:a?e:\"No conversion from \"+u+\" to \"+o}}}return{state:\"success\",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:\"GET\",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":$t,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){\"object\"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks(\"once memory\"),x=h.statusCode||{},b={},T={},C=\"canceled\",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+\"\").replace(Rt,Ct.protocol+\"//\"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||\"*\").toLowerCase().match(M)||[\"\"],null==h.crossDomain){l=r.createElement(\"a\");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+\"//\"+Bt.host!=l.protocol+\"//\"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&\"string\"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger(\"ajaxStart\"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,\"\"),h.hasContent?h.data&&h.processData&&0===(h.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(h.data=h.data.replace(qt,\"+\")):(d=h.url.slice(o.length),h.data&&(h.processData||\"string\"==typeof h.data)&&(o+=(kt.test(o)?\"&\":\"?\")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,\"$1\"),d=(kt.test(o)?\"&\":\"?\")+\"_=\"+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader(\"If-Modified-Since\",w.lastModified[o]),w.etag[o]&&E.setRequestHeader(\"If-None-Match\",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader(\"Content-Type\",h.contentType),E.setRequestHeader(\"Accept\",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(\"*\"!==h.dataTypes[0]?\", \"+$t+\"; q=0.01\":\"\"):h.accepts[\"*\"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C=\"abort\",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger(\"ajaxSend\",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort(\"timeout\")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,\"No Transport\");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||\"\",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader(\"Last-Modified\"))&&(w.lastModified[o]=T),(T=E.getResponseHeader(\"etag\"))&&(w.etag[o]=T)),204===t||\"HEAD\"===h.type?C=\"nocontent\":304===t?C=\"notmodified\":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C=\"error\",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+\"\",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?\"ajaxSuccess\":\"ajaxError\",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger(\"ajaxComplete\",[E,h]),--w.active||w.event.trigger(\"ajaxStop\")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,\"json\")},getScript:function(e,t){return w.get(e,void 0,t,\"script\")}}),w.each([\"get\",\"post\"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,\"throws\":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&\"withCredentials\"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i[\"X-Requested-With\"]||(i[\"X-Requested-With\"]=\"XMLHttpRequest\");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,\"abort\"===e?s.abort():\"error\"===e?\"number\"!=typeof s.status?o(0,\"error\"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,\"text\"!==(s.responseType||\"text\")||\"string\"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n(\"error\"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n(\"abort\");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter(\"script\",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),w.ajaxTransport(\"script\",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w(\"<script>\").prop({charset:e.scriptCharset,src:e.url}).on(\"load error\",n=function(e){t.remove(),n=null,e&&o(\"error\"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\\?(?=&|$)|\\?\\?/;w.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Yt.pop()||w.expando+\"_\"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter(\"json jsonp\",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?\"url\":\"string\"==typeof t.data&&0===(t.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Qt.test(t.data)&&\"data\");if(s||\"jsonp\"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,\"$1\"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?\"&\":\"?\")+t.jsonp+\"=\"+i),t.converters[\"script json\"]=function(){return a||w.error(i+\" was not called\"),a[0]},t.dataTypes[0]=\"json\",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),\"script\"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument(\"\").body;return e.innerHTML=\"<form></form><form></form>\",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if(\"string\"!=typeof e)return[];\"boolean\"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(\" \");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&\"object\"==typeof t&&(i=\"POST\"),a.length>0&&w.ajax({url:e,type:i||\"GET\",dataType:\"html\",data:t}).done(function(e){o=arguments,a.html(r?w(\"<div>\").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,\"position\"),f=w(e),p={};\"static\"===c&&(e.style.position=\"relative\"),s=f.offset(),o=w.css(e,\"top\"),u=w.css(e,\"left\"),(l=(\"absolute\"===c||\"fixed\"===c)&&(o+u).indexOf(\"auto\")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),\"using\"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if(\"fixed\"===w.css(r,\"position\"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&\"static\"===w.css(e,\"position\"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,\"borderTopWidth\",!0),i.left+=w.css(e,\"borderLeftWidth\",!0))}return{top:t.top-i.top-w.css(r,\"marginTop\",!0),left:t.left-i.left-w.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&\"static\"===w.css(e,\"position\"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(e,t){var n=\"pageYOffset\"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each([\"top\",\"left\"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+\"px\":n})}),w.each({Height:\"height\",Width:\"width\"},function(e,t){w.each({padding:\"inner\"+e,content:t,\"\":\"outer\"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||\"boolean\"!=typeof i),s=n||(!0===i||!0===o?\"margin\":\"border\");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf(\"outer\")?t[\"inner\"+e]:t.document.documentElement[\"client\"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body[\"scroll\"+e],o[\"scroll\"+e],t.body[\"offset\"+e],o[\"offset\"+e],o[\"client\"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)}}),w.proxy=function(e,t){var n,r,i;if(\"string\"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});"
"var uagent = navigator.userAgent.toLowerCase();\r\nvar is_safari = ((uagent.indexOf('safari') != -1) || (navigator.vendor == \"Apple Computer, Inc.\"));\r\nvar is_ie = ((uagent.indexOf('msie') != -1) && (!is_opera) && (!is_safari) && (!is_webtv));\r\nvar is_ie4 = ((is_ie) && (uagent.indexOf(\"msie 4.\") != -1));\r\nvar is_moz = (navigator.product == 'Gecko');\r\nvar is_ns = ((uagent.indexOf('compatible') == -1) && (uagent.indexOf('mozilla') != -1) && (!is_opera) && (!is_webtv) && (!is_safari));\r\nvar is_ns4 = ((is_ns) && (parseInt(navigator.appVersion) == 4));\r\nvar is_opera = (uagent.indexOf('opera') != -1);\r\nvar is_kon = (uagent.indexOf('konqueror') != -1);\r\nvar is_webtv = (uagent.indexOf('webtv') != -1);\r\nvar is_win = ((uagent.indexOf(\"win\") != -1) || (uagent.indexOf(\"16bit\") != -1));\r\nvar is_mac = ((uagent.indexOf(\"mac\") != -1) || (navigator.vendor == \"Apple Computer, Inc.\"));\r\nvar is_chrome = (uagent.match(/Chrome\\/\\w+\\.\\w+/i));\r\nif (is_chrome == 'null' || !is_chrome || is_chrome == 0)\r\n\tis_chrome = '';\r\nvar ua_vers = parseInt(navigator.appVersion);\r\nvar req_href = location.href;\r\nvar vii_interval = false;\r\nvar scrollTopForFirefox = 0;\r\nvar v_vk = '5.95';\r\nurl_site = location.protocol + '//' + location.hostname;\r\n//history.pushState({link: location.pathname + location.search + location.hash}, null, location.pathname + location.search + location.hash);\r\nif (window.sessionStorage && window.localStorage) {\r\n\tlocalStorage.setItem(\"domen\", location.hostname);\r\n\tsessionStorage.setItem(\"domen\", location.hostname);\r\n}\r\n\r\n$(document).on('click', 'a[href^=\"#\"]', function (e) {\r\n\te.preventDefault();\r\n\tvar anchor = $(this);\r\n\tvar anchor_id=anchor.attr('href');\r\n\t$('html, body').animate({\r\n\t\tscrollTop: anchor.is(anchor_id)?$(anchor_id).offset().top:0\r\n\t}, 1000);\r\n});\r\n$(window).scroll(function () {\r\n\tif ($(document).scrollTop() > ($(window).height() / 2)) {\r\n\t\t$('.scroll_fix_bg').show();\r\n\t} else {\r\n\t\t$('.scroll_fix_bg').fadeOut(200);\r\n\t}\r\n});\r\nfunction CheckRequestPhoto(request)\r\n{\r\n\tvar id = false;\r\n\tvar pattern = new RegExp(/photo[0-9]/i);\r\n\tif (pattern.test(request)) {\r\n\t\tvar links = request.match(/\\d+/i);\r\n\t\tid = links[0];\r\n\t}\r\n\treturn id;\r\n}\r\nif (CheckRequestPhoto(req_href)) {\r\n\tvar id = CheckRequestPhoto(req_href);\r\n\t$(document).ready(function () {\r\n\t\tPhoto.Show(req_href);\r\n\t});\r\n}\r\nfunction CheckRequestVideo(request) {\r\n\tvar pattern = new RegExp(/video[0-9]/i);\r\n\treturn pattern.test(request);\r\n}\r\nif (CheckRequestVideo(req_href)) {\r\n\t$(document).ready(function () {\r\n\t\tvar video_id = req_href.split('_');\r\n\t\tvar section = req_href.split('sec=');\r\n\t\tvar fuser = req_href.split('wall/fuser=');\r\n\t\tvar close_link = '';\r\n\t\tif (fuser[1]) {\r\n\t\t\tclose_link = '/u' + fuser[1];\r\n\t\t}\r\n\t\tif (section[1]) {\r\n\t\t\tvar xSection = section[1].split('/');\r\n\t\t\tif (xSection[0] == 'news') {\r\n\t\t\t\tclose_link = 'news';\r\n\t\t\t}\r\n\t\t}\r\n\t\tvideos.show(video_id[1], req_href, close_link);\r\n\t});\r\n}\r\n\r\nfunction getCookie(name) {\r\n\tvar matches = document.cookie.match(new RegExp(\r\n\t\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n\t\t\t));\r\n\treturn matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\nfunction setCookie(name, value, options) {\r\n\toptions = options || {};\r\n\tvar expires = options.expires;\r\n\tif (typeof expires == \"number\" && expires) {\r\n\t\tvar d = new Date();\r\n\t\td.setTime(d.getTime() + expires * 1000);\r\n\t\texpires = options.expires = d;\r\n\t}\r\n\tif (expires && expires.toUTCString) {\r\n\t\toptions.expires = expires.toUTCString();\r\n\t}\r\n\tvalue = encodeURIComponent(value);\r\n\tvar updatedCookie = name + \"=\" + value;\r\n\tfor (var propName in options) {\r\n\t\tupdatedCookie += \"; \" + propName;\r\n\t\tvar propValue = options[propName];\r\n\t\tif (propValue !== true) {\r\n\t\t\tupdatedCookie += \"=\" + propValue;\r\n\t\t}\r\n\t}\r\n\tdocument.cookie = updatedCookie;\r\n}\r\nfunction deleteCookie(name) {\r\n\tsetCookie(name, \"\", {\r\n\t\texpires: -1\r\n\t})\r\n}\r\nfunction closeSidebar() {\r\n\t$('#sidebar1').sidebar('hide');\r\n}\r\nfunction FullText(rid) {\r\n\t$('#hide_wall_rec' + rid).css('max-height', 'none');\r\n\t$('#hide_wall_rec_lnk' + rid).hide();\r\n}\r\nfunction getClientHeight()\r\n{\r\n\treturn window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\r\n}\r\nvar cur = {\r\n\tdestroy: [],\r\n\tnav: []\r\n}; // Current page variables and navigation map.\r\n\r\nfunction reload(){\r\n\twindow.location.href = window.location.pathname + window.location.search + window.location.hash;\r\n}\r\n//CHECKBOX\r\nvar myhtml = {\r\n\ttoggleBlocks: function (id) {\r\n\t\tvar name = '#' + id;\r\n\t\t$(name + '_fill').hide();\r\n\t\t$(name + '_row').show();\r\n\t\t$(name).focus();\r\n\t},\r\n\tcheckbox: function (id) {\r\n\t\tvar name = '#' + id;\r\n\t\t$(name).addClass('html_checked');\r\n\t\tif (ge('checknox_' + id)) {\r\n\t\t\tmyhtml.checkbox_off(id);\r\n\t\t\tif (id == 'blockcontact') {\r\n\t\t\t\t$('#gedit_admbox_contact_info').hide();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t$(name).append('<div id=\"checknox_' + id + '\"><input type=\"hidden\" id=\"' + id + '\" /></div>');\r\n\t\t\t$(name).val('1');\r\n\t\t\tif (id == 'blockcontact') {\r\n\t\t\t\t$('#gedit_admbox_contact_info').show();\r\n\t\t\t\t$('#gedit_admbox_position').focus();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcheckbox_off: function (id) {\r\n\t\tvar name = '#' + id;\r\n\t\t$('#checknox_' + id).remove();\r\n\t\t$(name).removeClass('html_checked');\r\n\t\t$(name).val('');\r\n\t},\r\n\tchecked: function (arr) {\r\n\t\t$.each(arr, function () {\r\n\t\t\tmyhtml.checkbox(this);\r\n\t\t});\r\n\t},\r\n\ttitle: function (id, text, prefix_id, pad_left) {\r\n\t\tif (!pad_left) {\r\n\t\t\tpad_left = 5;\r\n\t\t}\r\n\t\tif (!ge('js_title_' + prefix_id + id)) {\r\n\t\t\t$(\"body\").append('<div id=\"js_title_' + prefix_id + id + '\" class=\"ui flowing inverted popup\">' + text + '</div>');\r\n\t\t}\r\n\t\t$('#' + prefix_id + id).popup({\r\n\t\t\tpopup: $(\"#js_title_\" + prefix_id + id)\r\n\t\t}).popup(\"show\");\r\n\t},\r\n\ttitle_close: function (id) {\r\n\t\t$('#js_title_' + id).remove();\r\n\t},\r\n\tscrollTop: function (event) {\r\n\t\t$('.scroll_fix_bg').hide();\r\n\t\tevent.preventDefault();\r\n\t\t$('html, body').animate({\r\n\t\t\tscrollTop: 0\r\n\t\t}, 1000);\r\n\t}\r\n};\r\n\r\nvar Page = {\r\n\tLoading: function (f) {\r\n\t\tswitch (f) {\r\n\t\t\tcase 'start':\r\n\t\t\t\tif (ge('loading')) {\r\n\t\t\t\t\t$('#loading').remove();\r\n\t\t\t\t}\r\n\t\t\t\t$('#page').append('<div id=\"loading\" class=\"ui active inverted dimmer\"><div class=\"ui text loader\">Жди! Загружаю!<br><br><a class=\"ui label\" onclick=\"window.location.reload();\">обновить</a></div></div>');\r\n\t\t\t\t$('#loading').show();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'stop':\r\n\t\t\t\t$('#loading').remove();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\tLoadingM: function (f) {\r\n\t\tswitch (f) {\r\n\t\t\tcase 'start':\r\n\t\t\t\t$('#aftermenu').addClass('loading');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'stop':\r\n\t\t\t\t$('#aftermenu').removeClass('loading');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\tGo: function (url) {\r\n\t\tif (url == window.location.href) {\r\n\t\t\tBox.Info(\"boxi\", lang_box_header_atention, \"Вы уже на этой странице <a onclick='reload();return false;' class='ui purple label'><i class='refresh icon'></i>ОБНОВИТЬ</a> \", 300);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\thistory.pushState({\r\n\t\t\tlink: url\r\n\t\t}, null, url);\r\n\t\tclearInterval(vii_interval);\r\n\t\tPage.Loading('start');\r\n\t\t$('#page').load(url, {\r\n\t\t\tajax: 'yes'\r\n\t\t}, function (responseTxt, statusTxt, xhr) {\r\n\t\t\tif(statusTxt === \"error\"){\r\n\t\t\t\tBox.Info('err', lang_box_header_error, 'Страница временно недоступна. Попробуйте позднее.', 300);\r\n\t\t\t}\r\n\t\t\tPage.Loading('stop');\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\t$('html, body').animate({\r\n\t\t\t\t\tscrollTop: $(window.location.hash).is(window.location.hash)?$(window.location.hash).offset().top-51:0\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t\t$('html, body').scrollTop(0);\r\n\t\t\t$('#miniature_crop').imgAreaSelect({\r\n\t\t\t\tremove: true\r\n\t\t\t});\r\n\t\t\t//Удаляем кеш фоток, видео, модальных окон\r\n\t\t\tBox.GeneralClose();\r\n\t\t\t$('.ui.rail .ui.sticky').sticky('refresh');\r\n\t\t});\r\n\r\n\t},\r\n\tGoMenu: function (h) {\r\n\t\tif (h != window.location.href) {\r\n\t\t\thistory.pushState({\r\n\t\t\t\tlink: h\r\n\t\t\t}, null, h);\r\n\t\t\tPage.LoadingM('start');\r\n\t\t\t$('#page').load(h, {\r\n\t\t\t\tajax: 'yes'\r\n\t\t\t}, function () {\r\n\t\t\t\tPage.LoadingM('stop');\r\n\t\t\t\t//Удаляем кеш фоток, видео, модальных окон\r\n\t\t\t\tBox.GeneralClose();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tPrev: function (h) {\r\n\t\tclearInterval(vii_interval);\r\n\t\tPage.Loading('start');\r\n\t\t$('#page').load(h, {\r\n\t\t\tajax: 'yes'\r\n\t\t}, function () {\r\n\t\t\tPage.Loading('stop');\r\n\t\t\t$('html, body').scrollTop(0);\r\n\t\t\t$('#miniature_crop').imgAreaSelect({\r\n\t\t\t\tremove: true\r\n\t\t\t});\r\n\t\t\t//Удаляем кеш фоток, видео, модальных окон\r\n\t\t\tBox.GeneralClose();\r\n\t\t});\r\n\t},\r\n\tList: function(next, url){\r\n\t\tvar $prev_list = $('#prev_list');\r\n\t\tvar $next_list = $('#next_list');\r\n\t\tif(next === true){\r\n\t\t\t$next_list.addClass('loading');\r\n\t\t} else {\r\n\t\t\t$prev_list.addClass('loading');\r\n\t\t}\r\n\t\tvar $pagecount = $('#pagecount');\r\n\t\tvar page = parseInt($pagecount.val());\r\n\t\tif(next === true){\r\n\t\t\tpage += 1;\r\n\t\t} else if(next === false){\r\n\t\t\tpage -= 1;\r\n\t\t}\r\n\t\tpage = page<1?1:page;\r\n\t\tvar page_old = parseInt($pagecount.val());\r\n\t\t$pagecount.val(page);\r\n\t\t$.post(url, {\r\n\t\t\tpage: page,\r\n\t\t\tnext: next\r\n\t\t}, function(data) {\r\n\t\t\tif(next === true){\r\n\t\t\t\t$next_list.removeClass('loading');\r\n\t\t\t} else {\r\n\t\t\t\t$prev_list.removeClass('loading');\r\n\t\t\t}\r\n\t\t\tif(data){\r\n\t\t\t\tvar $pagelist = $('#pagelist');\r\n\t\t\t\t//console.log($pagelist.html().match(/[\\sa-zA-Z0-9]+/g).length, data.match(/[\\sa-zA-Z0-9]+/g).length);\r\n\t\t\t\tconsole.log(page, page_old);\r\n\t\t\t\tif(page == page_old){\r\n\t\t\t\t\tif(next === true){\r\n\t\t\t\t\t\t$next_list.addClass('disabled');\r\n\t\t\t\t\t\t$prev_list.removeClass('disabled');\r\n\t\t\t\t\t} else if(next === false){\r\n\t\t\t\t\t\t$prev_list.addClass('disabled');\r\n\t\t\t\t\t\t$next_list.removeClass('disabled');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$prev_list.removeClass('disabled');\r\n\t\t\t\t\t$next_list.removeClass('disabled');\r\n\t\t\t\t\t$pagelist.html(data);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif(next === true){\r\n\t\t\t\t\tpage -= 1;\r\n\t\t\t\t\t$next_list.addClass('disabled');\r\n\t\t\t\t\t$prev_list.removeClass('disabled');\r\n\t\t\t\t} else if(next === false){\r\n\t\t\t\t\tpage += 1;\r\n\t\t\t\t\t$prev_list.addClass('disabled');\r\n\t\t\t\t\t$next_list.removeClass('disabled');\r\n\t\t\t\t}\r\n\t\t\t\tpage = page<1?1:page;\r\n\t\t\t\t$pagecount.val(page);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\n\r\n//VII BOX\r\nvar viiBox = {\r\n\tinit: function () {},\r\n\tstart: function () {\r\n\t\tPage.Loading('start');\r\n\t},\r\n\tstop: function () {\r\n\t\tPage.Loading('stop');\r\n\t},\r\n\twin: function (i, d, o, h) {\r\n\t\tthis.stop();\r\n\t\tif (ge('newbox_miniature' + i)) {\r\n\t\t\t$('#newbox_miniature' + i).remove();\r\n\t\t}\r\n\t\t$('body').append('<div class=\"ui modal\" id=\"newbox_miniature' + i + '\"><i class=\"close icon\"></i><div class=\"content\">' + d + '</div></div>');\r\n\r\n\t\t$('#newbox_miniature'+i+'.ui.modal').modal({\r\n\t\t\toffset: 1200\r\n\t\t}).modal('show');\r\n\t\t$(window).keydown(function (event) {\r\n\t\t\tif (event.keyCode == 27) {\r\n\t\t\t\tthis.clos(i, o, h);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tclos: function (i, o, h) {\r\n\t\t$('#newbox_miniature'+i+'.ui.modal').modal('hiden');\r\n\t\t//$('#newbox_miniature' + i).remove();\r\n\t\tif (h)\r\n\t\t\thistory.pushState({\r\n\t\t\t\tlink: h\r\n\t\t\t}, null, h);\r\n\t}\r\n};\r\n\r\n//PROFILE FUNC\r\nvar Profile = {\r\n\tminiature: function () {\r\n\t\tBox.Page('/edit?act=miniature', '', 'miniature', 400, 'Выбор миниатюры', 'Отмена', 'Сохранить изменения', 'Profile.miniatureSave()', '', 0, 0, 0, 0, 0, 0);\r\n\t},\r\n\tminiatureSave: function () {\r\n\t\tvar i_left = $('#mi_left').val();\r\n\t\tvar i_top = $('#mi_top').val();\r\n\t\tvar i_width = $('#mi_width').val();\r\n\t\tvar i_height = $('#mi_height').val();\r\n\t\tbutloading('box_butt_create', '111', 'disabled', '');\r\n\t\t$.post('/edit?act=miniature_save', {\r\n\t\t\ti_left: i_left,\r\n\t\t\ti_top: i_top,\r\n\t\t\ti_width: i_width,\r\n\t\t\ti_height: i_height\r\n\t\t}, function (d) {\r\n\t\t\tif (d === 'err') {\r\n\t\t\t\taddAllErr('Ошибка');\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = '/u' + d;\r\n\t\t\t}\r\n\t\t\tbutloading('box_butt_create', '111', 'enabled', 'Сохранить изменения');\r\n\t\t});\r\n\t},\r\n\tminiatureClose: function () {\r\n\t\t$('#newbox_miniature').fadeOut(500, function () {\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n\t},\r\n\tLoadCity: function (id) {\r\n\t\t$('#load_mini').show();\r\n\t\tif (id > 0) {\r\n\t\t\t$('#city').slideDown();\r\n\t\t\t$('#select_city').load('/index.php?go=loadcity', {\r\n\t\t\t\tcountry: id\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t$('#city').slideUp();\r\n\t\t\t$('#load_mini').hide();\r\n\t\t}\r\n\t},\r\n\tLoadCity_1: function (id) {\r\n\t\t$('#load_mini').show();\r\n\t\tif (id > 0) {\r\n\t\t\t$('#city').slideDown();\r\n\t\t\t$('#select_city').load('/index.php?go=loadcity_1', {\r\n\t\t\t\tcountry: id\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t$('#city').slideUp();\r\n\t\t\t$('#load_mini').hide();\r\n\t\t}\r\n\t},\r\n\t//MAIN PHOTOS\r\n\tLoadPhoto: function () {\r\n\t\tBox.Page('/edit/load_photo', '', 'photo', 400, lang_title_load_photo, lang_box_cancel, '', '', '', 0, 0, 1, 0, 0, 0);\r\n\t},\r\n\tDelPhoto: function () {\r\n\t\tBox.Show('del_photo', 400, lang_title_del_photo, lang_del_photo, lang_box_cancel, lang_box_yes, 'Profile.StartDelPhoto(); return false;');\r\n\t},\r\n\tStartDelPhoto: function () {\r\n\t\t$.get('/edit/del_photo', function (d) {\r\n\t\t\tif (d != 'no_avatar') {\r\n\t\t\t\t$('#ava').html('<img src=\"' + template_dir + '/images/no_ava_200.png\" alt=\"\">');\r\n\t\t\t\t$('#del_pho_but').hide();\r\n\t\t\t\tBox.Close('del_photo');\r\n\t\t\t} else {\r\n\t\t\t\tBox.Info('no_avatar', lang_box_header_atention, 'Нет фото для удаления', 300);\r\n\t\t\t}\r\n\t\t\tPage.Loading('stop');\r\n\t\t});\r\n\t},\r\n\tMoreInfo: function () {\r\n\t\t$('#moreInfo').show();\r\n\t\t$('#moreInfoText').text('СКРЫТЬ КОНТАКТЫ');\r\n\t\t$('#moreInfoLnk').attr('onclick', 'Profile.HideInfo()');\r\n\t},\r\n\tHideInfo: function () {\r\n\t\t$('#moreInfo').hide();\r\n\t\t$('#moreInfoText').text('ПОКАЗАТЬ КОНТАКТЫ');\r\n\t\t$('#moreInfoLnk').attr('onclick', 'Profile.MoreInfo()');\r\n\t},\r\n\tratestats: function () {\r\n\t\tBox.Page('/edit?act=ratestats','','stats',2,'',lang_msg_close,0,0,0,0,0,1,0,0,0);\r\n\t},\r\n\tnextvip: function () {\r\n\t\t$('#nextvip_load').addClass('loading');\r\n\t\t$.post('/index.php?go=refervip&act=nextvip', function (d) {\r\n\t\t\t$('#nextvip').html(d);\r\n\t\t\t//$('#nextvip').removeClass('loading');\r\n\t\t});\r\n\t}\r\n};\r\n\r\n//PHOTOS\r\nvar Photo = {\r\n\tShow: function(h) {\r\n\t\tvar id = h.split('_');\r\n\t\tvar uid = id[0].split('photo');\r\n\t\thistory.pushState({\r\n\t\t\tlink: h\r\n\t\t}, null, h);\r\n\t\tBox.Page('/index.php?go=albums&act=showphoto', 'uid=' + uid[1] + '&pid=' + id[1], 'photo_show_' + id[1], 0, '', 'Закрыть', 0, 0, 0, 0, 0, 1, 0, 1, 1);\r\n\t},\r\n\tView: function(rec_id, public_id, src, pos) {\r\n\t\tvar photo = $('#photo_view_' + rec_id + '_' + pos).attr('src');\r\n\t\tif(photo.indexOf('c_') !== -1){\r\n\t\t\tphoto = photo.replace('c_', '');\r\n\t\t}\r\n\t\tif(photo.indexOf('200_') !== -1){\r\n\t\t\tphoto = photo.replace('200_', '');\r\n\t\t}\r\n\t\tBox.Page('/index.php?go=albums&act=viewphoto', 'rec_id=' + rec_id + '&photo=' + photo, 'photo_view_' + rec_id, 0, '', 'Закрыть', 0, 0, 0, 0, 0, 1, 0, 1, 1);\r\n\t},\r\n\tPrev: function(h) {\r\n\t\tvar id = h.split('_');\r\n\t\t$('.photo_view').hide();\r\n\t\t$('.pinfo').show();\r\n\t\tif (ge('photo_view_' + id[1])) {\r\n\t\t\t$('#photo_view_' + id[1]).show();\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tPhoto.Show(h);\r\n\t\t}\r\n\t},\r\n\tClose: function(close_link) {\r\n\t\tBox.GeneralClose();\r\n\t\tif (close_link != false) {\r\n\t\t\thistory.pushState({\r\n\t\t\t\tlink: close_link\r\n\t\t\t}, null, close_link);\r\n\t\t}\r\n\t},\r\n\tDelete: function(id, hash) {\r\n\t\tBox.Show('del_photo_' + id, 0, lang_title_del_photo, lang_del_album, lang_box_cancel, lang_box_yes, 'Photo.StartDelete(' + id + ', \\'' + hash + '\\'); return false;');\r\n\t},\r\n\tStartDelete: function(id, hash) {\r\n\t\t$.post('/index.php?go=albums&act=del_photo', {\r\n\t\t\tid: id\r\n\t\t}, function(d) {\r\n\t\t\tif(d==='ok'){\r\n\t\t\t\tBox.Close('del_photo_' + id);\r\n\t\t\t\t$('#photo' + id).fadeOut(1000, function(){\r\n\t\t\t\t\t$(this).remove();\r\n\t\t\t\t});\r\n\t\t\t\tupdateNum('#albums_num',false);\r\n\t\t\t\tif ($('.card').length < 1) {\r\n\t\t\t\t\tPage.Go(location.href);\r\n\t\t\t\t}\r\n\t\t\t} else if(d==='del_ok'){\r\n\t\t\t\t$('#photo' + id).fadeOut(1000, function(){\r\n\t\t\t\t\t$(this).remove();\r\n\t\t\t\t});\r\n\t\t\t\tupdateNum('#albums_num',true);\r\n\t\t\t\tif ($('.card').length < 1) {\r\n\t\t\t\t\tPage.Go(location.href);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tlike: function(i) {\r\n\t\tupdateNum('#photos_like_' + i, true);\r\n\t\t$('#photo_likes').addClass('red');\r\n\t\t$('#photos_likes_but' + i).attr('onclick', 'Photo.dislike(' + i + ')');\r\n\t\t$.post('/index.php?go=albums&act=like', {\r\n\t\t\tpid: i\r\n\t\t});\r\n\t},\r\n\tdislike: function(i) {\r\n\t\tupdateNum('#photos_like_' + i, false);\r\n\t\t$('#photo_likes').removeClass('red');\r\n\t\t$('#photos_likes_but' + i).attr('onclick', 'Photo.like(' + i + ')');\r\n\t\t$.post('/index.php?go=albums&act=dislike', {\r\n\t\t\tpid: i\r\n\t\t});\r\n\t}\r\n};\r\n\r\n//VIDEOS\r\nvar videos = {\r\n\tadd: function(notes) {\r\n\t\tBox.Page('/index.php?go=videos&act=add', '', 'add_video', 510, lang_video_new, lang_box_cancel, lang_box_save, 'videos.send(' + notes + '); return false', 0, 0, 1, 1, 'video_lnk');\r\n\t},\r\n\tload: function() {\r\n\t\tvar video_lnk = $('#video_lnk').val();\r\n\t\tif(!video_lnk){\r\n\t\t\tBox.Info(\"boxi\",lang_box_header_error,\"Укажите ссылку на видео\",300);\r\n\t\t\t$('#result_load').hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar video_id = videos.serviece(video_lnk);\r\n\t\tif(!video_id){\r\n\t\t\tBox.Info(\"boxi\",lang_box_header_error,\"Видео не найдено\",300);\r\n\t\t\t$('#result_load').hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$('#video_lnk').val('https://www.youtube.com/watch?v=' + video_id);\r\n\t\t$('#video_id').val(video_id);\r\n\t\t$('#no_serviece').hide();\r\n\t\t$('#looad_video_but').addClass('loading');\r\n\t\t$.post('/index.php?go=videos&act=load', {\r\n\t\t\tid: video_id\r\n\t\t}, function(data) {\r\n\t\t\t$('#looad_video_but').removeClass('loading');\r\n\t\t\tif (data === 'no_serviece') {\r\n\t\t\t\t$('#no_serviece').show();\r\n\t\t\t} else {\r\n\t\t\t\t$('#looad_video_but').removeClass('orange');\r\n\t\t\t\t$('#looad_video_but').addClass('green');\r\n\t\t\t\t$('#looad_video_but').text('УСПЕШНО');\r\n\t\t\t\t$('#result_load').show();\r\n\t\t\t\t$('#photo').html('<img src=\"' + data + '\" alt=\"\" id=\"res_photo_ok\">');\r\n\t\t\t\t$('#box_but').show();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tserviece: function(request) {\r\n\t\trequest = request.replace(/http[s]?:\\/\\//,'').replace(/www\\./,'').replace(/youtu(be)?\\./,'').replace(/com\\/|ru\\/|ua\\/|kz\\/|net\\/|be\\//,'').replace(/&.*/,'').replace(/watch\\?v=/,'');\r\n\t\tvar regexp = /[a-z0-9_-]+$/gi;\r\n\t\tif(regexp.exec(request) != null){\r\n\t\t\treturn request;\r\n\t\t}\r\n\t\treturn '';\r\n\t},\r\n\tsend: function(notes) {\r\n\t\tvar photo = $('#res_photo_ok').attr('src');\r\n\t\tvar video_id = $('#video_id').val();\r\n\t\tif(!video_id){\r\n\t\t\tBox.Info('msg_videos', lang_box_header_info, lang_videos_no_url, 300);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$('#box_but').hide();\r\n\t\t$.post('/index.php?go=videos&act=send', {\r\n\t\t\tid: video_id,\r\n\t\t\tphoto: photo,\r\n\t\t\tnotes: notes\r\n\t\t}, function(d) {\r\n\t\t\tBox.Close('add_video');\r\n\t\t\td = d.split('|');\r\n\t\t\tif(d[0]==='error'){\r\n\t\t\t\tBox.Info('msg_videos', lang_box_header_info, d[1], 300);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (notes == 1) {\r\n\t\t\t\twysiwyg.boxVideo(d[0], d[1], d[2]);\r\n\t\t\t} else {\r\n\t\t\t\t$('<div id=\"video'+d[2]+'\" class=\"card\"></span>').prependTo('#videos').html('<div class=\"image\"><a class=\"ui red corner label\" onclick=\"videos.delet('+d[2]+'); return false\"><i class=\"delete icon\"></i></a><img class=\"ui wireframe image\" src=\"'+d[0]+'\" alt=\"'+d[2]+'\" onclick=\"videos.show('+d[2]+',\\'/video'+d[1]+'_'+d[2]+'\\',location.href)\"></div><div class=\"extra\"><div class=\"ui label\"><i class=\"thumbs up icon\"></i><span id=\"like_video'+d[2]+'\">0</span></div><span class=\"right floated\">'+d[3]+'</span></div>');\r\n\t\t\t\tupdateNum('#video_num',true);\r\n\t\t\t\t$('#videos_num').val($('#video_num').text());\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tpage: function() {\r\n\t\tvar name = $('.scroll_page').attr('id');\r\n\t\tvar get_user_id = $('#user_id').val();\r\n\t\tvar last_id = $('#' + name + ' input:last').attr('value');\r\n\t\tvar set_last_id = $('#set_last_id').val();\r\n\t\tvar videos_size = $('#videos_num').val();\r\n\t\tif (set_last_id != last_id && videos_size > 20) {\r\n\t\t\t$('#' + name).append(lang_scroll_loading);\r\n\t\t\t$.post('/index.php?go=videos&act=page', {\r\n\t\t\t\tget_user_id: get_user_id,\r\n\t\t\t\tlast_id: last_id\r\n\t\t\t}, function(d) {\r\n\t\t\t\t$('#' + name).append(d);\r\n\t\t\t\t$('#scroll_loading').remove();\r\n\t\t\t});\r\n\t\t\t$('#set_last_id').val(last_id);\r\n\t\t}\r\n\t},\r\n\tdelet: function(vid) {\r\n\t\tBox.Show('del_video_' + vid, 400, lang_title_del_photo, lang_videos_del_text, lang_box_cancel, lang_box_yes, 'videos.startDel(' + vid + '); return false');\r\n\t},\r\n\tstartDel: function(vid) {\r\n\t\t$.post('/index.php?go=videos&act=delet', {\r\n\t\t\tvid: vid\r\n\t\t}, function(d) {\r\n\t\t\tif(d=='ok'){\r\n\t\t\t\tBox.Close('del_video_' + vid);\r\n\t\t\t\t$('#video' + vid).fadeOut(1000, function(){\r\n\t\t\t\t\t$(this).remove();\r\n\t\t\t\t});\r\n\t\t\t\tupdateNum('#video_num',false);\r\n\t\t\t\t$('#videos_num').val($('#video_num').text());\r\n\t\t\t\tif ($('.card').length < 1) {\r\n\t\t\t\t\tPage.Go(location.href);\r\n\t\t\t\t}\r\n\t\t\t} else if(d=='del_ok'){\r\n\t\t\t\t$('#video' + vid).fadeOut(1000, function(){\r\n\t\t\t\t\t$(this).remove();\r\n\t\t\t\t});\r\n\t\t\t\tupdateNum('#video_num',true);\r\n\t\t\t\t$('#videos_num').val($('#video_num').text());\r\n\t\t\t\tif ($('.card').length < 1) {\r\n\t\t\t\t\tPage.Go(location.href);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\teditbox: function(vid) {\r\n\t\tBox.Page('/index.php?go=videos&act=edit', 'vid=' + vid, 'edit_video', 510, lang_video_edit, lang_box_cancel, lang_box_save, 'videos.editsave(' + vid + '); return false', 255, 0, 1, 1, 0);\r\n\t\t$('#video_object').hide(); //скрываем код видео, чтоб модал-окно норм появилось\r\n\t},\r\n\tshow: function(vid, h, close_link) {\r\n\t\tif (vid) {\r\n\t\t\thistory.pushState({\r\n\t\t\t\tlink: h\r\n\t\t\t}, null, h);\r\n\t\t\tBox.Page('/index.php?go=videos&act=show', 'vid=' + vid + '&close_link=' + close_link, 'video_show', 0, '', 'Закрыть', 0, 0, 0, 0, 1, 1, 0, 0, 1);\r\n\t\t}\r\n\t},\r\n\tprev: function(req_href) {\r\n\t\tvar filter_one = req_href.split('_');\r\n\t\tvar filter_two = filter_one[0].split('video');\r\n\t\tvar video_url = '/video' + filter_two[1] + '_' + filter_one[1];\r\n\t\tvideos.show(filter_one[1], video_url);\r\n\t},\r\n\tclose: function(owner_id, close_link) {\r\n\t\tBox.GeneralClose();\r\n\t\tif (is_moz && !is_chrome) {\r\n\t\t\t$(window).scrollTop(scrollTopForFirefox);\r\n\t\t}\r\n\t\tif (close_link) {\r\n\t\t\thistory.pushState({\r\n\t\t\t\tlink: close_link\r\n\t\t\t}, null, close_link);\r\n\t\t} else {\r\n\t\t\thistory.pushState({\r\n\t\t\t\tlink: '/videos/' + owner_id\r\n\t\t\t}, null, '/videos/' + owner_id);\r\n\t\t}\r\n\t},\r\n\tlike: function(i) {\r\n\t\tupdateNum('#videos_like_' + i, true);\r\n\t\t$('#video_likes').addClass('red');\r\n\t\t$('#videos_likes_but' + i).attr('onclick', 'videos.dislike(' + i + ')');\r\n\t\t$.post('/index.php?go=videos&act=like', {\r\n\t\t\tpid: i\r\n\t\t});\r\n\t},\r\n\tdislike: function(i) {\r\n\t\tupdateNum('#videos_like_' + i, false);\r\n\t\t$('#video_likes').removeClass('red');\r\n\t\t$('#videos_likes_but' + i).attr('onclick', 'videos.like(' + i + ')');\r\n\t\t$.post('/index.php?go=videos&act=dislike', {\r\n\t\t\tpid: i\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// RADIO BUTTON\r\nvar radiobtn = {\r\n\tselect: function (j, i) {\r\n\t\t$('#' + j).val(i);\r\n\t\t$('.settings_reason').removeClass('on');\r\n\t\t$(event.target).addClass('on');\r\n\t}\r\n};\r\n\r\n//MODAL BOX\r\nvar Box = {\r\n\tPage: function (url, data, name, width, title, cancel_text, func_text, func, height, overflow, inverted, closable, input_focus, cache, basic) {\r\n\t\t//15 параметров\r\n\t\t//url - ссылка которую будем загружать\r\n\t\t//data - POST данные\r\n\t\t//name - id окна\r\n\t\t//width - ширина окна\r\n\t\t//title - заголовк окна\r\n\t\t//content - контент окна\r\n\t\t//close_text - текст закрытия\r\n\t\t//func_text - текст который будет выполнять функцию\r\n\t\t//func - функция текста \"func_text\"\r\n\t\t//height - высота окна\r\n\t\t//overflow - постоянный скролл\r\n\t\t//bg_show - \"1\" - на белом фоне, \"0\" - на черном фоне\r\n\t\t//bg_show_bottom - \"1\" - с тенью внтури, \"0\" - без тени внутри\r\n\t\t//input_focus - ИД текстового поля на котором будет фиксация\r\n\t\t//cache - \"1\" - кешировоть, \"0\" - не кешировать\r\n\t\t//basic - \"1\" - прозрачное окно, \"0\" - полое окно\r\n\t\tif (cache) {\r\n\t\t\tif (ge('modal_box_' + name)) {\r\n\t\t\t\tBox.ShowInName(name, cache, inverted, closable);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tPage.Loading('start');\r\n\t\t$.post(url, data, function (content) {\r\n\t\t\tBox.Show(name, width, title, content, cancel_text, func_text, func, height, overflow, inverted, closable, cache, basic);\r\n\t\t\tPage.Loading('stop');\r\n\t\t\tif (input_focus) {\r\n\t\t\t\t$('#'+input_focus).focus();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tShow: function (name, width, title, content, cancel_text, func_text, func, height, overflow, inverted, closable, cache, basic) {\r\n\t\t//name - id окна\r\n\t\t//width - ширина окна\r\n\t\t//title - заголовк окна\r\n\t\t//content - контент окна\r\n\t\t//cancel_text - текст закрытия\r\n\t\t//func_text - текст который будет выполнять функцию\r\n\t\t//func - функция текста \"func_text\"\r\n\t\t//height - высота окна\r\n\t\t//overflow - постоянный скролл\r\n\t\t//inverted - цвет фона true светлый\r\n\t\t//closable -\r\n\t\t//cache - \"1\" - кешировоть, \"0\" - не кешировать\r\n\t\t//basic - без фона true\r\n\t\tvar func_but = '';\r\n\t\tif (func_text) {\r\n\t\t\tfunc_but = '<div id=\"box_butt_create\" class=\"ui orange button\" onclick=\"'+func+'\">'+func_text+'</div>';\r\n\t\t}\r\n\t\tvar close_but = '';\r\n\t\tif (cancel_text) {\r\n\t\t\tclose_but = '<div class=\"ui button\" onclick=\"Box.Close(\\''+name+'\\', '+cache+'); return false;\">'+cancel_text+'</div>';\r\n\t\t}\r\n\t\tif (overflow) {\r\n\t\t\toverflow = 'overflow-y:scroll;';\r\n\t\t} else {\r\n\t\t\toverflow = '';\r\n\t\t}\r\n\t\tif (width == 1) {\r\n\t\t\twidth = '';\r\n\t\t} else if (width == 2) {\r\n\t\t\twidth = 'small';\r\n\t\t} else {\r\n\t\t\twidth = 'fullscreen';\r\n\t\t}\r\n\t\tvar long = '';\r\n\t\tif (height) {\r\n\t\t\tif (height === 'auto') {\r\n\t\t\t\theight = 'height:'+height+';';\r\n\t\t\t} else {\r\n\t\t\t\theight = 'height:'+height+'px;';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\theight = '';\r\n\t\t\tlong = 'long ';\r\n\t\t}\r\n\t\tvar black = ' white';\r\n\t\tif(inverted){\r\n\t\t\tblack = ' black'\r\n\t\t}\r\n\t\tvar modal_basic = '';\r\n\t\tif (basic) {\r\n\t\t\tmodal_basic = ' basic';\r\n\t\t}\r\n\t\tvar close = '';\r\n\t\tif (closable) {\r\n\t\t\tclose = '<i class=\"close'+black+' icon\"></i>';\r\n\t\t}\r\n\t\tif(title){\r\n\t\t\ttitle='<div class=\"header\" id=\"box_title_'+name+'\">'+title+'</div>';\r\n\t\t}else{\r\n\t\t\ttitle='';\r\n\t\t}\r\n\t\tif (!ge('modal_box_'+name)) {\r\n\t\t\t$('body').append('<div id=\"modal_box_'+name+'\" class=\"ui '+long+width+modal_basic+' modal '+name+'\">'+close+title+'<div class=\"content\" id=\"box_content_'+name+'\" style=\"'+height+overflow+'\">'+content+'</div><div id=\"box_but\" class=\"actions\">'+close_but+func_but+'</div></div>');\r\n\t\t}\r\n\t\tBox.ShowInName(name, cache, inverted, closable);\r\n\t\t$(window).keydown(function (event) {\r\n\t\t\tif (event.keyCode === 27) {\r\n\t\t\t\tBox.Close(name, cache);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tShowInName: function (name, cache, inverted, closable) {\r\n\t\tif (!inverted) {\r\n\t\t\tinverted = false;\r\n\t\t} else {\r\n\t\t\tinverted = true;\r\n\t\t}\r\n\t\tif (!closable) {\r\n\t\t\tclosable = false;\r\n\t\t} else {\r\n\t\t\tclosable = true;\r\n\t\t}\r\n\t\t$('.ui.modal.' + name).modal({\r\n\t\t\tinverted: inverted,\r\n\t\t\tclosable: closable,\r\n\t\t\toffset: 1200,\r\n\t\t\tonHide: function () {\r\n\t\t\t\tif (ge('miniature_crop')) {\r\n\t\t\t\t\t$('#miniature_crop').imgAreaSelect({\r\n\t\t\t\t\t\tenable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonHidden: function () {\r\n\t\t\t\tif (!cache && ge('modal_box_' + name)) {\r\n\t\t\t\t\t$('#modal_box_' + name).remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).modal('show');\r\n\t},\r\n\tClose: function (name, cache) {\r\n\t\t$('.ui.modal.'+name).modal('hide');\r\n\t\tif(!cache){\r\n\t\t\t$('.ui.modal.'+name).fadeOut(function () {\r\n\t\t\t\t$(this).remove();\r\n\t\t\t});\r\n\t\t}\r\n\t\t$('#miniature_crop').imgAreaSelect({\r\n\t\t\tremove: true\r\n\t\t});\r\n\t},\r\n\tGeneralClose: function () {\r\n\t\tvar $uimodal = $('.ui.modal');\r\n\t\t$uimodal.modal('hide');\r\n\t\t$uimodal.fadeOut(function () {\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n\t},\r\n\tInfo: function (bid, title, content, width, tout, color) {\r\n\t\tif (!width) {\r\n\t\t\twidth = 300;\r\n\t\t}\r\n\t\tswitch (title){\r\n\t\t\tcase lang_box_header_atention:\r\n\t\t\t\tcolor = 'orange';\r\n\t\t\t\tbreak;\r\n\t\t\tcase lang_box_header_error:\r\n\t\t\t\tcolor = 'red';\r\n\t\t\t\tbreak;\r\n\t\t\tcase lang_box_header_info:\r\n\t\t\t\tcolor = 'blue';\r\n\t\t\t\tbreak;\r\n\t\t\tcase lang_box_header_success:\r\n\t\t\t\tcolor = 'green';\r\n\t\t\t\tbreak;\r\n\t\t\tcase lang_box_header_warning:\r\n\t\t\t\tcolor = 'brown';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tcolor = 'purple';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tvar top_pad = ($(window).height() - 115) / 2;\r\n\t\tvar left_pad = ($(window).width() - width) / 2;\r\n\t\tif (!ge(bid)) {\r\n\t\t\t$('body').append('<div id=\"' + bid + '\" class=\"box_info body\"><div class=\"ui secondary inverted large ' + color + ' segment message\" style=\"width:' + width + 'px; margin-top:' + top_pad + 'px; margin-left:' + left_pad + 'px;z-index:9999;padding:15px;\"><i class=\"close icon\" onclick=\"Box.InfoClose();\"></i><b><span>' + title + '</span></b><br /><br />' + content + '</div><div class=\"ui inverted dimmer\"></div></div>');\r\n\t\t} else {\r\n\t\t\t$('#' + bid).fadeIn();\r\n\t\t}\r\n\t\t$('.box_info').dimmer('show');\r\n\t\t$('#' + bid).show();\r\n\t\tif (!tout) {\r\n\t\t\ttout = 7000;\r\n\t\t}\r\n\t\tsetTimeout(\"Box.InfoClose()\", tout);\r\n\t\t$(window).keydown(function (event) {\r\n\t\t\tif (event.keyCode == 27) {\r\n\t\t\t\tBox.InfoClose();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tInfoClose: function () {\r\n\t\tvar $boxinfo = $('.box_info');\r\n\t\t$boxinfo.dimmer('hide');\r\n\t\t$boxinfo.fadeOut(function () {\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n\t}\r\n};\r\n/*не удалять, доработать для ленты новостей неавторизованным*/\r\nvar wall_all = {\r\n\tevent: function() {\t}\r\n};\r\nfunction isset(arg, level){\r\n\tif(level){\r\n\t\treturn typeof(arg) !== 'undefined' && arg !== null;\r\n\t}\r\n\treturn typeof(arg) !== 'undefined';\r\n}\r\nfunction ge(i) {\r\n\treturn document.getElementById(i);\r\n}\r\n\r\nfunction in_array(myValue, myArray) {\r\n\tfunction equals(a, b) {\r\n\t\treturn (a === b);\r\n\t}\r\n\tfor (var i in myArray)\r\n\t\tif (equals(myArray[i], myValue))\r\n\t\t\treturn true;\r\n\treturn false;\r\n}\r\nfunction butloading(i, w, d, t) {\r\n\tif (d == 'disabled') {\r\n\t\t$('#' + i).html('<div style=\"width:' + w + 'px;text-align:center;\"><img src=\"' + template_dir + '/images/loading_mini.gif\" alt=\"\" /></div>');\r\n\t\tge(i).disabled = true;\r\n\t} else {\r\n\t\t$('#' + i).html(t);\r\n\t\tge(i).disabled = false;\r\n\t}\r\n}\r\nfunction buttonload(i, c, d, t) {\r\n\tif (d == 'disabled') {\r\n\t\t$('#' + i).html('<div class=\"ui ' + c + ' loading button\">' + t + '</div>');\r\n\t} else {\r\n\t\t$('#' + i).html('<div class=\"ui ' + c + ' button\">' + t + '</div>');\r\n\t}\r\n}\r\nfunction butload(color, cls, d) {\r\n\tif (d == 'disabled') {\r\n\t\t$('.' + color + '.' + cls).addClass('loading');\r\n\t} else {\r\n\t\t$('.' + color + '.' + cls).removeClass('loading');\r\n\t}\r\n}\r\nfunction butloadid(id, d) {\r\n\tif (d == 'disabled') {\r\n\t\t$('#' + id).addClass('loading');\r\n\t} else {\r\n\t\t$('#' + id).removeClass('loading');\r\n\t}\r\n}\r\nfunction butcolor(id, old, now) {\r\n\t$('#' + id).removeClass(old);\r\n\t$('#' + id).addClass(now);\r\n}\r\nfunction textLoad(i) {\r\n\t$('#' + i).html('<img src=\"' + template_dir + '/images/loading_mini.gif\" alt=\"\" />').attr('onclick', '').attr('href', '#');\r\n}\r\n/**\r\n * @description Меняет значение text тега в большую, если true,  или в меньшую, если false, сторону\r\n * @param {String} id\r\n * @param {Boolean} type\r\n * @returns {Boolean} */\r\nfunction updateNum(id, type) {\r\n\tvar parse = $(id).text();\r\n\tif (type) { //прибавляем\r\n\t\tif (parse == '') {\r\n\t\t\t$(id).text('1');\r\n\t\t} else {\r\n\t\t\tif(parse != '+99'){\r\n\t\t\t\tvar rez = parseInt(parse) + 1;\r\n\t\t\t\tvar itog = rez>99?'+99':rez;\r\n\t\t\t\t$(id).text(itog);\r\n\t\t\t}\r\n\t\t}\r\n\t} else { //вычитаем\r\n\t\tif (parse == '' || parse == '1') {\r\n\t\t\t$(id).text('');\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tif(parse != '+99'){\r\n\t\t\t\tvar rez = parseInt(parse) - 1;\r\n\t\t\t\t$(id).text(rez);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\nfunction ads_close() {\r\n\t$(\"#ads_view\").fadeOut(400);\r\n}\r\nfunction setErrorInputMsg(i) {\r\n\t$(\"#\"+i).css('background', '#fff0f0').focus();\r\n\tsetTimeout(\"$('#\"+i+\"').css('background','').focus()\", 3000);\r\n}\r\nfunction setErrorInputUi(i) {\r\n\t$(\"#\" + i).addClass('error').focus();\r\n\tvar errorDiv = $(\"#\" + i).first();\r\n\tvar scrollPos = errorDiv.offset().top - 100;\r\n\t$(window).scrollTop(scrollPos);\r\n\tsetTimeout(\"$('#\"+i+\"').removeClass('error').focus()\", 3000);\r\n}\r\nfunction addAllErr(text, tim) {\r\n\tif (!tim) {\r\n\t\ttim = 2500;\r\n\t}\r\n\t$('.privacy_err').remove();\r\n\t$('body').append('<div class=\"privacy_err no_display\">'+text+'</div>');\r\n\t$('.privacy_err').fadeIn('fast');\r\n\tsetTimeout(function(){\r\n\t\t$('.privacy_err').fadeOut('fast');\r\n\t},tim);\r\n}\r\n\r\nfunction langNumric(id, num, text1, text2, text3, text4, text5) {\r\n\tvar strlen_num = num.length;\r\n\tvar parsnum,numres,gram_num_record;\r\n\tif (num <= 21) {\r\n\t\tnumres = num;\r\n\t} else if (strlen_num == 2) {\r\n\t\tparsnum = num.substring(1, 2);\r\n\t\tnumres = parsnum.replace('0', '10');\r\n\t} else if (strlen_num == 3) {\r\n\t\tparsnum = num.substring(2, 3);\r\n\t\tnumres = parsnum.replace('0', '10');\r\n\t} else if (strlen_num == 4) {\r\n\t\tparsnum = num.substring(3, 4);\r\n\t\tnumres = parsnum.replace('0', '10');\r\n\t} else if (strlen_num == 5) {\r\n\t\tparsnum = num.substring(4, 5);\r\n\t\tnumres = parsnum.replace('0', '10');\r\n\t}\r\n\tif (numres <= 0) {\r\n\t\tgram_num_record = text5;\r\n\t} else if (numres == 1) {\r\n\t\tgram_num_record = text1;\r\n\t} else if (numres < 5) {\r\n\t\tgram_num_record = text2;\r\n\t} else if (numres < 21) {\r\n\t\tgram_num_record = text3;\r\n\t} else if (numres == 21) {\r\n\t\tgram_num_record = text4;\r\n\t} else {\r\n\t\tgram_num_record = '';\r\n\t}\r\n\t$('#' + id).html(gram_num_record);\r\n}\r\n\r\nfunction langNumricMinus(id, num, text1, text2, text3, text4, text5) {\r\n\tvar strlen_num = num.length;\r\n\tvar parsnum,numres,gram_num_record;\r\n\tif (num <= 21) {\r\n\t\tnumres = num;\r\n\t} else if (strlen_num == 2) {\r\n\t\tparsnum = num.substring(1, 2);\r\n\t\tnumres = parsnum.replace('0', '10');\r\n\t} else if (strlen_num == 3) {\r\n\t\tparsnum = num.substring(2, 3);\r\n\t\tnumres = parsnum.replace('0', '10');\r\n\t} else if (strlen_num == 4) {\r\n\t\tparsnum = num.substring(3, 4);\r\n\t\tnumres = parsnum.replace('0', '10');\r\n\t} else if (strlen_num == 5) {\r\n\t\tparsnum = num.substring(4, 5);\r\n\t\tnumres = parsnum.replace('0', '10');\r\n\t}\r\n\tif (numres <= 0) {\r\n\t\tgram_num_record = text5;\r\n\t} else if (numres == 1) {\r\n\t\tgram_num_record = text1;\r\n\t} else if (numres < 5) {\r\n\t\tgram_num_record = text2;\r\n\t} else if (numres < 21) {\r\n\t\tgram_num_record = text3;\r\n\t} else if (numres == 21) {\r\n\t\tgram_num_record = text4;\r\n\t} else {\r\n\t\tgram_num_record = '';\r\n\t}\r\n\t$('#' + id).html(gram_num_record);\r\n}\r\n\r\n//Hide Inline\r\nfunction hide(el) {\r\n\tvar ge = document.getElementById(el).style.display = 'none';\r\n\treturn ge;\r\n}\r\n\r\nfunction show(el) {\r\n\tvar ge = document.getElementById(el).style.display = 'block';\r\n\treturn ge;\r\n}\r\n\r\nvaluta = 'коинт';\r\nvaluta_0 = 'коинтов';\r\n//склонение валюты\r\nfunction gram_record(num, type) {\r\n\tvar strl_num = num.length;\r\n\tvar numres = 0;\r\n\tif (num <= 21) {\r\n\t\tnumres = num;\r\n\t} else if (strl_num > 1) {\r\n\t\tvar parsnum = num.substr(strl_num - 1, strl_num);\r\n\t\tnumres = parsnum.replace(/0/gi, '10');\r\n\t}\r\n\tvar gram_num_record = '';\r\n\tswitch (type) {\r\n\t\tcase 'votes':\r\n\t\t\tif (numres == 0) {\r\n\t\t\t\tgram_num_record = valuta + 'ов';\r\n\t\t\t} else if (numres == 1 || numres == 21) {\r\n\t\t\t\tgram_num_record = valuta;\r\n\t\t\t} else if (numres < 5) {\r\n\t\t\t\tgram_num_record = valuta + 'а';\r\n\t\t\t} else if (numres < 21) {\r\n\t\t\t\tgram_num_record = valuta + 'ов';\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'rot':\r\n\t\t\tif (numres == 0) {\r\n\t\t\t\tgram_num_record = 'ротаций';\r\n\t\t\t} else if (numres == 1 || numres == 21) {\r\n\t\t\t\tgram_num_record = 'ротация';\r\n\t\t\t} else if (numres < 5) {\r\n\t\t\t\tgram_num_record = 'ротации';\r\n\t\t\t} else if (numres < 21) {\r\n\t\t\t\tgram_num_record = 'ротаций';\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'star':\r\n\t\t\tif (numres == 0) {\r\n\t\t\t\tgram_num_record = 'звезд';\r\n\t\t\t} else if (numres == 1 || numres == 21) {\r\n\t\t\t\tgram_num_record = 'звезда';\r\n\t\t\t} else if (numres < 5) {\r\n\t\t\t\tgram_num_record = 'звезды';\r\n\t\t\t} else if (numres < 21) {\r\n\t\t\t\tgram_num_record = 'звезд';\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'reg':\r\n\t\t\tif (numres == 0) {\r\n\t\t\t\tgram_num_record = 'регистраций';\r\n\t\t\t} else if (numres == 1 || numres == 21) {\r\n\t\t\t\tgram_num_record = 'регистрация';\r\n\t\t\t} else if (numres < 5) {\r\n\t\t\t\tgram_num_record = 'регистрации';\r\n\t\t\t} else if (numres < 21) {\r\n\t\t\t\tgram_num_record = 'регистраций';\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\treturn gram_num_record;\r\n}\r\n\r\n//LANG\r\ntemplate_dir = '/templates/Default';\r\nlang_reg_error_name = 'Некорректное Имя';\r\nlang_reg_error_fname = 'Некорректная Фамилия';\r\nlang_empty = 'Все поля обязательны к заполнению';\r\nlang_bad_email = 'Неправильный адрес. Возможно адрес указан с ошибкой.';\r\nlang_no_icq = 'Номер ICQ должен состоять только из цифр';\r\nlang_no_phone = 'Этот контакт должен состоять только из цифр';\r\nlang_infosave = 'Изменения сохранены';\r\nlang_box_welcome = 'Добро пожаловать в бизнес сеть KALEOSTRA';\r\nlang_bad_format = 'Неверный формат файла';\r\nlang_del_photo = 'Вы уверены, что хотите удалить фотографию?';\r\nlang_del_album = 'Вы уверены, что хотите удалить фото?';\r\nlang_title_del_photo = 'Предупреждениe';\r\nlang_box_header_atention = 'Внимание';\r\nlang_box_header_error = 'Ошибка';\r\nlang_box_header_success = 'Успешно';\r\nlang_box_header_info = 'Информация';\r\nlang_box_header_warning = 'Предупреждениe';\r\nlang_box_cancel = 'Отмена';\r\nlang_box_yes = 'Да';\r\nlang_box_send = 'Отправить';\r\nlang_box_save = 'Сохранить';\r\nlang_box_insert = 'Вставить';\r\nlang_title_load_photo = 'Загрузка главной фотографии';\r\nlang_del_comm = 'Комментарий успешно удален.';\r\nlang_edit_albums = 'Редактирование альбома';\r\nlang_demand_ok = 'Заявка отправлена';\r\nlang_demand_sending = 'Заявка отправляется';\r\nlang_demand_sending_t = 'В данный момент заявка на партнерство отправляется';\r\nlang_demand_s_ok = ' отправлено уведомление на добавление в партнеры.';\r\nlang_take_ok = 'Заявка принята';\r\nlang_take_no = 'Заявка отклонена';\r\nlang_take_no2 = 'Вы отменили свою заявку и отписались';\r\nlang_friend_del_ok = 'Пользователь удален из списка партнеров';\r\nlang_no_fave = 'Объекта не существует';\r\nlang_yes_fave = 'Этот объект уже есть у Вас в закладках';\r\nlang_del_fave = 'Удалить из закладок';\r\nlang_add_fave = 'Добавить в закладки';\r\nlang_fave_info = 'Вы уверены, что хотите удалить эту закладку?';\r\nlang_new_msg = 'Новое сообщение';\r\nlang_new_msg_send = 'Отправить';\r\nlang_msg_box = 'Сообщения';\r\nlang_msg_max_strlen = 'Ваше сообщение слишком длинное';\r\nlang_msg_ok_title = 'Сообщение отправлено';\r\nlang_msg_ok_text = 'Ваше сообщение успешно отправлено';\r\nlang_msg_close = 'Закрыть';\r\nlang_notes_setting_addphoto = 'Настройки фотографии';\r\nlang_notes_setting_addvdeio = 'Настройки видеозаписи';\r\nlang_rotation_reward = 'Вознаграждение за ротацию успешно начислено';\r\nlang_wysiwyg_title = 'Настройки ссылки';\r\nlang_unsubscribe = 'Отписаться от обновлений';\r\nlang_subscription = 'Подписаться на обновления';\r\nlang_subscription_box_title = 'Подписки';\r\nlang_video_new = 'Добавление нового видео';\r\nlang_videos_no_url = 'Введите ссылку на видеоролик.';\r\nlang_videos_del_text = 'Вы действительно хотите удалить эту видеозапись?';\r\nlang_video_edit = 'Редактирование видеозаписи';\r\nlang_scroll_loading = '<span id=\"scroll_loading\"><center><img src=\"' + template_dir + '/images/loading_mini.gif\" alt=\"\" /></center><br /></span>';\r\nlang_max_size = 'Превышен максимальный размер изображения.';\r\nlang_pr_no_title = 'Ошибка доступа';\r\nlang_support_text = 'Вы действительно хотите удалить вопрос? Это действие нельзя будет отменить.';\r\nlang_news_text = 'Вы действительно хотите удалить новость? Это действие нельзя будет отменить.';\r\nlang_groups_new = 'Создание новой Команды';\r\nlang_groups_cretate = 'Создать Команду';\r\nlang_wall_del_ok = '<div class=\"color777\">Запись успешно удалена.</div>';\r\nlang_wall_delall_ok = '<div class=\"color777\">Все записи этого пользователя удалены.</div>';\r\nlang_wall_del_com_ok = '<div class=\"online\" style=\"margin-bottom:10px\">Комментарий успешно удален.</div>';\r\nlang_wall_all_lnk = 'к предыдущим записям';\r\nlang_wall_hide_comm = 'Скрыть комментарии';\r\nlang_wall_atttach_addsmile = 'Выберите смайлик для отправки';\r\nlang_wall_attatch_photos = 'Выберите фотографию';\r\nlang_wall_attatch_videos = 'Выберите видеозапись';\r\nlang_wall_no_atttach = 'Не прикреплять';\r\nlang_wall_max_smiles = 'Максимально можно прикреплять 3 смайлика.';\r\nlang_wall_liked_users = 'Люди, которым это понравилось';\r\n\r\nfunction Register(data) {\r\n\tVK.Api.call('users.get', {\r\n\t\tuids: data.session.mid,\r\n\t\tfields: 'first_name,last_name,photo_max_orig,photo_50,photo_100,photo_200,sex',\r\n\t\tv: v_vk\r\n\t}, function (r) {\r\n\t\tif (r.response) {\r\n\t\t\t$.post(\"/vklogin\", {\r\n\t\t\t\textraData: 'register',\r\n\t\t\t\tuid: data.session.mid,\r\n\t\t\t\temail: data.session.email,\r\n\t\t\t\tfirst_name: r.response[0].first_name,\r\n\t\t\t\tlast_name: r.response[0].last_name,\r\n\t\t\t\tsex: r.response[0].sex,\r\n\t\t\t\tphoto: r.response[0].photo_max_orig,\r\n\t\t\t\tphoto50: r.response[0].photo_50,\r\n\t\t\t\tphoto100: r.response[0].photo_100,\r\n\t\t\t\tphoto200: r.response[0].photo_200\r\n\t\t\t}, function (json) {\r\n\t\t\t\tif (json.res == 'success') {\r\n\t\t\t\t\tlocation.href = url_site + json.loc;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tBox.Info(\"boxi\", lang_box_header_atention, \"Регистрация через Вконтакте не выполнена! Вы уже зарегистрированы.\", 300);\r\n\t\t\t\t}\r\n\t\t\t}, 'json');\r\n\t\t}\r\n\t});\r\n}\r\nfunction Login(data) {\r\n\tVK.Api.call('users.get', {\r\n\t\tuids: data.session.mid,\r\n\t\tfields: 'first_name,last_name,photo_max_orig,photo_50,photo_100,photo_200,sex',\r\n\t\tv: v_vk\r\n\t}, function (r) {\r\n\t\tif (r.response) {\r\n\t\t\t$.post(\"/vklogin\", {\r\n\t\t\t\textraData: 'login',\r\n\t\t\t\tuid: data.session.mid,\r\n\t\t\t\temail: data.session.email,\r\n\t\t\t\tfirst_name: r.response[0].first_name,\r\n\t\t\t\tlast_name: r.response[0].last_name,\r\n\t\t\t\tsex: r.response[0].sex,\r\n\t\t\t\tphoto: r.response[0].photo_max_orig,\r\n\t\t\t\tphoto50: r.response[0].photo_50,\r\n\t\t\t\tphoto100: r.response[0].photo_100,\r\n\t\t\t\tphoto200: r.response[0].photo_200\r\n\t\t\t}, function (json) {\r\n\t\t\t\tif (json.res === 'success') {\r\n\t\t\t\t\tlocation.href = url_site + json.loc;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tBox.Info(\"boxi\", lang_box_header_atention, \"Вход через Вконтакте не выполнен! Вы не зарегистрированы.\", 300);\r\n\t\t\t\t}\r\n\t\t\t}, 'json');\r\n\t\t}\r\n\t});\r\n}\r\nfunction ReLogin(data) {\r\n\tVK.Api.call('users.get', {\r\n\t\tuids: data.session.mid,\r\n\t\tfields: 'first_name,last_name',\r\n\t\tv: v_vk\r\n\t}, function (r) {\r\n\t\tif (!r.response) {\r\n\t\t\tBox.Info(\"boxi\", lang_box_header_atention, \"Авторизация через Вконтакте не выполнена! Сервер Вконтакте временно недоступен. Попробуйте позднее.\", 300);\r\n\t\t}\r\n\t\t$.post(\"/vklogin\", {\r\n\t\t\textraData: 'relogin',\r\n\t\t\tuid: data.session.mid\r\n\t\t}, function (json) {\r\n\t\t\tvar rez = json.res;\r\n\t\t\tif (json.res === 'success') {\r\n\t\t\t\tlocation.reload();\r\n\t\t\t} else if (json.res === 'error'){\r\n\t\t\t\tBox.Info(\"boxi\", lang_box_header_atention, \"Авторизация через Вконтакте не выполнена! Обратитесь в службу поддержки.\", 300);\r\n\t\t\t\tdeleteCookie('remixsid');\r\n\t\t\t\tdeleteCookie('remixstid');\r\n\t\t\t\tdeleteCookie('remixrefkey');\r\n\t\t\t} else {\r\n\t\t\t\tvar d = rez.split('|');\r\n\t\t\t\tif(d[1]){\r\n\t\t\t\t\tBox.Info(\"boxi\", lang_box_header_atention, \"Авторизация через Вконтакте не выполнена! Данный аккаунт ВК уже привязан к другому профилю ID \" + d[1], 300);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 'json');\r\n\t});\r\n}\r\n\r\nfunction login_ok() {\r\n\tvar config = {\r\n\t\tapp_id: 1248316928,\r\n\t\tapp_key: 'CBAPMIGLEBABABABA'\r\n\t};\r\n\tconfig.oauth = { };\r\n\tconfig.oauth.url = location.origin + location.pathname + location.search;\r\n\tconfig.oauth.scope = 'VALUABLE_ACCESS';\r\n\tOKSDK.init(config, function () {\r\n\t\tconsole.log('OKSDK success');\r\n\t}, function (error) {\r\n\t\tconsole.log('OKSDK error while requesting access_token ' + OKSDK.Util.toString(error));\r\n\t});\r\n}\r\n\r\nfunction utime_to_hms(utime) {\r\n\tvar m = [];\r\n\tm[0] = Math.floor(utime / 86400);\r\n\tm[1] = Math.floor(utime / 3600);\r\n\tm[2] = Math.floor((utime / 3600 - m[1]) * 60);\r\n\tm[3] = Math.floor((((utime / 3600 - m[1]) * 60) - m[2]) * 60);\r\n\treturn m;\r\n}\r\nfunction key_press_13(event){\r\n\tconsole.log(event.keyCode);\r\n\tif(event.keyCode === 10 || event.keyCode === 13 || (event.ctrlKey && event.keyCode === 13))\r\n\t\treturn false;\r\n}\r\n/*var DMap = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, 10: 10, 11: 11, 12: 12, 13: 13, 14: 14, 15: 15, 16: 16, 17: 17, 18: 18, 19: 19, 20: 20, 21: 21, 22: 22, 23: 23, 24: 24, 25: 25, 26: 26, 27: 27, 28: 28, 29: 29, 30: 30, 31: 31, 32: 32, 33: 33, 34: 34, 35: 35, 36: 36, 37: 37, 38: 38, 39: 39, 40: 40, 41: 41, 42: 42, 43: 43, 44: 44, 45: 45, 46: 46, 47: 47, 48: 48, 49: 49, 50: 50, 51: 51, 52: 52, 53: 53, 54: 54, 55: 55, 56: 56, 57: 57, 58: 58, 59: 59, 60: 60, 61: 61, 62: 62, 63: 63, 64: 64, 65: 65, 66: 66, 67: 67, 68: 68, 69: 69, 70: 70, 71: 71, 72: 72, 73: 73, 74: 74, 75: 75, 76: 76, 77: 77, 78: 78, 79: 79, 80: 80, 81: 81, 82: 82, 83: 83, 84: 84, 85: 85, 86: 86, 87: 87, 88: 88, 89: 89, 90: 90, 91: 91, 92: 92, 93: 93, 94: 94, 95: 95, 96: 96, 97: 97, 98: 98, 99: 99, 100: 100, 101: 101, 102: 102, 103: 103, 104: 104, 105: 105, 106: 106, 107: 107, 108: 108, 109: 109, 110: 110, 111: 111, 112: 112, 113: 113, 114: 114, 115: 115, 116: 116, 117: 117, 118: 118, 119: 119, 120: 120, 121: 121, 122: 122, 123: 123, 124: 124, 125: 125, 126: 126, 127: 127, 1027: 129, 8225: 135, 1046: 198, 8222: 132, 1047: 199, 1168: 165, 1048: 200, 1113: 154, 1049: 201, 1045: 197, 1050: 202, 1028: 170, 160: 160, 1040: 192, 1051: 203, 164: 164, 166: 166, 167: 167, 169: 169, 171: 171, 172: 172, 173: 173, 174: 174, 1053: 205, 176: 176, 177: 177, 1114: 156, 181: 181, 182: 182, 183: 183, 8221: 148, 187: 187, 1029: 189, 1056: 208, 1057: 209, 1058: 210, 8364: 136, 1112: 188, 1115: 158, 1059: 211, 1060: 212, 1030: 178, 1061: 213, 1062: 214, 1063: 215, 1116: 157, 1064: 216, 1065: 217, 1031: 175, 1066: 218, 1067: 219, 1068: 220, 1069: 221, 1070: 222, 1032: 163, 8226: 149, 1071: 223, 1072: 224, 8482: 153, 1073: 225, 8240: 137, 1118: 162, 1074: 226, 1110: 179, 8230: 133, 1075: 227, 1033: 138, 1076: 228, 1077: 229, 8211: 150, 1078: 230, 1119: 159, 1079: 231, 1042: 194, 1080: 232, 1034: 140, 1025: 168, 1081: 233, 1082: 234, 8212: 151, 1083: 235, 1169: 180, 1084: 236, 1052: 204, 1085: 237, 1035: 142, 1086: 238, 1087: 239, 1088: 240, 1089: 241, 1090: 242, 1036: 141, 1041: 193, 1091: 243, 1092: 244, 8224: 134, 1093: 245, 8470: 185, 1094: 246, 1054: 206, 1095: 247, 1096: 248, 8249: 139, 1097: 249, 1098: 250, 1044: 196, 1099: 251, 1111: 191, 1055: 207, 1100: 252, 1038: 161, 8220: 147, 1101: 253, 8250: 155, 1102: 254, 8216: 145, 1103: 255, 1043: 195, 1105: 184, 1039: 143, 1026: 128, 1106: 144, 8218: 130, 1107: 131, 8217: 146, 1108: 186, 1109: 190}\r\n function utf8_decode(s) {\r\n var L = []\r\n for (var i=0; i<s.length; i++) {\r\n var ord = s.charCodeAt(i)\r\n if (!(ord in DMap))\r\n throw \"Character \"+s.charAt(i)+\" isn't supported by win1251!\"\r\n L.push(String.fromCharCode(DMap[ord]))\r\n }\r\n return L.join('')\r\n }*/"
" /*\n * # Semantic UI - 1.12.3\n * https://github.com/Semantic-Org/Semantic-UI\n * http://www.semantic-ui.com/\n *\n * Copyright 2014 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n!function(e,t,n,i){e.site=e.fn.site=function(o){var a,r,s=(new Date).getTime(),c=[],l=arguments[0],u=\"string\"==typeof l,d=[].slice.call(arguments,1),m=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),f=m.namespace,g=m.error,p=\"module-\"+f,v=e(n),h=v,b=this,y=h.data(p);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose(\"Storing instance of site\",a),y=a,h.data(p,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug(\"Normalizing window.console\"),(console===i||console.log===i)&&(a.verbose(\"Console not available, normalizing events\"),a.disable.console()),(\"undefined\"==typeof console.group||\"undefined\"==typeof console.groupEnd||\"undefined\"==typeof console.groupCollapsed)&&(a.verbose(\"Console group not available, normalizing events\"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),\"undefined\"==typeof console.markTimeline&&(a.verbose(\"Mark timeline not available, normalizing events\"),t.console.markTimeline=function(){})},consoleClear:function(){a.debug(\"Disabling programmatic console clearing\"),t.console.clear=function(){}},requestAnimationFrame:function(){a.debug(\"Normalizing requestAnimationFrame\"),t.requestAnimationFrame===i&&(a.debug(\"RequestAnimationFrame not available, normailizing event\"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||m.modules,e.each(t,function(e,t){a.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||m.modules,e.each(t,function(e,t){a.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,r){o=\"string\"==typeof o?\"all\"===o?m.modules:[o]:o||m.modules,r=r!==i?r:!0,e.each(o,function(i,o){var s,c=a.moduleExists(o)?e.fn[o].settings.namespace||!1:!0;a.moduleExists(o)&&(a.verbose(\"Changing default setting\",t,n,o),e.fn[o].settings[t]=n,r&&c&&(s=e(\":data(module-\"+c+\")\"),s.length>0&&(a.verbose(\"Modifying existing settings\",s),s[o](\"setting\",t,n))))})},settings:function(t,n,o){n=\"string\"==typeof n?[n]:n||m.modules,o=o!==i?o:!0,e.each(n,function(n,i){var r;a.moduleExists(i)&&(a.verbose(\"Changing default setting\",t,i),e.extend(!0,e.fn[i].settings,t),o&&f&&(r=e(\":data(module-\"+f+\")\"),r.length>0&&(a.verbose(\"Modifying existing settings\",r),r[i](\"setting\",t))))})}},enable:{console:function(){a.console(!0)},debug:function(e,t){e=e||m.modules,a.debug(\"Enabling debug for modules\",e),a.change.setting(\"debug\",!0,e,t)},verbose:function(e,t){e=e||m.modules,a.debug(\"Enabling verbose debug for modules\",e),a.change.setting(\"verbose\",!0,e,t)}},disable:{console:function(){a.console(!1)},debug:function(e,t){e=e||m.modules,a.debug(\"Disabling debug for modules\",e),a.change.setting(\"debug\",!1,e,t)},verbose:function(e,t){e=e||m.modules,a.debug(\"Disabling verbose debug for modules\",e),a.change.setting(\"verbose\",!1,e,t)}},console:function(e){if(e){if(y.cache.console===i)return void a.error(g.console);a.debug(\"Restoring console function\"),t.console=y.cache.console}else a.debug(\"Disabling console function\"),y.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose(\"Destroying previous site for\",h),h.removeData(p)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){m.debug&&(m.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,m.name+\":\"),a.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,m.name+\":\"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,m.name+\":\"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||\"\",\"Execution Time\":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,100)},display:function(){var t=m.name+\":\",n=0;s=!1,clearTimeout(a.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var s,c,l,u=y;return n=n||d,o=b||o,\"string\"==typeof t&&u!==i&&(t=t.split(/[\\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return c=u[r],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(c=u[o],!1):(a.error(g.method,t),!1);u=u[o]}})),e.isFunction(c)?l=c.apply(o,n):c!==i&&(l=c),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),c}},u?(y===i&&a.initialize(),a.invoke(l)):(y!==i&&a.destroy(),a.initialize()),r!==i?r:this},e.site.settings={name:\"Site\",namespace:\"site\",error:{console:\"Console cannot be restored, most likely it was overwritten outside of module\",method:\"The method you called is not defined.\"},debug:!1,verbose:!0,performance:!0,modules:[\"accordion\",\"api\",\"checkbox\",\"dimmer\",\"dropdown\",\"form\",\"modal\",\"nag\",\"popup\",\"rating\",\"shape\",\"sidebar\",\"state\",\"sticky\",\"tab\",\"transition\",\"video\",\"visit\",\"visibility\"],siteNamespace:\"site\",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[\":\"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.form=function(t,o){var a,r=e(this),s=e.extend(!0,{},e.fn.form.settings,o),c=e.extend({},e.fn.form.settings.defaults,t),l=s.namespace,u=s.metadata,d=s.selector,m=s.className,f=(s.error,\".\"+l),g=\"module-\"+l,p=r.selector||\"\",v=(new Date).getTime(),h=[],b=arguments[0],y=\"string\"==typeof b,x=[].slice.call(arguments,1);return r.each(function(){var t,o=e(this),l=e(this).find(d.field),w=e(this).find(d.group),C=e(this).find(d.message),T=(e(this).find(d.prompt),e(this).find(d.submit)),k=e(this).find(d.clear),S=e(this).find(d.reset),A=[],P=!1,E=this,F=o.data(g);t={initialize:function(){t.verbose(\"Initializing form validation\",o,c,s),t.bindEvents(),t.set.defaults(),t.instantiate()},instantiate:function(){t.verbose(\"Storing instance of module\",t),F=t,o.data(g,t)},destroy:function(){t.verbose(\"Destroying previous module\",F),t.removeEvents(),o.removeData(g)},refresh:function(){t.verbose(\"Refreshing selector cache\"),l=o.find(d.field)},submit:function(){t.verbose(\"Submitting form\",o),o.submit()},attachEvents:function(n,i){i=i||\"submit\",e(n).on(\"click\",function(e){t[i](),e.preventDefault()})},bindEvents:function(){s.keyboardShortcuts&&l.on(\"keydown\"+f,t.event.field.keydown),o.on(\"submit\"+f,t.validate.form),l.on(\"blur\"+f,t.event.field.blur),t.attachEvents(T,\"submit\"),t.attachEvents(S,\"reset\"),t.attachEvents(k,\"clear\"),l.each(function(){var n=e(this).prop(\"type\"),i=t.get.changeEvent(n);e(this).on(i+f,t.event.field.change)})},clear:function(){l.each(function(){var n=e(this),i=n.parent(),o=n.closest(w),a=o.find(d.prompt),r=n.data(u.defaultValue)||\"\",s=i.is(d.uiCheckbox),c=i.is(d.uiDropdown),l=o.hasClass(m.error);l&&(t.verbose(\"Resetting error on field\",o),o.removeClass(m.error),a.remove()),c?(t.verbose(\"Resetting dropdown value\",i,r),i.dropdown(\"clear\")):s?i.checkbox(\"uncheck\"):(t.verbose(\"Resetting field value\",n,r),n.val(\"\"))})},reset:function(){l.each(function(){var n=e(this),i=n.parent(),o=n.closest(w),a=o.find(d.prompt),r=n.data(u.defaultValue)||\"\",s=i.is(d.uiCheckbox),c=i.is(d.uiDropdown),l=o.hasClass(m.error);l&&(t.verbose(\"Resetting error on field\",o),o.removeClass(m.error),a.remove()),c?(t.verbose(\"Resetting dropdown value\",i,r),i.dropdown(\"restore defaults\")):s?(t.verbose(\"Resetting checkbox value\",i,r),i.checkbox(r===!0?\"check\":\"uncheck\")):(t.verbose(\"Resetting field value\",n,r),n.val(r))})},removeEvents:function(){o.off(f),l.off(f),T.off(f),l.off(f)},event:{field:{keydown:function(n){var i=e(this),o=n.which,a={enter:13,escape:27};o==a.escape&&(t.verbose(\"Escape key pressed blurring field\"),i.blur()),!n.ctrlKey&&o==a.enter&&i.is(d.input)&&i.not(d.checkbox).length>0&&(T.addClass(m.pressed),P||(i.one(\"keyup\"+f,t.event.field.keyup),t.submit(),t.debug(\"Enter pressed on input submitting form\")),P=!0)},keyup:function(){P=!1,T.removeClass(m.pressed)},blur:function(){var n=e(this),i=n.closest(w);i.hasClass(m.error)?(t.debug(\"Revalidating field\",n,t.get.validation(n)),t.validate.field(t.get.validation(n))):(\"blur\"==s.on||\"change\"==s.on)&&t.validate.field(t.get.validation(n))},change:function(){var n=e(this),i=n.closest(w);(\"change\"==s.on||i.hasClass(m.error)&&s.revalidate)&&(clearTimeout(t.timer),t.timer=setTimeout(function(){t.debug(\"Revalidating field\",n,t.get.validation(n)),t.validate.field(t.get.validation(n))},s.delay))}}},get:{changeEvent:function(e){return\"checkbox\"==e||\"radio\"==e||\"hidden\"==e?\"change\":t.get.inputEvent()},inputEvent:function(){return n.createElement(\"input\").oninput!==i?\"input\":n.createElement(\"input\").onpropertychange!==i?\"propertychange\":\"keyup\"},field:function(n){return t.verbose(\"Finding field with identifier\",n),l.filter(\"#\"+n).length>0?l.filter(\"#\"+n):l.filter('[name=\"'+n+'\"]').length>0?l.filter('[name=\"'+n+'\"]'):l.filter('[name=\"'+n+'[]\"]').length>0?l.filter('[name=\"'+n+'[]\"]'):l.filter(\"[data-\"+u.validate+'=\"'+n+'\"]').length>0?l.filter(\"[data-\"+u.validate+'=\"'+n+'\"]'):e(\"<input/>\")},fields:function(n){var i=e();return e.each(n,function(e,n){i=i.add(t.get.field(n))}),i},validation:function(n){var i;return e.each(c,function(e,o){t.get.field(o.identifier).get(0)==n.get(0)&&(i=o)}),i||!1},value:function(e){var n,i=[];return i.push(e),n=t.get.values.call(E,i),n[e]},values:function(n){var i=e.isArray(n)?t.get.fields(n):l,o={};return i.each(function(n,i){var a=e(i),r=(a.prop(\"type\"),a.prop(\"name\")),s=a.val(),c=a.is(d.checkbox),l=a.is(d.radio),u=-1!==r.indexOf(\"[]\"),m=c?a.is(\":checked\"):!1;if(r)if(u)if(r=r.replace(\"[]\",\"\"),o[r]||(o[r]=[]),c){if(!m)return t.debug(\"Omitted unchecked checkbox\",a),!0;o[r].push(s)}else o[r].push(s);else if(l)m&&(o[r]=s);else if(c){if(!m)return t.debug(\"Omitted unchecked checkbox\",a),!0;o[r]=!0}else o[r]=s}),o}},has:{field:function(e){return t.verbose(\"Checking for existence of a field with identifier\",e),l.filter(\"#\"+e).length>0?!0:l.filter('[name=\"'+e+'\"]').length>0?!0:l.filter(\"[data-\"+u.validate+'=\"'+e+'\"]').length>0?!0:!1}},add:{prompt:function(n,a){var r=t.get.field(n),c=r.closest(w),l=c.children(d.prompt),u=0!==l.length;a=\"string\"==typeof a?[a]:a,t.verbose(\"Adding field error state\",n),c.addClass(m.error),s.inline&&(u||(l=s.templates.prompt(a),l.appendTo(c)),l.html(a[0]),u?t.verbose(\"Inline errors are disabled, no inline error added\",n):s.transition&&e.fn.transition!==i&&o.transition(\"is supported\")?(t.verbose(\"Displaying error with css transition\",s.transition),l.transition(s.transition+\" in\",s.duration)):(t.verbose(\"Displaying error with fallback javascript animation\"),l.fadeIn(s.duration)))},errors:function(e){t.debug(\"Adding form error messages\",e),C.html(s.templates.error(e))}},remove:{prompt:function(n){var a=t.get.field(n.identifier),r=a.closest(w),c=r.children(d.prompt);r.removeClass(m.error),s.inline&&c.is(\":visible\")&&(t.verbose(\"Removing prompt for field\",n),s.transition&&e.fn.transition!==i&&o.transition(\"is supported\")?c.transition(s.transition+\" out\",s.duration,function(){c.remove()}):c.fadeOut(s.duration,function(){c.remove()}))}},set:{success:function(){o.removeClass(m.error).addClass(m.success)},defaults:function(){l.each(function(){var t=e(this),n=t.filter(d.checkbox).length>0,i=n?t.is(\":checked\"):t.val();t.data(u.defaultValue,i)})},error:function(){o.removeClass(m.success).addClass(m.error)},value:function(e,n){var i={};return i[e]=n,t.set.values.call(E,i)},values:function(n){e.isEmptyObject(n)||(e.each(n,function(n,i){var o,a=t.get.field(n),r=a.parent(),s=e.isArray(i),c=r.is(d.uiCheckbox),l=r.is(d.uiDropdown),u=a.is(d.radio)&&c,m=a.length>0;m&&(s&&c?(t.verbose(\"Selecting multiple\",i,a),r.checkbox(\"uncheck\"),e.each(i,function(e,t){o=a.filter('[value=\"'+t+'\"]'),r=o.parent(),o.length>0&&r.checkbox(\"check\")})):u?(t.verbose(\"Selecting radio value\",i,a),a.filter('[value=\"'+i+'\"]').parent(d.uiCheckbox).checkbox(\"check\")):c?(t.verbose(\"Setting checkbox value\",i,r),r.checkbox(i===!0?\"check\":\"uncheck\")):l?(t.verbose(\"Setting dropdown value\",i,r),r.dropdown(\"set selected\",i)):(t.verbose(\"Setting field value\",i,a),a.val(i)))}),t.validate.form())}},validate:{form:function(n){var a=!0;return P?!1:(A=[],e.each(c,function(e,n){t.validate.field(n)||(a=!1)}),a?(t.debug(\"Form has no validation errors, submitting\"),t.set.success(),s.onSuccess.call(E,n)):(t.debug(\"Form has errors\"),t.set.error(),s.inline||t.add.errors(A),o.data(\"moduleApi\")!==i&&n.stopImmediatePropagation(),s.onFailure.call(E,A)))},field:function(n){var o=t.get.field(n.identifier),a=!0,r=[];return o.prop(\"disabled\")?(t.debug(\"Field is disabled. Skipping\",n.identifier),a=!0):n.optional&&\"\"===e.trim(o.val())?(t.debug(\"Field is optional and empty. Skipping\",n.identifier),a=!0):n.rules!==i&&e.each(n.rules,function(e,i){t.has.field(n.identifier)&&!t.validate.rule(n,i)&&(t.debug(\"Field is invalid\",n.identifier,i.type),r.push(i.prompt),a=!1)}),a?(t.remove.prompt(n,r),s.onValid.call(o),!0):(A=A.concat(r),t.add.prompt(n.identifier,r),s.onInvalid.call(o,r),!1)},rule:function(n,o){var a,r,c=t.get.field(n.identifier),l=o.type,u=e.trim(c.val()+\"\"),d=/\\[(.*)\\]/i,m=d.exec(l),f=!0;return m!==i&&null!==m?(a=\"\"+m[1],r=l.replace(m[0],\"\"),f=s.rules[r].call(E,u,a)):f=s.rules[l].call(c,u),f}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,s,t);else{if(n===i)return s[t];s[t]=n}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},debug:function(){s.debug&&(s.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,s.name+\":\"),t.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,s.name+\":\"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,s.name+\":\"),t.error.apply(console,arguments)},performance:{log:function(e){var n,i,o;s.performance&&(n=(new Date).getTime(),o=v||n,i=n-o,v=n,h.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:E,\"Execution Time\":i})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,100)},display:function(){var n=s.name+\":\",o=0;v=!1,clearTimeout(t.performance.timer),e.each(h,function(e,t){o+=t[\"Execution Time\"]}),n+=\" \"+o+\"ms\",p&&(n+=\" '\"+p+\"'\"),r.length>1&&(n+=\" (\"+r.length+\")\"),(console.group!==i||console.table!==i)&&h.length>0&&(console.groupCollapsed(n),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),h=[]}},invoke:function(t,n,o){var r,s,c,l=F;return n=n||x,o=E||o,\"string\"==typeof t&&l!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):!1;l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},y?(F===i&&t.initialize(),t.invoke(b)):(F!==i&&F.invoke(\"destroy\"),t.initialize())}),a!==i?a:this},e.fn.form.settings={name:\"Form\",namespace:\"form\",debug:!1,verbose:!0,performance:!0,keyboardShortcuts:!0,on:\"submit\",inline:!1,delay:200,revalidate:!0,transition:\"scale\",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:\"default\",validate:\"validate\"},selector:{checkbox:'input[type=\"checkbox\"], input[type=\"radio\"]',clear:\".clear\",field:\"input, textarea, select\",group:\".field\",input:\"input\",message:\".error.message\",prompt:\".prompt.label\",radio:'input[type=\"radio\"]',reset:\".reset\",submit:\".submit\",uiCheckbox:\".ui.checkbox\",uiDropdown:\".ui.dropdown\"},className:{error:\"error\",label:\"ui prompt label\",pressed:\"down\",success:\"success\"},error:{method:\"The method you called is not defined.\"},templates:{error:function(t){var n='<ul class=\"list\">';return e.each(t,function(e,t){n+=\"<li>\"+t+\"</li>\"}),n+=\"</ul>\",e(n)},prompt:function(t){return e(\"<div/>\").addClass(\"ui red pointing prompt label\").html(t[0])}},rules:{checked:function(){return e(this).filter(\":checked\").length>0},contains:function(e,t){return t=t.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\"),-1!==e.search(new RegExp(t,\"i\"))},containsExactly:function(e,t){return t=t.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\"),-1!==e.search(new RegExp(t))},email:function(e){var t=new RegExp(\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\",\"i\");return t.test(e)},empty:function(e){return!(e===i||\"\"===e)},integer:function(e,t){var n,o,a,r=/^\\-?\\d+$/;return t===i||\"\"===t||\"..\"===t||(-1==t.indexOf(\"..\")?r.test(t)&&(n=o=t-0):(a=t.split(\"..\",2),r.test(a[0])&&(n=a[0]-0),r.test(a[1])&&(o=a[1]-0))),r.test(e)&&(n===i||e>=n)&&(o===i||o>=e)},is:function(e,t){return t=\"string\"==typeof t?t.toLowerCase():t,e=\"string\"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},length:function(e,t){return e!==i?e.length>=t:!1},match:function(t,n){var o,a=e(this);return a.find(\"#\"+n).length>0?o=a.find(\"#\"+n).val():a.find('[name=\"'+n+'\"]').length>0?o=a.find('[name=\"'+n+'\"]').val():a.find('[data-validate=\"'+n+'\"]').length>0&&(o=a.find('[data-validate=\"'+n+'\"]').val()),o!==i?t.toString()==o.toString():!1},maxLength:function(e,t){return e!==i?e.length<=t:!1},not:function(e,t){return e=\"string\"==typeof e?e.toLowerCase():e,t=\"string\"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},url:function(e){var t=/(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;return t.test(e)}}}}(jQuery,window,document),function(S,k,e,T){\"use strict\";k=void 0!==k&&k.Math==Math?k:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),S.fn.accordion=function(a){var v,r=S(this),b=(new Date).getTime(),y=[],x=a,C=\"string\"==typeof x,w=[].slice.call(arguments,1);k.requestAnimationFrame||k.mozRequestAnimationFrame||k.webkitRequestAnimationFrame||k.msRequestAnimationFrame;return r.each(function(){var e,c,u=S.isPlainObject(a)?S.extend(!0,{},S.fn.accordion.settings,a):S.extend({},S.fn.accordion.settings),d=u.className,t=u.namespace,f=u.selector,s=u.error,n=\".\"+t,i=\"module-\"+t,o=r.selector||\"\",m=S(this),g=m.find(f.title),p=m.find(f.content),l=this,h=m.data(i);c={initialize:function(){c.debug(\"Initializing\",m),c.bind.events(),u.observeChanges&&c.observeChanges(),c.instantiate()},instantiate:function(){h=c,m.data(i,c)},destroy:function(){c.debug(\"Destroying previous instance\",m),m.off(n).removeData(i)},refresh:function(){g=m.find(f.title),p=m.find(f.content)},observeChanges:function(){\"MutationObserver\"in k&&((e=new MutationObserver(function(e){c.debug(\"DOM tree modified, updating selector cache\"),c.refresh()})).observe(l,{childList:!0,subtree:!0}),c.debug(\"Setting up mutation observer\",e))},bind:{events:function(){c.debug(\"Binding delegated events\"),m.on(u.on+n,f.trigger,c.event.click)}},event:{click:function(){c.toggle.call(this)}},toggle:function(e){var t=e!==T?\"number\"==typeof e?g.eq(e):S(e).closest(f.title):S(this).closest(f.title),n=t.next(p),i=n.hasClass(d.animating),o=n.hasClass(d.active),a=o&&!i,r=!o&&i;c.debug(\"Toggling visibility of content\",t),a||r?u.collapsible?c.close.call(t):c.debug(\"Cannot close accordion content collapsing is disabled\"):c.open.call(t)},open:function(e){var t=e!==T?\"number\"==typeof e?g.eq(e):S(e).closest(f.title):S(this).closest(f.title),n=t.next(p),i=n.hasClass(d.animating);n.hasClass(d.active)||i?c.debug(\"Accordion already open, skipping\",n):(c.debug(\"Opening accordion content\",t),u.onOpening.call(n),u.onChanging.call(n),u.exclusive&&c.closeOthers.call(t),t.addClass(d.active),n.stop(!0,!0).addClass(d.animating),u.animateChildren&&(S.fn.transition!==T&&m.transition(\"is supported\")?n.children().transition({animation:\"fade in\",queue:!1,useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):n.children().stop(!0,!0).animate({opacity:1},u.duration,c.resetOpacity)),n.slideDown(u.duration,u.easing,function(){n.removeClass(d.animating).addClass(d.active),c.reset.display.call(this),u.onOpen.call(this),u.onChange.call(this)}))},close:function(e){var t=e!==T?\"number\"==typeof e?g.eq(e):S(e).closest(f.title):S(this).closest(f.title),n=t.next(p),i=n.hasClass(d.animating),o=n.hasClass(d.active);!o&&!(!o&&i)||o&&i||(c.debug(\"Closing accordion content\",n),u.onClosing.call(n),u.onChanging.call(n),t.removeClass(d.active),n.stop(!0,!0).addClass(d.animating),u.animateChildren&&(S.fn.transition!==T&&m.transition(\"is supported\")?n.children().transition({animation:\"fade out\",queue:!1,useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):n.children().stop(!0,!0).animate({opacity:0},u.duration,c.resetOpacity)),n.slideUp(u.duration,u.easing,function(){n.removeClass(d.animating).removeClass(d.active),c.reset.display.call(this),u.onClose.call(this),u.onChange.call(this)}))},closeOthers:function(e){var t,n,i,o=e!==T?g.eq(e):S(this).closest(f.title),a=o.parents(f.content).prev(f.title),r=o.closest(f.accordion),s=f.title+\".\"+d.active+\":visible\",l=f.content+\".\"+d.active+\":visible\";i=u.closeNested?(t=r.find(s).not(a)).next(p):(t=r.find(s).not(a),n=r.find(l).find(s).not(a),(t=t.not(n)).next(p)),0<t.length&&(c.debug(\"Exclusive enabled, closing other content\",t),t.removeClass(d.active),i.removeClass(d.animating).stop(!0,!0),u.animateChildren&&(S.fn.transition!==T&&m.transition(\"is supported\")?i.children().transition({animation:\"fade out\",useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):i.children().stop(!0,!0).animate({opacity:0},u.duration,c.resetOpacity)),i.slideUp(u.duration,u.easing,function(){S(this).removeClass(d.active),c.reset.display.call(this)}))},reset:{display:function(){c.verbose(\"Removing inline display from element\",this),S(this).css(\"display\",\"\"),\"\"===S(this).attr(\"style\")&&S(this).attr(\"style\",\"\").removeAttr(\"style\")},opacity:function(){c.verbose(\"Removing inline opacity from element\",this),S(this).css(\"opacity\",\"\"),\"\"===S(this).attr(\"style\")&&S(this).attr(\"style\",\"\").removeAttr(\"style\")}},setting:function(e,t){if(c.debug(\"Changing setting\",e,t),S.isPlainObject(e))S.extend(!0,u,e);else{if(t===T)return u[e];S.isPlainObject(u[e])?S.extend(!0,u[e],t):u[e]=t}},internal:function(e,t){if(c.debug(\"Changing internal\",e,t),t===T)return c[e];S.isPlainObject(e)?S.extend(!0,c,e):c[e]=t},debug:function(){!u.silent&&u.debug&&(u.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,u.name+\":\"),c.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,u.name+\":\"),c.verbose.apply(console,arguments)))},error:function(){u.silent||(c.error=Function.prototype.bind.call(console.error,console,u.name+\":\"),c.error.apply(console,arguments))},performance:{log:function(e){var t,n;u.performance&&(n=(t=(new Date).getTime())-(b||t),b=t,y.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:l,\"Execution Time\":n})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var e=u.name+\":\",n=0;b=!1,clearTimeout(c.performance.timer),S.each(y,function(e,t){n+=t[\"Execution Time\"]}),e+=\" \"+n+\"ms\",o&&(e+=\" '\"+o+\"'\"),(console.group!==T||console.table!==T)&&0<y.length&&(console.groupCollapsed(e),console.table?console.table(y):S.each(y,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),y=[]}},invoke:function(i,e,t){var o,a,n,r=h;return e=e||w,t=l||t,\"string\"==typeof i&&r!==T&&(i=i.split(/[\\. ]/),o=i.length-1,S.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(S.isPlainObject(r[n])&&e!=o)r=r[n];else{if(r[n]!==T)return a=r[n],!1;if(!S.isPlainObject(r[t])||e==o)return r[t]!==T?a=r[t]:c.error(s.method,i),!1;r=r[t]}})),S.isFunction(a)?n=a.apply(t,e):a!==T&&(n=a),S.isArray(v)?v.push(n):v!==T?v=[v,n]:n!==T&&(v=n),a}},C?(h===T&&c.initialize(),c.invoke(x)):(h!==T&&h.invoke(\"destroy\"),c.initialize())}),v!==T?v:this},S.fn.accordion.settings={name:\"Accordion\",namespace:\"accordion\",silent:!1,debug:!1,verbose:!1,performance:!0,on:\"click\",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:\"easeOutQuad\",onOpening:function(){},onClosing:function(){},onChanging:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:\"The method you called is not defined\"},className:{active:\"active\",animating:\"animating\"},selector:{accordion:\".accordion\",title:\".title\",trigger:\".title\",content:\".content\"}},S.extend(S.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.checkbox=function(o){var a,r=e(this),s=r.selector||\"\",l=(new Date).getTime(),c=[],u=arguments[0],d=\"string\"==typeof u,f=[].slice.call(arguments,1);return r.each(function(){var r,m,g=e.extend(!0,{},e.fn.checkbox.settings,o),p=g.className,h=g.namespace,v=g.selector,b=g.error,y=\".\"+h,x=\"module-\"+h,C=e(this),w=e(this).children(v.label),k=e(this).children(v.input),S=k[0],T=!1,A=!1,R=C.data(x),P=this;m={initialize:function(){m.verbose(\"Initializing checkbox\",g),m.create.label(),m.bind.events(),m.set.tabbable(),m.hide.input(),m.observeChanges(),m.instantiate(),m.setup()},instantiate:function(){m.verbose(\"Storing instance of module\",m),R=m,C.data(x,m)},destroy:function(){m.verbose(\"Destroying module\"),m.unbind.events(),m.show.input(),C.removeData(x)},fix:{reference:function(){C.is(v.input)&&(m.debug(\"Behavior called on <input> adjusting invoked element\"),C=C.closest(v.checkbox),m.refresh())}},setup:function(){m.set.initialLoad(),m.is.indeterminate()?(m.debug(\"Initial value is indeterminate\"),m.indeterminate()):m.is.checked()?(m.debug(\"Initial value is checked\"),m.check()):(m.debug(\"Initial value is unchecked\"),m.uncheck()),m.remove.initialLoad()},refresh:function(){w=C.children(v.label),k=C.children(v.input),S=k[0]},hide:{input:function(){m.verbose(\"Modifying <input> z-index to be unselectable\"),k.addClass(p.hidden)}},show:{input:function(){m.verbose(\"Modifying <input> z-index to be selectable\"),k.removeClass(p.hidden)}},observeChanges:function(){\"MutationObserver\"in t&&(r=new MutationObserver(function(e){m.debug(\"DOM tree modified, updating selector cache\"),m.refresh()}),r.observe(P,{childList:!0,subtree:!0}),m.debug(\"Setting up mutation observer\",r))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(m[n])?m[n]:m.toggle,i.length>0?(m.debug(\"Attaching checkbox events to element\",t,n),i.on(\"click\"+y,n)):m.error(b.notFound)},event:{click:function(t){var n=e(t.target);return n.is(v.input)?void m.verbose(\"Using default check action on initialized checkbox\"):n.is(v.link)?void m.debug(\"Clicking link inside checkbox, skipping toggle\"):(m.toggle(),k.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(m.verbose(\"Escape key pressed blurring field\"),k.blur(),A=!0):e.ctrlKey||t!=n.space&&t!=n.enter?A=!1:(m.verbose(\"Enter/space key pressed, toggling checkbox\"),m.toggle(),A=!0)},keyup:function(e){A&&e.preventDefault()}},check:function(){m.should.allowCheck()&&(m.debug(\"Checking checkbox\",k),m.set.checked(),m.should.ignoreCallbacks()||(g.onChecked.call(S),g.onChange.call(S)))},uncheck:function(){m.should.allowUncheck()&&(m.debug(\"Unchecking checkbox\"),m.set.unchecked(),m.should.ignoreCallbacks()||(g.onUnchecked.call(S),g.onChange.call(S)))},indeterminate:function(){return m.should.allowIndeterminate()?void m.debug(\"Checkbox is already indeterminate\"):(m.debug(\"Making checkbox indeterminate\"),m.set.indeterminate(),void(m.should.ignoreCallbacks()||(g.onIndeterminate.call(S),g.onChange.call(S))))},determinate:function(){return m.should.allowDeterminate()?void m.debug(\"Checkbox is already determinate\"):(m.debug(\"Making checkbox determinate\"),m.set.determinate(),void(m.should.ignoreCallbacks()||(g.onDeterminate.call(S),g.onChange.call(S))))},enable:function(){return m.is.enabled()?void m.debug(\"Checkbox is already enabled\"):(m.debug(\"Enabling checkbox\"),m.set.enabled(),g.onEnable.call(S),void g.onEnabled.call(S))},disable:function(){return m.is.disabled()?void m.debug(\"Checkbox is already disabled\"):(m.debug(\"Disabling checkbox\"),m.set.disabled(),g.onDisable.call(S),void g.onDisabled.call(S))},get:{radios:function(){var t=m.get.name();return e('input[name=\"'+t+'\"]').closest(v.checkbox)},otherRadios:function(){return m.get.radios().not(C)},name:function(){return k.attr(\"name\")}},is:{initialLoad:function(){return T},radio:function(){return k.hasClass(p.radio)||\"radio\"==k.attr(\"type\")},indeterminate:function(){return k.prop(\"indeterminate\")!==i&&k.prop(\"indeterminate\")},checked:function(){return k.prop(\"checked\")!==i&&k.prop(\"checked\")},disabled:function(){return k.prop(\"disabled\")!==i&&k.prop(\"disabled\")},enabled:function(){return!m.is.disabled()},determinate:function(){return!m.is.indeterminate()},unchecked:function(){return!m.is.checked()}},should:{allowCheck:function(){return m.is.determinate()&&m.is.checked()&&!m.should.forceCallbacks()?(m.debug(\"Should not allow check, checkbox is already checked\"),!1):g.beforeChecked.apply(S)!==!1||(m.debug(\"Should not allow check, beforeChecked cancelled\"),!1)},allowUncheck:function(){return m.is.determinate()&&m.is.unchecked()&&!m.should.forceCallbacks()?(m.debug(\"Should not allow uncheck, checkbox is already unchecked\"),!1):g.beforeUnchecked.apply(S)!==!1||(m.debug(\"Should not allow uncheck, beforeUnchecked cancelled\"),!1)},allowIndeterminate:function(){return m.is.indeterminate()&&!m.should.forceCallbacks()?(m.debug(\"Should not allow indeterminate, checkbox is already indeterminate\"),!1):g.beforeIndeterminate.apply(S)!==!1||(m.debug(\"Should not allow indeterminate, beforeIndeterminate cancelled\"),!1)},allowDeterminate:function(){return m.is.determinate()&&!m.should.forceCallbacks()?(m.debug(\"Should not allow determinate, checkbox is already determinate\"),!1):g.beforeDeterminate.apply(S)!==!1||(m.debug(\"Should not allow determinate, beforeDeterminate cancelled\"),!1)},forceCallbacks:function(){return m.is.initialLoad()&&g.fireOnInit},ignoreCallbacks:function(){return T&&!g.fireOnInit}},can:{change:function(){return!(C.hasClass(p.disabled)||C.hasClass(p.readOnly)||k.prop(\"disabled\")||k.prop(\"readonly\"))},uncheck:function(){return\"boolean\"==typeof g.uncheckable?g.uncheckable:!m.is.radio()}},set:{initialLoad:function(){T=!0},checked:function(){return m.verbose(\"Setting class to checked\"),C.removeClass(p.indeterminate).addClass(p.checked),m.is.radio()&&m.uncheckOthers(),!m.is.indeterminate()&&m.is.checked()?void m.debug(\"Input is already checked, skipping input property change\"):(m.verbose(\"Setting state to checked\",S),k.prop(\"indeterminate\",!1).prop(\"checked\",!0),void m.trigger.change())},unchecked:function(){return m.verbose(\"Removing checked class\"),C.removeClass(p.indeterminate).removeClass(p.checked),!m.is.indeterminate()&&m.is.unchecked()?void m.debug(\"Input is already unchecked\"):(m.debug(\"Setting state to unchecked\"),k.prop(\"indeterminate\",!1).prop(\"checked\",!1),void m.trigger.change())},indeterminate:function(){return m.verbose(\"Setting class to indeterminate\"),C.addClass(p.indeterminate),m.is.indeterminate()?void m.debug(\"Input is already indeterminate, skipping input property change\"):(m.debug(\"Setting state to indeterminate\"),k.prop(\"indeterminate\",!0),void m.trigger.change())},determinate:function(){return m.verbose(\"Removing indeterminate class\"),C.removeClass(p.indeterminate),m.is.determinate()?void m.debug(\"Input is already determinate, skipping input property change\"):(m.debug(\"Setting state to determinate\"),void k.prop(\"indeterminate\",!1))},disabled:function(){return m.verbose(\"Setting class to disabled\"),C.addClass(p.disabled),m.is.disabled()?void m.debug(\"Input is already disabled, skipping input property change\"):(m.debug(\"Setting state to disabled\"),k.prop(\"disabled\",\"disabled\"),void m.trigger.change())},enabled:function(){return m.verbose(\"Removing disabled class\"),C.removeClass(p.disabled),m.is.enabled()?void m.debug(\"Input is already enabled, skipping input property change\"):(m.debug(\"Setting state to enabled\"),k.prop(\"disabled\",!1),void m.trigger.change())},tabbable:function(){m.verbose(\"Adding tabindex to checkbox\"),k.attr(\"tabindex\")===i&&k.attr(\"tabindex\",0)}},remove:{initialLoad:function(){T=!1}},trigger:{change:function(){var e=n.createEvent(\"HTMLEvents\"),t=k[0];t&&(m.verbose(\"Triggering native change event\"),e.initEvent(\"change\",!0,!1),t.dispatchEvent(e))}},create:{label:function(){k.prevAll(v.label).length>0?(k.prev(v.label).detach().insertAfter(k),m.debug(\"Moving existing label\",w)):m.has.label()||(w=e(\"<label>\").insertAfter(k),m.debug(\"Creating label\",w))}},has:{label:function(){return w.length>0}},bind:{events:function(){m.verbose(\"Attaching checkbox events\"),C.on(\"click\"+y,m.event.click).on(\"keydown\"+y,v.input,m.event.keydown).on(\"keyup\"+y,v.input,m.event.keyup)}},unbind:{events:function(){m.debug(\"Removing events\"),C.off(y)}},uncheckOthers:function(){var e=m.get.otherRadios();m.debug(\"Unchecking other radios\",e),e.removeClass(p.checked)},toggle:function(){return m.can.change()?void(m.is.indeterminate()||m.is.unchecked()?(m.debug(\"Currently unchecked\"),m.check()):m.is.checked()&&m.can.uncheck()&&(m.debug(\"Currently checked\"),m.uncheck())):void(m.is.radio()||m.debug(\"Checkbox is read-only or disabled, ignoring toggle\"))},setting:function(t,n){if(m.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.verbose.apply(console,arguments)))},error:function(){g.silent||(m.error=Function.prototype.bind.call(console.error,console,g.name+\":\"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:P,\"Execution Time\":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+\":\",n=0;l=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",s&&(t+=\" '\"+s+\"'\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=R;return n=n||f,o=P||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(m.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(R===i&&m.initialize(),m.invoke(u)):(R!==i&&R.invoke(\"destroy\"),m.initialize())}),a!==i?a:this},e.fn.checkbox.settings={name:\"Checkbox\",namespace:\"checkbox\",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:\"auto\",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:\"checked\",indeterminate:\"indeterminate\",disabled:\"disabled\",hidden:\"hidden\",radio:\"radio\",readOnly:\"read-only\"},error:{method:\"The method you called is not defined\"},selector:{checkbox:\".ui.checkbox\",label:\"label, .box\",input:'input[type=\"checkbox\"], input[type=\"radio\"]',link:\"a[href]\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.dimmer=function(t){var o,a=e(this),r=(new Date).getTime(),s=[],l=arguments[0],c=\"string\"==typeof l,u=[].slice.call(arguments,1);return a.each(function(){var d,f,m,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),p=g.selector,h=g.namespace,v=g.className,b=g.error,y=\".\"+h,x=\"module-\"+h,C=a.selector||\"\",w=\"ontouchstart\"in n.documentElement?\"touchstart\":\"click\",k=e(this),S=this,T=k.data(x);m={preinitialize:function(){m.is.dimmer()?(f=k.parent(),d=k):(f=k,d=m.has.dimmer()?g.dimmerName?f.find(p.dimmer).filter(\".\"+g.dimmerName):f.find(p.dimmer):m.create(),m.set.variation())},initialize:function(){m.debug(\"Initializing dimmer\",g),m.bind.events(),m.set.dimmable(),m.instantiate()},instantiate:function(){m.verbose(\"Storing instance of module\",m),T=m,k.data(x,T)},destroy:function(){m.verbose(\"Destroying previous module\",d),m.unbind.events(),m.remove.variation(),f.off(y)},bind:{events:function(){\"hover\"==g.on?f.on(\"mouseenter\"+y,m.show).on(\"mouseleave\"+y,m.hide):\"click\"==g.on&&f.on(w+y,m.toggle),m.is.page()&&(m.debug(\"Setting as a page dimmer\",f),m.set.pageDimmer()),m.is.closable()&&(m.verbose(\"Adding dimmer close event\",d),f.on(w+y,p.dimmer,m.event.click))}},unbind:{events:function(){k.removeData(x),f.off(y)}},event:{click:function(t){m.verbose(\"Determining if event occured on dimmer\",t),(0===d.find(t.target).length||e(t.target).is(p.content))&&(m.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);m.debug(\"Add content to dimmer\",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){var t=e(g.template.dimmer());return g.dimmerName&&(m.debug(\"Creating named dimmer\",g.dimmerName),t.addClass(g.dimmerName)),t.appendTo(f),t},show:function(t){t=e.isFunction(t)?t:function(){},m.debug(\"Showing dimmer\",d,g),m.is.dimmed()&&!m.is.animating()||!m.is.enabled()?m.debug(\"Dimmer is already shown or disabled\"):(m.animate.show(t),g.onShow.call(S),g.onChange.call(S))},hide:function(t){t=e.isFunction(t)?t:function(){},m.is.dimmed()||m.is.animating()?(m.debug(\"Hiding dimmer\",d),m.animate.hide(t),g.onHide.call(S),g.onChange.call(S)):m.debug(\"Dimmer is not visible\")},toggle:function(){m.verbose(\"Toggling dimmer visibility\",d),m.is.dimmed()?m.hide():m.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==i&&d.transition(\"is supported\")?(\"auto\"!==g.opacity&&m.set.opacity(),d.transition({animation:g.transition+\" in\",queue:!1,duration:m.get.duration(),useFailSafe:!0,onStart:function(){m.set.dimmed()},onComplete:function(){m.set.active(),t()}})):(m.verbose(\"Showing dimmer animation with javascript\"),m.set.dimmed(),\"auto\"==g.opacity&&(g.opacity=.8),d.stop().css({opacity:0,width:\"100%\",height:\"100%\"}).fadeTo(m.get.duration(),g.opacity,function(){d.removeAttr(\"style\"),m.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==i&&d.transition(\"is supported\")?(m.verbose(\"Hiding dimmer with css\"),d.transition({animation:g.transition+\" out\",queue:!1,duration:m.get.duration(),useFailSafe:!0,onStart:function(){m.remove.dimmed()},onComplete:function(){m.remove.active(),t()}})):(m.verbose(\"Hiding dimmer with javascript\"),m.remove.dimmed(),d.stop().fadeOut(m.get.duration(),function(){m.remove.active(),d.removeAttr(\"style\"),t()}))}},get:{dimmer:function(){return d},duration:function(){return\"object\"==typeof g.duration?m.is.active()?g.duration.hide:g.duration.show:g.duration}},has:{dimmer:function(){return g.dimmerName?k.find(p.dimmer).filter(\".\"+g.dimmerName).length>0:k.find(p.dimmer).length>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(\":animated\")||d.hasClass(v.animating)},closable:function(){return\"auto\"==g.closable?\"hover\"!=g.on:g.closable},dimmer:function(){return k.hasClass(v.dimmer)},dimmable:function(){return k.hasClass(v.dimmable)},dimmed:function(){return f.hasClass(v.dimmed)},disabled:function(){return f.hasClass(v.disabled)},enabled:function(){return!m.is.disabled()},page:function(){return f.is(\"body\")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{opacity:function(e){var t=d.css(\"background-color\"),n=t.split(\",\"),i=n&&3==n.length,o=n&&4==n.length;e=0===g.opacity?0:g.opacity||e,i||o?(n[3]=e+\")\",t=n.join(\",\")):t=\"rgba(0, 0, 0, \"+e+\")\",m.debug(\"Setting opacity to\",e),d.css(\"background-color\",t)},active:function(){d.addClass(v.active)},dimmable:function(){f.addClass(v.dimmable)},dimmed:function(){f.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)},variation:function(e){e=e||g.variation,e&&d.addClass(e)}},remove:{active:function(){d.removeClass(v.active)},dimmed:function(){f.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)},variation:function(e){e=e||g.variation,e&&d.removeClass(e)}},setting:function(t,n){if(m.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.verbose.apply(console,arguments)))},error:function(){g.silent||(m.error=Function.prototype.bind.call(console.error,console,g.name+\":\"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:S,\"Execution Time\":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+\":\",n=0;r=!1,clearTimeout(m.performance.timer),e.each(s,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",C&&(t+=\" '\"+C+\"'\"),a.length>1&&(t+=\" (\"+a.length+\")\"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var r,s,l,c=T;return n=n||u,a=S||a,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(m.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},m.preinitialize(),c?(T===i&&m.initialize(),m.invoke(l)):(T!==i&&T.invoke(\"destroy\"),m.initialize())}),o!==i?o:this},e.fn.dimmer.settings={name:\"Dimmer\",namespace:\"dimmer\",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:\"auto\",useCSS:!0,transition:\"fade\",on:!1,opacity:\"auto\",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:\"The method you called is not defined.\"},className:{active:\"active\",animating:\"animating\",dimmable:\"dimmable\",dimmed:\"dimmed\",dimmer:\"dimmer\",disabled:\"disabled\",hide:\"hide\",pageDimmer:\"page\",show:\"show\"},selector:{dimmer:\"> .ui.dimmer\",content:\".ui.dimmer > .content, .ui.dimmer > .content > .center\"},template:{dimmer:function(){return e(\"<div />\").attr(\"class\",\"ui dimmer\")}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.dropdown=function(o){var a,r=e(this),s=e(n),l=r.selector||\"\",c=\"ontouchstart\"in n.documentElement,u=(new Date).getTime(),d=[],f=arguments[0],m=\"string\"==typeof f,g=[].slice.call(arguments,1);return r.each(function(p){var h,v,b,y,x,C,w,k,S=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),T=S.className,A=S.message,R=S.fields,P=S.keys,E=S.metadata,F=S.namespace,O=S.regExp,D=S.selector,q=S.error,j=S.templates,z=\".\"+F,I=\"module-\"+F,M=e(this),L=e(S.context),N=M.find(D.text),V=M.find(D.search),H=M.find(D.sizer),U=M.find(D.input),W=M.find(D.icon),B=M.prev().find(D.text).length>0?M.prev().find(D.text):M.prev(),Q=M.children(D.menu),X=Q.find(D.item),$=!1,Y=!1,Z=!1,K=this,J=M.data(I);k={initialize:function(){k.debug(\"Initializing dropdown\",S),k.is.alreadySetup()?k.setup.reference():(k.setup.layout(),k.refreshData(),k.save.defaults(),k.restore.selected(),k.create.id(),k.bind.events(),k.observeChanges(),k.instantiate())},instantiate:function(){k.verbose(\"Storing instance of dropdown\",k),J=k,M.data(I,k)},destroy:function(){k.verbose(\"Destroying previous dropdown\",M),k.remove.tabbable(),M.off(z).removeData(I),Q.off(z),s.off(y),k.disconnect.menuObserver(),k.disconnect.selectObserver()},observeChanges:function(){\"MutationObserver\"in t&&(C=new MutationObserver(k.event.select.mutation),w=new MutationObserver(k.event.menu.mutation),k.debug(\"Setting up mutation observer\",C,w),k.observe.select(),k.observe.menu())},disconnect:{menuObserver:function(){w&&w.disconnect()},selectObserver:function(){C&&C.disconnect()}},observe:{select:function(){k.has.input()&&C.observe(U[0],{childList:!0,subtree:!0})},menu:function(){k.has.menu()&&w.observe(Q[0],{childList:!0,subtree:!0})}},create:{id:function(){x=(Math.random().toString(16)+\"000000000\").substr(2,8),y=\".\"+x,k.verbose(\"Creating unique id for element\",x)},userChoice:function(t){var n,o,a;return!!(t=t||k.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,r){k.get.item(r)===!1&&(a=S.templates.addition(k.add.variables(A.addResult,r)),o=e(\"<div />\").html(a).attr(\"data-\"+E.value,r).attr(\"data-\"+E.text,r).addClass(T.addition).addClass(T.item),S.hideAdditions&&o.addClass(T.hidden),n=n===i?o:n.add(o),k.verbose(\"Creating user choices for value\",r,o))}),n)},userLabels:function(t){var n=k.get.userValues();n&&(k.debug(\"Adding user labels\",n),e.each(n,function(e,t){k.verbose(\"Adding custom user value\"),k.add.label(t,t)}))},menu:function(){Q=e(\"<div />\").addClass(T.menu).appendTo(M)},sizer:function(){H=e(\"<span />\").addClass(T.sizer).insertAfter(V)}},search:function(e){e=e!==i?e:k.get.query(),k.verbose(\"Searching for query\",e),k.has.minCharacters(e)?k.filter(e):k.hide()},select:{firstUnfiltered:function(){k.verbose(\"Selecting first non-filtered element\"),k.remove.selectedItem(),X.not(D.unselectable).not(D.addition+D.hidden).eq(0).addClass(T.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(D.item).not(D.unselectable).eq(0),n=e.prevAll(D.item).not(D.unselectable).eq(0),i=t.length>0;i?(k.verbose(\"Moving selection to\",t),t.addClass(T.selected)):(k.verbose(\"Moving selection to\",n),n.addClass(T.selected))}},setup:{api:function(){var e={debug:S.debug,urlData:{value:k.get.value(),query:k.get.query()},on:!1};k.verbose(\"First request, initializing API\"),M.api(e)},layout:function(){M.is(\"select\")&&(k.setup.select(),k.setup.returnedObject()),k.has.menu()||k.create.menu(),k.is.search()&&!k.has.search()&&(k.verbose(\"Adding search input\"),V=e(\"<input />\").addClass(T.search).prop(\"autocomplete\",\"off\").insertBefore(N)),k.is.multiple()&&k.is.searchSelection()&&!k.has.sizer()&&k.create.sizer(),S.allowTab&&k.set.tabbable()},select:function(){var t=k.get.selectValues();k.debug(\"Dropdown initialized on a select\",t),M.is(\"select\")&&(U=M),U.parent(D.dropdown).length>0?(k.debug(\"UI dropdown already exists. Creating dropdown menu only\"),M=U.closest(D.dropdown),k.has.menu()||k.create.menu(),Q=M.children(D.menu),k.setup.menu(t)):(k.debug(\"Creating entire dropdown from select\"),M=e(\"<div />\").attr(\"class\",U.attr(\"class\")).addClass(T.selection).addClass(T.dropdown).html(j.dropdown(t)).insertBefore(U),U.hasClass(T.multiple)&&U.prop(\"multiple\")===!1&&(k.error(q.missingMultiple),U.prop(\"multiple\",!0)),U.is(\"[multiple]\")&&k.set.multiple(),U.prop(\"disabled\")&&(k.debug(\"Disabling dropdown\"),M.addClass(T.disabled)),U.removeAttr(\"class\").detach().prependTo(M)),k.refresh()},menu:function(e){Q.html(j.menu(e,R)),X=Q.find(D.item)},reference:function(){k.debug(\"Dropdown behavior was called on select, replacing with closest dropdown\"),M=M.parent(D.dropdown),k.refresh(),k.setup.returnedObject(),m&&(J=k,k.invoke(f))},returnedObject:function(){var e=r.slice(0,p),t=r.slice(p+1);r=e.add(M).add(t)}},refresh:function(){k.refreshSelectors(),k.refreshData()},refreshItems:function(){X=Q.find(D.item)},refreshSelectors:function(){k.verbose(\"Refreshing selector cache\"),N=M.find(D.text),V=M.find(D.search),U=M.find(D.input),W=M.find(D.icon),B=M.prev().find(D.text).length>0?M.prev().find(D.text):M.prev(),Q=M.children(D.menu),X=Q.find(D.item)},refreshData:function(){k.verbose(\"Refreshing cached metadata\"),X.removeData(E.text).removeData(E.value)},clearData:function(){k.verbose(\"Clearing metadata\"),X.removeData(E.text).removeData(E.value),M.removeData(E.defaultText).removeData(E.defaultValue).removeData(E.placeholderText)},toggle:function(){k.verbose(\"Toggling menu visibility\"),k.is.active()?k.hide():k.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},!k.can.show()&&k.is.remote()&&(k.debug(\"No API results retrieved, searching before show\"),k.queryRemote(k.get.query(),k.show)),k.can.show()&&!k.is.active()){if(k.debug(\"Showing dropdown\"),!k.has.message()||k.has.maxSelections()||k.has.allResultsFiltered()||k.remove.message(),k.is.allFiltered())return!0;S.onShow.call(K)!==!1&&k.animate.show(function(){k.can.click()&&k.bind.intent(),k.has.menuSearch()&&k.focusSearch(),k.set.visible(),t.call(K)})}},hide:function(t){t=e.isFunction(t)?t:function(){},k.is.active()&&(k.debug(\"Hiding dropdown\"),S.onHide.call(K)!==!1&&k.animate.hide(function(){k.remove.visible(),t.call(K)}))},hideOthers:function(){k.verbose(\"Finding other dropdowns to hide\"),r.not(M).has(D.menu+\".\"+T.visible).dropdown(\"hide\")},hideMenu:function(){k.verbose(\"Hiding menu  instantaneously\"),k.remove.active(),k.remove.visible(),Q.transition(\"hide\")},hideSubMenus:function(){var e=Q.children(D.item).find(D.menu);k.verbose(\"Hiding sub menus\",e),e.transition(\"hide\")},bind:{events:function(){c&&k.bind.touchEvents(),k.bind.keyboardEvents(),k.bind.inputEvents(),k.bind.mouseEvents()},touchEvents:function(){k.debug(\"Touch device detected binding additional touch events\"),k.is.searchSelection()||k.is.single()&&M.on(\"touchstart\"+z,k.event.test.toggle),Q.on(\"touchstart\"+z,D.item,k.event.item.mouseenter)},keyboardEvents:function(){k.verbose(\"Binding keyboard events\"),M.on(\"keydown\"+z,k.event.keydown),k.has.search()&&M.on(k.get.inputEvent()+z,D.search,k.event.input),k.is.multiple()&&s.on(\"keydown\"+y,k.event.document.keydown)},inputEvents:function(){k.verbose(\"Binding input change events\"),M.on(\"change\"+z,D.input,k.event.change)},mouseEvents:function(){k.verbose(\"Binding mouse events\"),k.is.multiple()&&M.on(\"click\"+z,D.label,k.event.label.click).on(\"click\"+z,D.remove,k.event.remove.click),k.is.searchSelection()?(M.on(\"mousedown\"+z,k.event.mousedown).on(\"mouseup\"+z,k.event.mouseup).on(\"mousedown\"+z,D.menu,k.event.menu.mousedown).on(\"mouseup\"+z,D.menu,k.event.menu.mouseup).on(\"click\"+z,D.icon,k.event.icon.click).on(\"focus\"+z,D.search,k.event.search.focus).on(\"click\"+z,D.search,k.event.search.focus).on(\"blur\"+z,D.search,k.event.search.blur).on(\"click\"+z,D.text,k.event.text.focus),k.is.multiple()&&M.on(\"click\"+z,k.event.click)):(\"click\"==S.on?M.on(\"click\"+z,D.icon,k.event.icon.click).on(\"click\"+z,k.event.test.toggle):\"hover\"==S.on?M.on(\"mouseenter\"+z,k.delay.show).on(\"mouseleave\"+z,k.delay.hide):M.on(S.on+z,k.toggle),M.on(\"mousedown\"+z,k.event.mousedown).on(\"mouseup\"+z,k.event.mouseup).on(\"focus\"+z,k.event.focus),k.has.menuSearch()?M.on(\"blur\"+z,D.search,k.event.search.blur):M.on(\"blur\"+z,k.event.blur)),Q.on(\"mouseenter\"+z,D.item,k.event.item.mouseenter).on(\"mouseleave\"+z,D.item,k.event.item.mouseleave).on(\"click\"+z,D.item,k.event.item.click)},intent:function(){k.verbose(\"Binding hide intent event to document\"),c&&s.on(\"touchstart\"+y,k.event.test.touch).on(\"touchmove\"+y,k.event.test.touch),s.on(\"click\"+y,k.event.test.hide)}},unbind:{intent:function(){k.verbose(\"Removing hide intent event from document\"),c&&s.off(\"touchstart\"+y).off(\"touchmove\"+y),s.off(\"click\"+y)}},filter:function(e){var t=e!==i?e:k.get.query(),n=function(){k.is.multiple()&&k.filterActive(),k.select.firstUnfiltered(),k.has.allResultsFiltered()?S.onNoResults.call(K,t)?S.allowAdditions?S.hideAdditions&&(k.verbose(\"User addition with no menu, setting empty style\"),k.set.empty(),k.hideMenu()):(k.verbose(\"All items filtered, showing message\",t),k.add.message(A.noResults)):(k.verbose(\"All items filtered, hiding dropdown\",t),k.hideMenu()):(k.remove.empty(),k.remove.message()),S.allowAdditions&&k.add.userSuggestion(e),k.is.searchSelection()&&k.can.show()&&k.is.focusedOnSearch()&&k.show()};S.useLabels&&k.has.maxSelections()||(S.apiSettings?k.can.useAPI()?k.queryRemote(t,function(){S.filterRemoteData&&k.filterItems(t),n()}):k.error(q.noAPI):(k.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:\"local\",throttle:S.throttle,urlData:{query:t},onError:function(){k.add.message(A.serverError),n()},onFailure:function(){k.add.message(A.serverError),n()},onSuccess:function(e){k.remove.message(),k.setup.menu({values:e[R.remoteValues]}),n()}};M.api(\"get request\")||k.setup.api(),i=e.extend(!0,{},i,S.apiSettings),M.api(\"setting\",i).api(\"query\")},filterItems:function(t){var n=t!==i?t:k.get.query(),o=null,a=k.escape.string(n),r=new RegExp(\"^\"+a,\"igm\");k.has.query()&&(o=[],k.verbose(\"Searching for matching values\",n),X.each(function(){var t,i,a=e(this);if(\"both\"==S.match||\"text\"==S.match){if(t=String(k.get.choiceText(a,!1)),t.search(r)!==-1)return o.push(this),!0;if(\"exact\"===S.fullTextSearch&&k.exactSearch(n,t))return o.push(this),!0;if(S.fullTextSearch===!0&&k.fuzzySearch(n,t))return o.push(this),!0}if(\"both\"==S.match||\"value\"==S.match){if(i=String(k.get.choiceValue(a,t)),i.search(r)!==-1)return o.push(this),!0;if(\"exact\"===S.fullTextSearch&&k.exactSearch(n,i))return o.push(this),!0;if(S.fullTextSearch===!0&&k.fuzzySearch(n,i))return o.push(this),!0}})),k.debug(\"Showing only matched items\",n),k.remove.filteredItem(),o&&X.not(o).addClass(T.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;o<i;o++){for(var r=e.charCodeAt(o);a<n;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),t.indexOf(e)>-1},filterActive:function(){S.useLabels&&X.filter(\".\"+T.active).addClass(T.filtered)},focusSearch:function(e){k.has.search()&&!k.is.focusedOnSearch()&&(e?(M.off(\"focus\"+z,D.search),V.focus(),M.on(\"focus\"+z,D.search,k.event.search.focus)):V.focus())},forceSelection:function(){var e=X.not(T.filtered).filter(\".\"+T.selected).eq(0),t=X.not(T.filtered).filter(\".\"+T.active).eq(0),n=e.length>0?e:t,i=n.length>0;return i&&!k.is.multiple()?(k.debug(\"Forcing partial selection to selected item\",n),void k.event.item.click.call(n,{},!0)):void(S.allowAdditions?(k.set.selected(k.get.query()),k.remove.searchTerm()):k.remove.searchTerm())},event:{change:function(){Z||(k.debug(\"Input changed, updating selection\"),k.set.selected());\n},focus:function(){S.showOnFocus&&!$&&k.is.hidden()&&!v&&k.show()},blur:function(e){v=n.activeElement===this,$||v||(k.remove.activeLabel(),k.hide())},mousedown:function(){k.is.searchSelection()?b=!0:$=!0},mouseup:function(){k.is.searchSelection()?b=!1:$=!1},click:function(t){var n=e(t.target);n.is(M)&&(k.is.focusedOnSearch()?k.show():k.focusSearch())},search:{focus:function(){$=!0,k.is.multiple()&&k.remove.activeLabel(),S.showOnFocus&&k.search()},blur:function(e){v=n.activeElement===this,b||Y||v||(S.forceSelection&&k.forceSelection(),k.hide()),b=!1}},icon:{click:function(e){k.toggle()}},text:{focus:function(e){$=!0,k.focusSearch()}},input:function(e){(k.is.multiple()||k.is.searchSelection())&&k.set.filtered(),clearTimeout(k.timer),k.timer=setTimeout(k.search,S.delay.search)},label:{click:function(t){var n=e(this),i=M.find(D.label),o=i.filter(\".\"+T.active),a=n.nextAll(\".\"+T.active),r=n.prevAll(\".\"+T.active),s=a.length>0?n.nextUntil(a).add(o).add(n):n.prevUntil(r).add(o).add(n);t.shiftKey?(o.removeClass(T.active),s.addClass(T.active)):t.ctrlKey?n.toggleClass(T.active):(o.removeClass(T.active),n.addClass(T.active)),S.onLabelSelect.apply(this,i.filter(\".\"+T.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(T.active)?k.remove.activeLabels():k.remove.activeLabels(t)}},test:{toggle:function(e){var t=k.is.multiple()?k.show:k.toggle;k.is.bubbledLabelClick(e)||k.is.bubbledIconClick(e)||k.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){k.determine.eventOnElement(e,function(){\"touchstart\"==e.type?k.timer=setTimeout(function(){k.hide()},S.delay.touch):\"touchmove\"==e.type&&clearTimeout(k.timer)}),e.stopPropagation()},hide:function(e){k.determine.eventInModule(e,k.hide)}},select:{mutation:function(e){k.debug(\"<select> modified, recreating menu\"),k.setup.select()}},menu:{mutation:function(t){var n=t[0],i=e(n.addedNodes?n.addedNodes[0]:!1),o=e(n.removedNodes?n.removedNodes[0]:!1),a=i.add(o),r=a.is(D.addition)||a.closest(D.addition).length>0,s=a.is(D.message)||a.closest(D.message).length>0;r||s?(k.debug(\"Updating item selector cache\"),k.refreshItems()):(k.debug(\"Menu modified, updating selector cache\"),k.refresh())},mousedown:function(){Y=!0},mouseup:function(){Y=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),o=i.children(D.menu),a=i.siblings(D.item).children(D.menu),r=o.length>0,s=o.find(n).length>0;!s&&r&&(clearTimeout(k.itemTimer),k.itemTimer=setTimeout(function(){k.verbose(\"Showing sub-menu\",o),e.each(a,function(){k.animate.hide(!1,e(this))}),k.animate.show(!1,o)},S.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(D.menu);n.length>0&&(clearTimeout(k.itemTimer),k.itemTimer=setTimeout(function(){k.verbose(\"Hiding sub-menu\",n),k.animate.hide(!1,n)},S.delay.hide))},click:function(t,n){var i=e(this),o=e(t?t.target:\"\"),a=i.find(D.menu),r=k.get.choiceText(i),s=k.get.choiceValue(i,r),l=a.length>0,c=a.find(o).length>0;c||l&&!S.allowCategorySelection||(k.is.searchSelection()&&(S.allowAdditions&&k.remove.userAddition(),k.remove.searchTerm(),k.is.focusedOnSearch()||1==n||k.focusSearch(!0)),S.useLabels||(k.remove.filteredItem(),k.set.scrollPosition(i)),k.determine.selectAction.call(this,r,s))}},document:{keydown:function(e){var t=e.which,n=k.is.inObject(t,P);if(n){var i=M.find(D.label),o=i.filter(\".\"+T.active),a=(o.data(E.value),i.index(o)),r=i.length,s=o.length>0,l=o.length>1,c=0===a,u=a+1==r,d=k.is.searchSelection(),f=k.is.focusedOnSearch(),m=k.is.focused(),g=f&&0===k.get.caretPosition();if(d&&!s&&!f)return;t==P.leftArrow?!m&&!g||s?s&&(e.shiftKey?k.verbose(\"Adding previous label to selection\"):(k.verbose(\"Selecting previous label\"),i.removeClass(T.active)),c&&!l?o.addClass(T.active):o.prev(D.siblingLabel).addClass(T.active).end(),e.preventDefault()):(k.verbose(\"Selecting previous label\"),i.last().addClass(T.active)):t==P.rightArrow?(m&&!s&&i.first().addClass(T.active),s&&(e.shiftKey?k.verbose(\"Adding next label to selection\"):(k.verbose(\"Selecting next label\"),i.removeClass(T.active)),u?d?f?i.removeClass(T.active):k.focusSearch():l?o.next(D.siblingLabel).addClass(T.active):o.addClass(T.active):o.next(D.siblingLabel).addClass(T.active),e.preventDefault())):t==P.deleteKey||t==P.backspace?s?(k.verbose(\"Removing active labels\"),u&&d&&!f&&k.focusSearch(),o.last().next(D.siblingLabel).addClass(T.active),k.remove.activeLabels(o),e.preventDefault()):g&&!s&&t==P.backspace&&(k.verbose(\"Removing last label on input backspace\"),o=i.last().addClass(T.active),k.remove.activeLabels(o)):o.removeClass(T.active)}}},keydown:function(e){var t=e.which,n=k.is.inObject(t,P);if(n){var i,o,a=X.not(D.unselectable).filter(\".\"+T.selected).eq(0),r=Q.children(\".\"+T.active).eq(0),s=a.length>0?a:r,l=s.length>0?s.siblings(\":not(.\"+T.filtered+\")\").addBack():Q.children(\":not(.\"+T.filtered+\")\"),c=s.children(D.menu),u=s.closest(D.menu),d=u.hasClass(T.visible)||u.hasClass(T.animating)||u.parent(D.menu).length>0,f=c.length>0,m=s.length>0,g=s.not(D.unselectable).length>0,p=t==P.delimiter&&S.allowAdditions&&k.is.multiple(),h=S.allowAdditions&&S.hideAdditions&&(t==P.enter||p)&&g;if(h&&(k.verbose(\"Selecting item from keyboard shortcut\",s),k.event.item.click.call(s,e),k.is.searchSelection()&&k.remove.searchTerm()),k.is.visible()){if((t==P.enter||p)&&(t==P.enter&&m&&f&&!S.allowCategorySelection?(k.verbose(\"Pressed enter on unselectable category, opening sub menu\"),t=P.rightArrow):g&&(k.verbose(\"Selecting item from keyboard shortcut\",s),k.event.item.click.call(s,e),k.is.searchSelection()&&k.remove.searchTerm()),e.preventDefault()),m&&(t==P.leftArrow&&(o=u[0]!==Q[0],o&&(k.verbose(\"Left key pressed, closing sub-menu\"),k.animate.hide(!1,u),s.removeClass(T.selected),u.closest(D.item).addClass(T.selected),e.preventDefault())),t==P.rightArrow&&f&&(k.verbose(\"Right key pressed, opening sub-menu\"),k.animate.show(!1,c),s.removeClass(T.selected),c.find(D.item).eq(0).addClass(T.selected),e.preventDefault())),t==P.upArrow){if(i=m&&d?s.prevAll(D.item+\":not(\"+D.unselectable+\")\").eq(0):X.eq(0),l.index(i)<0)return k.verbose(\"Up key pressed but reached top of current menu\"),void e.preventDefault();k.verbose(\"Up key pressed, changing active item\"),s.removeClass(T.selected),i.addClass(T.selected),k.set.scrollPosition(i),S.selectOnKeydown&&k.is.single()&&k.set.selectedItem(i),e.preventDefault()}if(t==P.downArrow){if(i=m&&d?i=s.nextAll(D.item+\":not(\"+D.unselectable+\")\").eq(0):X.eq(0),0===i.length)return k.verbose(\"Down key pressed but reached bottom of current menu\"),void e.preventDefault();k.verbose(\"Down key pressed, changing active item\"),X.removeClass(T.selected),i.addClass(T.selected),k.set.scrollPosition(i),S.selectOnKeydown&&k.is.single()&&k.set.selectedItem(i),e.preventDefault()}t==P.pageUp&&(k.scrollPage(\"up\"),e.preventDefault()),t==P.pageDown&&(k.scrollPage(\"down\"),e.preventDefault()),t==P.escape&&(k.verbose(\"Escape key pressed, closing dropdown\"),k.hide())}else p&&e.preventDefault(),t!=P.downArrow||k.is.visible()||(k.verbose(\"Down key pressed, showing dropdown\"),k.select.firstUnfiltered(),k.show(),e.preventDefault())}else k.has.search()||k.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent(\"HTMLEvents\"),t=U[0];t&&(k.verbose(\"Triggering native change event\"),e.initEvent(\"change\",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){k.verbose(\"Determining action\",S.action),e.isFunction(k.action[S.action])?(k.verbose(\"Triggering preset action\",S.action,t,n),k.action[S.action].call(K,t,n,this)):e.isFunction(S.action)?(k.verbose(\"Triggering user action\",S.action,t,n),S.action.call(K,t,n,this)):k.error(q.action,S.action)},eventInModule:function(t,i){var o=e(t.target),a=o.closest(n.documentElement).length>0,r=o.closest(M).length>0;return i=e.isFunction(i)?i:function(){},a&&!r?(k.verbose(\"Triggering event\",i),i(),!0):(k.verbose(\"Event occurred in dropdown, canceling callback\"),!1)},eventOnElement:function(t,i){var o=e(t.target),a=o.closest(D.siblingLabel),r=n.body.contains(t.target),s=0===M.find(a).length,l=0===o.closest(Q).length;return i=e.isFunction(i)?i:function(){},r&&s&&l?(k.verbose(\"Triggering event\",i),i(),!0):(k.verbose(\"Event occurred in dropdown menu, canceling callback\"),!1)}},action:{nothing:function(){},activate:function(t,n,o){if(n=n!==i?n:t,k.can.activate(e(o))){if(k.set.selected(n,e(o)),k.is.multiple()&&!k.is.allFiltered())return;k.hideAndClear()}},select:function(t,n,o){if(n=n!==i?n:t,k.can.activate(e(o))){if(k.set.value(n,e(o)),k.is.multiple()&&!k.is.allFiltered())return;k.hideAndClear()}},combo:function(t,n,o){n=n!==i?n:t,k.set.selected(n,e(o)),k.hideAndClear()},hide:function(e,t,n){k.set.value(t,e),k.hideAndClear()}},get:{id:function(){return x},defaultText:function(){return M.data(E.defaultText)},defaultValue:function(){return M.data(E.defaultValue)},placeholderText:function(){return M.data(E.placeholderText)||\"\"},text:function(){return N.text()},query:function(){return e.trim(V.val())},searchWidth:function(e){return e=e!==i?e:V.val(),H.text(e),Math.ceil(H.width()+1)},selectionCount:function(){var t,n=k.get.values();return t=k.is.multiple()?e.isArray(n)?n.length:0:\"\"!==k.get.value()?1:0},transition:function(e){return\"auto\"==S.transition?k.is.upward(e)?\"slide up\":\"slide down\":S.transition},userValues:function(){var t=k.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return k.get.item(e)===!1}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=V.get(0);return\"selectionStart\"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart(\"character\",-i.value.length),e.text.length-t):void 0},value:function(){var t=U.length>0?U.val():M.data(E.value),n=e.isArray(t)&&1===t.length&&\"\"===t[0];return t===i||n?\"\":t},values:function(){var e=k.get.value();return\"\"===e?\"\":!k.has.selectInput()&&k.is.multiple()?\"string\"==typeof e?e.split(S.delimiter):\"\":e},remoteValues:function(){var t=k.get.values(),n=!1;return t&&(\"string\"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=k.read.remoteData(t);k.verbose(\"Restoring value from session data\",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=n!==i?n:S.preserveHTML,t)return t.find(D.menu).length>0&&(k.verbose(\"Retrieving text of element with sub-menu\"),t=t.clone(),t.find(D.menu).remove(),t.find(D.menuIcon).remove()),t.data(E.text)!==i?t.data(E.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||k.get.choiceText(t),!!t&&(t.data(E.value)!==i?String(t.data(E.value)):\"string\"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=V[0];return!!e&&(e.oninput!==i?\"input\":e.onpropertychange!==i?\"propertychange\":\"keyup\")},selectValues:function(){var t={};return t.values=[],M.find(\"option\").each(function(){var n=e(this),o=n.html(),a=n.attr(\"disabled\"),r=n.attr(\"value\")!==i?n.attr(\"value\"):o;\"auto\"===S.placeholder&&\"\"===r?t.placeholder=o:t.values.push({name:o,value:r,disabled:a})}),S.placeholder&&\"auto\"!==S.placeholder&&(k.debug(\"Setting placeholder value to\",S.placeholder),t.placeholder=S.placeholder),S.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),k.debug(\"Retrieved and sorted values from select\",t)):k.debug(\"Retrieved values from select\",t),t},activeItem:function(){return X.filter(\".\"+T.active)},selectedItem:function(){var e=X.not(D.unselectable).filter(\".\"+T.selected);return e.length>0?e:X.eq(0)},itemWithAdditions:function(e){var t=k.get.item(e),n=k.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var o,a,r=!1;return t=t!==i?t:k.get.values()!==i?k.get.values():k.get.text(),o=a?t.length>0:t!==i&&null!==t,a=k.is.multiple()&&e.isArray(t),n=\"\"===t||0===t||(n||!1),o&&X.each(function(){var o=e(this),s=k.get.choiceText(o),l=k.get.choiceValue(o,s);if(null!==l&&l!==i)if(a)e.inArray(String(l),t)===-1&&e.inArray(s,t)===-1||(r=r?r.add(o):o);else if(n){if(k.verbose(\"Ambiguous dropdown value using strict type check\",o,t),l===t||s===t)return r=o,!0}else if(String(l)==String(t)||s==t)return k.verbose(\"Found select item by value\",l,t),r=o,!0}),r}},check:{maxSelections:function(e){return!S.maxSelections||(e=e!==i?e:k.get.selectionCount(),e>=S.maxSelections?(k.debug(\"Maximum selection count reached\"),S.useLabels&&(X.addClass(T.filtered),k.add.message(A.maxSelections)),!0):(k.verbose(\"No longer at maximum selection count\"),k.remove.message(),k.remove.filteredItem(),k.is.searchSelection()&&k.filterItems(),!1))}},restore:{defaults:function(){k.clear(),k.restore.defaultText(),k.restore.defaultValue()},defaultText:function(){var e=k.get.defaultText(),t=k.get.placeholderText;e===t?(k.debug(\"Restoring default placeholder text\",e),k.set.placeholderText(e)):(k.debug(\"Restoring default text\",e),k.set.text(e))},placeholderText:function(){k.set.placeholderText()},defaultValue:function(){var e=k.get.defaultValue();e!==i&&(k.debug(\"Restoring default value\",e),\"\"!==e?(k.set.value(e),k.set.selected()):(k.remove.activeItem(),k.remove.selectedItem()))},labels:function(){S.allowAdditions&&(S.useLabels||(k.error(q.labels),S.useLabels=!0),k.debug(\"Restoring selected values\"),k.create.userLabels()),k.check.maxSelections()},selected:function(){k.restore.values(),k.is.multiple()?(k.debug(\"Restoring previously selected values and labels\"),k.restore.labels()):k.debug(\"Restoring previously selected values\")},values:function(){k.set.initialLoad(),S.apiSettings&&S.saveRemoteData&&k.get.remoteValues()?k.restore.remoteValues():k.set.selected(),k.remove.initialLoad()},remoteValues:function(){var t=k.get.remoteValues();k.debug(\"Recreating selected from session data\",t),t&&(k.is.single()?e.each(t,function(e,t){k.set.text(t)}):e.each(t,function(e,t){k.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void k.error(q.noStorage):(n=sessionStorage.getItem(e),n!==i&&n)}},save:{defaults:function(){k.save.defaultText(),k.save.placeholderText(),k.save.defaultValue()},defaultValue:function(){var e=k.get.value();k.verbose(\"Saving default value as\",e),M.data(E.defaultValue,e)},defaultText:function(){var e=k.get.text();k.verbose(\"Saving default text as\",e),M.data(E.defaultText,e)},placeholderText:function(){var e;S.placeholder!==!1&&N.hasClass(T.placeholder)&&(e=k.get.text(),k.verbose(\"Saving placeholder text as\",e),M.data(E.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void k.error(q.noStorage):(k.verbose(\"Saving remote data to session storage\",n,e),void sessionStorage.setItem(n,e))}},clear:function(){k.is.multiple()&&S.useLabels?k.remove.labels():(k.remove.activeItem(),k.remove.selectedItem()),k.set.placeholderText(),k.clearValue()},clearValue:function(){k.set.value(\"\")},scrollPage:function(e,t){var n,i,o,a=t||k.get.selectedItem(),r=a.closest(D.menu),s=r.outerHeight(),l=r.scrollTop(),c=X.eq(0).outerHeight(),u=Math.floor(s/c),d=(r.prop(\"scrollHeight\"),\"up\"==e?l-c*u:l+c*u),f=X.not(D.unselectable);o=\"up\"==e?f.index(a)-u:f.index(a)+u,n=\"up\"==e?o>=0:o<f.length,i=n?f.eq(o):\"up\"==e?f.first():f.last(),i.length>0&&(k.debug(\"Scrolling page\",e,i),a.removeClass(T.selected),i.addClass(T.selected),S.selectOnKeydown&&k.is.single()&&k.set.selectedItem(i),r.scrollTop(d))},set:{filtered:function(){var e=k.is.multiple(),t=k.is.searchSelection(),n=e&&t,i=t?k.get.query():\"\",o=\"string\"==typeof i&&i.length>0,a=k.get.searchWidth(),r=\"\"!==i;e&&o&&(k.verbose(\"Adjusting input width\",a,S.glyphWidth),V.css(\"width\",a)),o||n&&r?(k.verbose(\"Hiding placeholder text\"),N.addClass(T.filtered)):(!e||n&&!r)&&(k.verbose(\"Showing placeholder text\"),N.removeClass(T.filtered))},empty:function(){M.addClass(T.empty)},loading:function(){M.addClass(T.loading)},placeholderText:function(e){e=e||k.get.placeholderText(),k.debug(\"Setting placeholder text\",e),k.set.text(e),N.addClass(T.placeholder)},tabbable:function(){k.is.searchSelection()?(k.debug(\"Added tabindex to searchable dropdown\"),V.val(\"\").attr(\"tabindex\",0),Q.attr(\"tabindex\",-1)):(k.debug(\"Added tabindex to dropdown\"),M.attr(\"tabindex\")===i&&(M.attr(\"tabindex\",0),Q.attr(\"tabindex\",-1)))},initialLoad:function(){k.verbose(\"Setting initial load\"),h=!0},activeItem:function(e){S.allowAdditions&&e.filter(D.addition).length>0?e.addClass(T.filtered):e.addClass(T.active)},partialSearch:function(e){var t=k.get.query().length;V.val(e.substr(0,t))},scrollPosition:function(e,t){var n,o,a,r,s,l,c,u,d,f=5;e=e||k.get.selectedItem(),n=e.closest(D.menu),o=e&&e.length>0,t=t!==i&&t,e&&n.length>0&&o&&(r=e.position().top,n.addClass(T.loading),l=n.scrollTop(),s=n.offset().top,r=e.offset().top,a=l-s+r,t||(c=n.height(),d=l+c<a+f,u=a-f<l),k.debug(\"Scrolling to active item\",a),(t||u||d)&&n.scrollTop(a),n.removeClass(T.loading))},text:function(e){\"select\"!==S.action&&(\"combo\"==S.action?(k.debug(\"Changing combo button text\",e,B),S.preserveHTML?B.html(e):B.text(e)):(e!==k.get.placeholderText()&&N.removeClass(T.placeholder),k.debug(\"Changing text\",e,N),N.removeClass(T.filtered),S.preserveHTML?N.html(e):N.text(e)))},selectedItem:function(e){var t=k.get.choiceValue(e),n=k.get.choiceText(e,!1),i=k.get.choiceText(e,!0);k.debug(\"Setting user selection to item\",e),k.remove.activeItem(),k.set.partialSearch(n),k.set.activeItem(e),k.set.selected(t,e),k.set.text(i)},selectedLetter:function(t){var n,i=X.filter(\".\"+T.selected),o=i.length>0&&k.has.firstLetter(i,t),a=!1;o&&(n=i.nextAll(X).eq(0),k.has.firstLetter(n,t)&&(a=n)),a||X.each(function(){if(k.has.firstLetter(e(this),t))return a=e(this),!1}),a&&(k.verbose(\"Scrolling to next value with letter\",t),k.set.scrollPosition(a),i.removeClass(T.selected),a.addClass(T.selected),S.selectOnKeydown&&k.is.single()&&k.set.selectedItem(a))},direction:function(e){\"auto\"==S.direction?k.is.onScreen(e)?k.remove.upward(e):k.set.upward(e):\"upward\"==S.direction&&k.set.upward(e)},upward:function(e){var t=e||M;t.addClass(T.upward)},value:function(e,t,n){var o=k.escape.value(e),a=U.length>0,r=(!k.has.value(e),k.get.values()),s=e!==i?String(e):e;if(a){if(!S.allowReselection&&s==r&&(k.verbose(\"Skipping value update already same value\",e,r),!k.is.initialLoad()))return;k.is.single()&&k.has.selectInput()&&k.can.extendSelect()&&(k.debug(\"Adding user option\",e),k.add.optionValue(e)),k.debug(\"Updating input value\",o,r),Z=!0,U.val(o),S.fireOnInit===!1&&k.is.initialLoad()?k.debug(\"Input native change event ignored on initial load\"):k.trigger.change(),Z=!1}else k.verbose(\"Storing value in metadata\",o,U),o!==r&&M.data(E.value,s);S.fireOnInit===!1&&k.is.initialLoad()?k.verbose(\"No callback on initial load\",S.onChange):S.onChange.call(K,e,t,n)},active:function(){M.addClass(T.active)},multiple:function(){M.addClass(T.multiple)},visible:function(){M.addClass(T.visible)},exactly:function(e,t){k.debug(\"Setting selected to exact values\"),k.clear(),k.set.selected(e,t)},selected:function(t,n){var i=k.is.multiple();n=S.allowAdditions?n||k.get.itemWithAdditions(t):n||k.get.item(t),n&&(k.debug(\"Setting selected menu item to\",n),k.is.multiple()&&k.remove.searchWidth(),k.is.single()?(k.remove.activeItem(),k.remove.selectedItem()):S.useLabels&&k.remove.selectedItem(),n.each(function(){var t=e(this),o=k.get.choiceText(t),a=k.get.choiceValue(t,o),r=t.hasClass(T.filtered),s=t.hasClass(T.active),l=t.hasClass(T.addition),c=i&&1==n.length;i?!s||l?(S.apiSettings&&S.saveRemoteData&&k.save.remoteData(o,a),S.useLabels?(k.add.value(a,o,t),k.add.label(a,o,c),k.set.activeItem(t),k.filterActive(),k.select.nextAvailable(n)):(k.add.value(a,o,t),k.set.text(k.add.variables(A.count)),k.set.activeItem(t))):r||(k.debug(\"Selected active value, removing label\"),k.remove.selected(a)):(S.apiSettings&&S.saveRemoteData&&k.save.remoteData(o,a),k.set.text(o),k.set.value(a,o,t),t.addClass(T.active).addClass(T.selected))}))}},add:{label:function(t,n,i){var o,a=k.is.searchSelection()?V:N,r=k.escape.value(t);return o=e(\"<a />\").addClass(T.label).attr(\"data-\"+E.value,r).html(j.label(r,n)),o=S.onLabelCreate.call(o,r,n),k.has.label(t)?void k.debug(\"Label already exists, skipping\",r):(S.label.variation&&o.addClass(S.label.variation),void(i===!0?(k.debug(\"Animating in label\",o),o.addClass(T.hidden).insertBefore(a).transition(S.label.transition,S.label.duration)):(k.debug(\"Adding selection label\",o),o.insertBefore(a))))},message:function(t){var n=Q.children(D.message),i=S.templates.message(k.add.variables(t));n.length>0?n.html(i):n=e(\"<div/>\").html(i).addClass(T.message).appendTo(Q)},optionValue:function(t){var n=k.escape.value(t),i=U.find('option[value=\"'+k.escape.string(n)+'\"]'),o=i.length>0;o||(k.disconnect.selectObserver(),k.is.single()&&(k.verbose(\"Removing previous user addition\"),U.find(\"option.\"+T.addition).remove()),e(\"<option/>\").prop(\"value\",n).addClass(T.addition).html(t).appendTo(U),k.verbose(\"Adding user addition as an <option>\",t),k.observe.select())},userSuggestion:function(e){var t,n=Q.children(D.addition),i=k.get.item(e),o=i&&i.not(D.addition).length,a=n.length>0;if(!S.useLabels||!k.has.maxSelections()){if(\"\"===e||o)return void n.remove();a?(n.data(E.value,e).data(E.text,e).attr(\"data-\"+E.value,e).attr(\"data-\"+E.text,e).removeClass(T.filtered),S.hideAdditions||(t=S.templates.addition(k.add.variables(A.addResult,e)),n.html(t)),k.verbose(\"Replacing user suggestion with new value\",n)):(n=k.create.userChoice(e),n.prependTo(Q),k.verbose(\"Adding item choice to menu corresponding with user choice addition\",n)),S.hideAdditions&&!k.is.allFiltered()||n.addClass(T.selected).siblings().removeClass(T.selected),k.refreshItems()}},variables:function(e,t){var n,i,o=e.search(\"{count}\")!==-1,a=e.search(\"{maxCount}\")!==-1,r=e.search(\"{term}\")!==-1;return k.verbose(\"Adding templated variables to message\",e),o&&(n=k.get.selectionCount(),e=e.replace(\"{count}\",n)),a&&(n=k.get.selectionCount(),e=e.replace(\"{maxCount}\",S.maxSelections)),r&&(i=t||k.get.query(),e=e.replace(\"{term}\",i)),e},value:function(t,n,i){var o,a=k.get.values();return\"\"===t?void k.debug(\"Cannot select blank values from multiselect\"):(e.isArray(a)?(o=a.concat([t]),o=k.get.uniqueArray(o)):o=[t],k.has.selectInput()?k.can.extendSelect()&&(k.debug(\"Adding value to select\",t,o,U),k.add.optionValue(t)):(o=o.join(S.delimiter),k.debug(\"Setting hidden input to delimited value\",o,U)),S.fireOnInit===!1&&k.is.initialLoad()?k.verbose(\"Skipping onadd callback on initial load\",S.onAdd):S.onAdd.call(K,t,n,i),k.set.value(o,t,n,i),void k.check.maxSelections())}},remove:{active:function(){M.removeClass(T.active)},activeLabel:function(){M.find(D.label).removeClass(T.active)},empty:function(){M.removeClass(T.empty)},loading:function(){M.removeClass(T.loading)},initialLoad:function(){h=!1},upward:function(e){var t=e||M;t.removeClass(T.upward)},visible:function(){M.removeClass(T.visible)},activeItem:function(){X.removeClass(T.active)},filteredItem:function(){S.useLabels&&k.has.maxSelections()||(S.useLabels&&k.is.multiple()?X.not(\".\"+T.active).removeClass(T.filtered):X.removeClass(T.filtered),k.remove.empty())},optionValue:function(e){var t=k.escape.value(e),n=U.find('option[value=\"'+k.escape.string(t)+'\"]'),i=n.length>0;i&&n.hasClass(T.addition)&&(C&&(C.disconnect(),k.verbose(\"Temporarily disconnecting mutation observer\")),n.remove(),k.verbose(\"Removing user addition as an <option>\",t),C&&C.observe(U[0],{childList:!0,subtree:!0}))},message:function(){Q.children(D.message).remove()},searchWidth:function(){V.css(\"width\",\"\")},searchTerm:function(){k.verbose(\"Cleared search term\"),V.val(\"\"),k.set.filtered()},userAddition:function(){X.filter(D.addition).remove()},selected:function(t,n){return!!(n=S.allowAdditions?n||k.get.itemWithAdditions(t):n||k.get.item(t))&&void n.each(function(){var t=e(this),n=k.get.choiceText(t),i=k.get.choiceValue(t,n);k.is.multiple()?S.useLabels?(k.remove.value(i,n,t),k.remove.label(i)):(k.remove.value(i,n,t),0===k.get.selectionCount()?k.set.placeholderText():k.set.text(k.add.variables(A.count))):k.remove.value(i,n,t),t.removeClass(T.filtered).removeClass(T.active),S.useLabels&&t.removeClass(T.selected)})},selectedItem:function(){X.removeClass(T.selected)},value:function(e,t,n){var i,o=k.get.values();k.has.selectInput()?(k.verbose(\"Input is <select> removing selected option\",e),i=k.remove.arrayValue(e,o),k.remove.optionValue(e)):(k.verbose(\"Removing from delimited values\",e),i=k.remove.arrayValue(e,o),i=i.join(S.delimiter)),S.fireOnInit===!1&&k.is.initialLoad()?k.verbose(\"No callback on initial load\",S.onRemove):S.onRemove.call(K,e,t,n),k.set.value(i,t,n),k.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),k.verbose(\"Removed value from delimited string\",t,n),n},label:function(e,t){var n=M.find(D.label),i=n.filter(\"[data-\"+E.value+'=\"'+k.escape.string(e)+'\"]');k.verbose(\"Removing label\",i),i.remove()},activeLabels:function(e){e=e||M.find(D.label).filter(\".\"+T.active),k.verbose(\"Removing active label selections\",e),k.remove.labels(e)},labels:function(t){t=t||M.find(D.label),k.verbose(\"Removing labels\",t),t.each(function(){var t=e(this),n=t.data(E.value),o=n!==i?String(n):n,a=k.is.userValue(o);return S.onLabelRemove.call(t,n)===!1?void k.debug(\"Label remove callback cancelled removal\"):(k.remove.message(),void(a?(k.remove.value(o),k.remove.label(o)):k.remove.selected(o)))})},tabbable:function(){k.is.searchSelection()?(k.debug(\"Searchable dropdown initialized\"),V.removeAttr(\"tabindex\"),Q.removeAttr(\"tabindex\")):(k.debug(\"Simple selection dropdown initialized\"),M.removeAttr(\"tabindex\"),Q.removeAttr(\"tabindex\"))}},has:{menuSearch:function(){return k.has.search()&&V.closest(Q).length>0},search:function(){return V.length>0},sizer:function(){return H.length>0},selectInput:function(){return U.is(\"select\")},minCharacters:function(e){return!S.minCharacters||(e=e!==i?String(e):String(k.get.query()),e.length>=S.minCharacters)},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||\"string\"!=typeof t)&&(n=k.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return U.length>0},items:function(){return X.length>0},menu:function(){return Q.length>0},message:function(){return 0!==Q.children(D.message).length},label:function(e){var t=k.escape.value(e),n=M.find(D.label);return n.filter(\"[data-\"+E.value+'=\"'+k.escape.string(t)+'\"]').length>0},maxSelections:function(){return S.maxSelections&&k.get.selectionCount()>=S.maxSelections},allResultsFiltered:function(){var e=X.not(D.addition);return e.filter(D.unselectable).length===e.length},userSuggestion:function(){return Q.children(D.addition).length>0},query:function(){return\"\"!==k.get.query()},value:function(t){var n=k.get.values(),i=e.isArray(n)?n&&e.inArray(t,n)!==-1:n==t;return!!i}},is:{active:function(){return M.hasClass(T.active)},bubbledLabelClick:function(t){return e(t.target).is(\"select, input\")&&M.closest(\"label\").length>0},bubbledIconClick:function(t){return e(t.target).closest(W).length>0},alreadySetup:function(){return M.is(\"select\")&&M.parent(D.dropdown).length>0&&0===M.prev().length},animating:function(e){return e?e.transition&&e.transition(\"is animating\"):Q.transition&&Q.transition(\"is animating\")},disabled:function(){return M.hasClass(T.disabled)},focused:function(){return n.activeElement===M[0]},focusedOnSearch:function(){return n.activeElement===V[0]},allFiltered:function(){return(k.is.multiple()||k.has.search())&&!(0==S.hideAdditions&&k.has.userSuggestion())&&!k.has.message()&&k.has.allResultsFiltered()},hidden:function(e){return!k.is.visible(e)},initialLoad:function(){return h},onScreen:function(e){var t,n=e||Q,i=!0,o={};return n.addClass(T.loading),t={context:{scrollTop:L.scrollTop(),height:L.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},o.below?(k.verbose(\"Dropdown can fit in context downward\",o),i=!0):o.below||o.above?(k.verbose(\"Dropdown cannot fit below, opening upward\",o),i=!1):(k.verbose(\"Dropdown cannot fit in either direction, favoring downward\",o),i=!0),n.removeClass(T.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return M.hasClass(T.multiple)},remote:function(){return S.apiSettings&&k.can.useAPI()},single:function(){return!k.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is(\"select\"))return n=!0,!0}),n},search:function(){return M.hasClass(T.search)},searchSelection:function(){return k.has.search()&&1===V.parent(D.dropdown).length},selection:function(){return M.hasClass(T.selection)},userValue:function(t){return e.inArray(t,k.get.userValues())!==-1},upward:function(e){var t=e||M;return t.hasClass(T.upward)},visible:function(e){return e?e.hasClass(T.visible):Q.hasClass(T.visible)}},can:{activate:function(e){return!!S.useLabels||(!k.has.maxSelections()||!(!k.has.maxSelections()||!e.hasClass(T.active)))},click:function(){return c||\"click\"==S.on},extendSelect:function(){return S.allowAdditions||S.apiSettings},show:function(){return!k.is.disabled()&&(k.has.items()||k.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var o,a=n||Q,r=n?function(){}:function(){k.hideSubMenus(),k.hideOthers(),k.set.active()};t=e.isFunction(t)?t:function(){},k.verbose(\"Doing menu show animation\",a),k.set.direction(n),o=k.get.transition(n),k.is.selection()&&k.set.scrollPosition(k.get.selectedItem(),!0),(k.is.hidden(a)||k.is.animating(a))&&(\"none\"==o?(r(),a.transition(\"show\"),t.call(K)):e.fn.transition!==i&&M.transition(\"is supported\")?a.transition({animation:o+\" in\",debug:S.debug,verbose:S.verbose,duration:S.duration,queue:!0,onStart:r,onComplete:function(){t.call(K)}}):k.error(q.noTransition,o))},hide:function(t,n){var o=n||Q,a=(n?.9*S.duration:S.duration,n?function(){}:function(){k.can.click()&&k.unbind.intent(),k.remove.active()}),r=k.get.transition(n);t=e.isFunction(t)?t:function(){},(k.is.visible(o)||k.is.animating(o))&&(k.verbose(\"Doing menu hide animation\",o),\"none\"==r?(a(),o.transition(\"hide\"),t.call(K)):e.fn.transition!==i&&M.transition(\"is supported\")?o.transition({animation:r+\" out\",duration:S.duration,debug:S.debug,verbose:S.verbose,queue:!0,onStart:a,onComplete:function(){\"auto\"==S.direction&&k.remove.upward(n),t.call(K)}}):k.error(q.transition))}},hideAndClear:function(){k.remove.searchTerm(),k.has.maxSelections()||(k.has.search()?k.hide(function(){k.remove.filteredItem()}):k.hide())},delay:{show:function(){k.verbose(\"Delaying show event to ensure user intent\"),clearTimeout(k.timer),k.timer=setTimeout(k.show,S.delay.show)},hide:function(){k.verbose(\"Delaying hide event to ensure user intent\"),clearTimeout(k.timer),k.timer=setTimeout(k.hide,S.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i=\"string\"==typeof t,o=!i&&!n,a=i&&t.search(O.quote)!==-1,r=[];return o||!a?t:(k.debug(\"Encoding quote values for use in select\",t),n?(e.each(t,function(e,t){r.push(t.replace(O.quote,\"&quot;\"))}),r):t.replace(O.quote,\"&quot;\"))},string:function(e){return e=String(e),e.replace(O.escape,\"\\\\$&\")}},setting:function(t,n){if(k.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],n):S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},debug:function(){!S.silent&&S.debug&&(S.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,S.name+\":\"),k.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,S.name+\":\"),k.verbose.apply(console,arguments)))},error:function(){S.silent||(k.error=Function.prototype.bind.call(console.error,console,S.name+\":\"),k.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;S.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:K,\"Execution Time\":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500);\n},display:function(){var t=S.name+\":\",n=0;u=!1,clearTimeout(k.performance.timer),e.each(d,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",l&&(t+=\" '\"+l+\"'\"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var r,s,l,c=J;return n=n||g,o=K||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(k.error(q.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},m?(J===i&&k.initialize(),k.invoke(f)):(J!==i&&J.invoke(\"destroy\"),k.initialize())}),a!==i?a:r},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:\"click\",action:\"activate\",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:t,direction:\"auto\",keepOnScreen:!0,match:\"both\",fullTextSearch:!1,placeholder:\"auto\",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:\",\",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:\"auto\",duration:200,glyphWidth:1.037,label:{transition:\"scale\",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:\"Dropdown\",namespace:\"dropdown\",message:{addResult:\"Add <b>{term}</b>\",count:\"{count} selected\",maxSelections:\"Max {maxCount} selections\",noResults:\"No results found.\",serverError:\"There was an error contacting the server\"},error:{action:\"You called a dropdown action that was not defined\",alreadySetup:\"Once a select has been initialized behaviors must be called on the created ui dropdown\",labels:\"Allowing user additions currently requires the use of labels.\",missingMultiple:\"<select> requires multiple property to be set to correctly preserve multiple values\",method:\"The method you called is not defined.\",noAPI:\"The API module is required to load resources remotely\",noStorage:\"Saving remote data requires session storage\",noTransition:\"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>\"},regExp:{escape:/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,quote:/\"/g},metadata:{defaultText:\"defaultText\",defaultValue:\"defaultValue\",placeholderText:\"placeholder\",text:\"text\",value:\"value\"},fields:{remoteValues:\"results\",values:\"values\",disabled:\"disabled\",name:\"name\",value:\"value\",text:\"text\"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:\".addition\",dropdown:\".ui.dropdown\",hidden:\".hidden\",icon:\"> .dropdown.icon\",input:'> input[type=\"hidden\"], > select',item:\".item\",label:\"> .label\",remove:\"> .label > .delete.icon\",siblingLabel:\".label\",menu:\".menu\",message:\".message\",menuIcon:\".dropdown.icon\",search:\"input.search, .menu > .search > input, .menu input.search\",sizer:\"> input.sizer\",text:\"> .text:not(.icon)\",unselectable:\".disabled, .filtered\"},className:{active:\"active\",addition:\"addition\",animating:\"animating\",disabled:\"disabled\",empty:\"empty\",dropdown:\"ui dropdown\",filtered:\"filtered\",hidden:\"hidden transition\",item:\"item\",label:\"ui label\",loading:\"loading\",menu:\"menu\",message:\"message\",multiple:\"multiple\",placeholder:\"default\",sizer:\"sizer\",search:\"search\",selected:\"selected\",selection:\"selection\",upward:\"upward\",visible:\"visible\"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},\"\");return i+='<i class=\"dropdown icon\"></i>',i+=t.placeholder?'<div class=\"default text\">'+n+\"</div>\":'<div class=\"text\"></div>',i+='<div class=\"menu\">',e.each(t.values,function(e,t){i+=t.disabled?'<div class=\"disabled item\" data-value=\"'+t.value+'\">'+t.name+\"</div>\":'<div class=\"item\" data-value=\"'+t.value+'\">'+t.name+\"</div>\"}),i+=\"</div>\"},menu:function(t,n){var i=t[n.values]||{},o=\"\";return e.each(i,function(e,t){var i=t[n.text]?'data-text=\"'+t[n.text]+'\"':\"\",a=t[n.disabled]?\"disabled \":\"\";o+='<div class=\"'+a+'item\" data-value=\"'+t[n.value]+'\"'+i+\">\",o+=t[n.name],o+=\"</div>\"}),o},label:function(e,t){return t+'<i class=\"delete icon\"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=void 0!==t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.modal=function(o){var a,r=e(this),s=e(t),l=e(n),c=e(\"body\"),u=r.selector||\"\",d=(new Date).getTime(),f=[],m=arguments[0],g=\"string\"==typeof m,p=[].slice.call(arguments,1),h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,v,b,y,x,C,w,S,k,T=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),A=T.selector,R=T.className,P=T.namespace,E=T.error,F=\".\"+P,O=\"module-\"+P,D=e(this),q=e(T.context),j=D.find(A.close),z=this,I=D.data(O),M=!1;k={initialize:function(){k.verbose(\"Initializing dimmer\",q),k.create.id(),k.create.dimmer(),k.refreshModals(),k.bind.events(),T.observeChanges&&k.observeChanges(),k.instantiate()},instantiate:function(){k.verbose(\"Storing instance of modal\"),I=k,D.data(O,I)},create:{dimmer:function(){var t={debug:T.debug,variation:!T.centered&&\"top aligned\",dimmerName:\"modals\"},n=e.extend(!0,t,T.dimmerSettings);e.fn.dimmer!==i?(k.debug(\"Creating dimmer\"),y=q.dimmer(n),T.detachable?(k.verbose(\"Modal is detachable, moving content into dimmer\"),y.dimmer(\"add content\",D)):k.set.undetached(),x=y.dimmer(\"get dimmer\")):k.error(E.dimmer)},id:function(){w=(Math.random().toString(16)+\"000000000\").substr(2,8),C=\".\"+w,k.verbose(\"Creating unique id for element\",w)}},destroy:function(){k.verbose(\"Destroying previous modal\"),D.removeData(O).off(F),s.off(C),x.off(C),j.off(F),q.dimmer(\"destroy\")},observeChanges:function(){\"MutationObserver\"in t&&((S=new MutationObserver(function(e){k.debug(\"DOM tree modified, refreshing\"),k.refresh()})).observe(z,{childList:!0,subtree:!0}),k.debug(\"Setting up mutation observer\",S))},refresh:function(){k.remove.scrolling(),k.cacheSizes(),k.set.screenHeight(),k.set.type()},refreshModals:function(){v=D.siblings(A.modal),r=v.add(D)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(k[n])?k[n]:k.toggle,i.length>0?(k.debug(\"Attaching modal events to element\",t,n),i.off(F).on(\"click\"+F,n)):k.error(E.notFound,t)},bind:{events:function(){k.verbose(\"Attaching events\"),D.on(\"click\"+F,A.close,k.event.close).on(\"click\"+F,A.approve,k.event.approve).on(\"click\"+F,A.deny,k.event.deny),s.on(\"resize\"+C,k.event.resize)}},get:{id:function(){return(Math.random().toString(16)+\"000000000\").substr(2,8)}},event:{approve:function(){M||!1===T.onApprove.call(z,e(this))?k.verbose(\"Approve callback returned false cancelling hide\"):(M=!0,k.hide(function(){M=!1}))},deny:function(){M||!1===T.onDeny.call(z,e(this))?k.verbose(\"Deny callback returned false cancelling hide\"):(M=!0,k.hide(function(){M=!1}))},close:function(){k.hide()},click:function(t){if(T.closable){var i=e(t.target).closest(A.modal).length>0,o=e.contains(n.documentElement,t.target);!i&&o&&k.is.active()&&(k.debug(\"Dimmer clicked, hiding all modals\"),k.remove.clickaway(),T.allowMultiple?k.hide():k.hideAll())}else k.verbose(\"Dimmer clicked but closable setting is disabled\")},debounce:function(e,t){clearTimeout(k.timer),k.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(T.closable?(k.debug(\"Escape key pressed hiding modal\"),k.hide()):k.debug(\"Escape key pressed, but closable is set to false\"),e.preventDefault())},resize:function(){y.dimmer(\"is active\")&&(k.is.animating()||k.is.active())&&h(k.refresh)}},toggle:function(){k.is.active()||k.is.animating()?k.hide():k.show()},show:function(t){t=e.isFunction(t)?t:function(){},k.refreshModals(),k.set.dimmerSettings(),k.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},k.refreshModals(),k.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},k.is.animating()||!k.is.active()?(k.showDimmer(),k.cacheSizes(),k.set.screenHeight(),k.set.type(),k.set.clickaway(),!T.allowMultiple&&k.others.active()?k.hideOthers(k.showModal):(T.allowMultiple&&T.detachable&&D.detach().appendTo(x),T.onShow.call(z),T.transition&&e.fn.transition!==i&&D.transition(\"is supported\")?(k.debug(\"Showing modal with css animations\"),D.transition({debug:T.debug,animation:T.transition+\" in\",queue:T.queue,duration:T.duration,useFailSafe:!0,onComplete:function(){T.onVisible.apply(z),T.keyboardShortcuts&&k.add.keyboardShortcuts(),k.save.focus(),k.set.active(),T.autofocus&&k.set.autofocus(),t()}})):k.error(E.noTransition))):k.debug(\"Modal is already visible\")},hideModal:function(t,n){t=e.isFunction(t)?t:function(){},k.debug(\"Hiding modal\"),!1!==T.onHide.call(z,e(this))?(k.is.animating()||k.is.active())&&(T.transition&&e.fn.transition!==i&&D.transition(\"is supported\")?(k.remove.active(),D.transition({debug:T.debug,animation:T.transition+\" out\",queue:T.queue,duration:T.duration,useFailSafe:!0,onStart:function(){k.others.active()||n||k.hideDimmer(),T.keyboardShortcuts&&k.remove.keyboardShortcuts()},onComplete:function(){T.onHidden.call(z),k.restore.focus(),t()}})):k.error(E.noTransition)):k.verbose(\"Hide callback returned false cancelling hide\")},showDimmer:function(){y.dimmer(\"is animating\")||!y.dimmer(\"is active\")?(k.debug(\"Showing dimmer\"),y.dimmer(\"show\")):k.debug(\"Dimmer already visible\")},hideDimmer:function(){y.dimmer(\"is animating\")||y.dimmer(\"is active\")?y.dimmer(\"hide\",function(){k.remove.clickaway(),k.remove.screenHeight()}):k.debug(\"Dimmer is not visible cannot hide\")},hideAll:function(t){var n=r.filter(\".\"+R.active+\", .\"+R.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(k.debug(\"Hiding all visible modals\"),k.hideDimmer(),n.modal(\"hide modal\",t))},hideOthers:function(t){var n=v.filter(\".\"+R.active+\", .\"+R.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(k.debug(\"Hiding other modals\",v),n.modal(\"hide modal\",t,!0))},others:{active:function(){return v.filter(\".\"+R.active).length>0},animating:function(){return v.filter(\".\"+R.animating).length>0}},add:{keyboardShortcuts:function(){k.verbose(\"Adding keyboard shortcuts\"),l.on(\"keyup\"+F,k.event.keyboard)}},save:{focus:function(){e(n.activeElement).closest(D).length>0||(b=e(n.activeElement).blur())}},restore:{focus:function(){b&&b.length>0&&b.focus()}},remove:{active:function(){D.removeClass(R.active)},clickaway:function(){x.off(\"click\"+C)},bodyStyle:function(){\"\"===c.attr(\"style\")&&(k.verbose(\"Removing style attribute\"),c.removeAttr(\"style\"))},screenHeight:function(){k.debug(\"Removing page height\"),c.css(\"height\",\"\")},keyboardShortcuts:function(){k.verbose(\"Removing keyboard shortcuts\"),l.off(\"keyup\"+F)},scrolling:function(){y.removeClass(R.scrolling),D.removeClass(R.scrolling)}},cacheSizes:function(){D.addClass(R.loading);var o=D.prop(\"scrollHeight\"),a=D.outerHeight();k.cache!==i&&0===a||(k.cache={pageHeight:e(n).outerHeight(),height:a+T.offset,scrollHeight:o+T.offset,contextHeight:\"body\"==T.context?e(t).height():y.height()},k.cache.topOffset=-k.cache.height/2),D.removeClass(R.loading),k.debug(\"Caching modal and container sizes\",k.cache)},can:{fit:function(){var e=k.cache.contextHeight,t=k.cache.contextHeight/2,n=k.cache.topOffset,i=k.cache.scrollHeight,o=k.cache.height,a=T.padding;return i>o?t+n+i+a<e:o+2*a<e}},is:{active:function(){return D.hasClass(R.active)},animating:function(){return D.transition(\"is supported\")?D.transition(\"is animating\"):D.is(\":visible\")},scrolling:function(){return y.hasClass(R.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||\"ActiveXObject\"in t)}},set:{autofocus:function(){var e=D.find(\"[tabindex], :input\").filter(\":visible\"),t=e.filter(\"[autofocus]\"),n=t.length>0?t.first():e.first();n.length>0&&n.focus()},clickaway:function(){x.on(\"click\"+C,k.event.click)},dimmerSettings:function(){if(e.fn.dimmer!==i){var t={debug:T.debug,dimmerName:\"modals\",closable:\"auto\",variation:!T.centered&&\"top aligned\",duration:{show:T.duration,hide:T.duration}},n=e.extend(!0,t,T.dimmerSettings);T.inverted?(n.variation=n.variation!==i?n.variation+\" inverted\":\"inverted\",x.addClass(R.inverted)):x.removeClass(R.inverted),T.blurring?y.addClass(R.blurring):y.removeClass(R.blurring),q.dimmer(\"setting\",n)}else k.error(E.dimmer)},screenHeight:function(){k.can.fit()?c.css(\"height\",\"\"):(k.debug(\"Modal is taller than page content, resizing page height\"),c.css(\"height\",k.cache.height+2*T.padding))},active:function(){D.addClass(R.active)},scrolling:function(){y.addClass(R.scrolling),D.addClass(R.scrolling)},type:function(){k.can.fit()?(k.verbose(\"Modal fits on screen\"),k.others.active()||k.others.animating()||k.remove.scrolling()):(k.verbose(\"Modal cannot fit on screen setting to scrolling\"),k.set.scrolling())},undetached:function(){y.addClass(R.undetached)}},setting:function(t,n){if(k.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];e.isPlainObject(T[t])?e.extend(!0,T[t],n):T[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},debug:function(){!T.silent&&T.debug&&(T.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,T.name+\":\"),k.debug.apply(console,arguments)))},verbose:function(){!T.silent&&T.verbose&&T.debug&&(T.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,T.name+\":\"),k.verbose.apply(console,arguments)))},error:function(){T.silent||(k.error=Function.prototype.bind.call(console.error,console,T.name+\":\"),k.error.apply(console,arguments))},performance:{log:function(e){var t,n;T.performance&&(n=(t=(new Date).getTime())-(d||t),d=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:z,\"Execution Time\":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var t=T.name+\":\",n=0;d=!1,clearTimeout(k.performance.timer),e.each(f,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",u&&(t+=\" '\"+u+\"'\"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),f=[]}},invoke:function(t,n,o){var r,s,l,c=I;return n=n||p,o=z||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},g?(I===i&&k.initialize(),k.invoke(m)):(I!==i&&I.invoke(\"destroy\"),k.initialize())}),a!==i?a:this},e.fn.modal.settings={name:\"Modal\",namespace:\"modal\",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:\"body\",queue:!1,duration:500,offset:0,transition:\"scale\",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:\"> .close\",approve:\".actions .positive, .actions .approve, .actions .ok\",deny:\".actions .negative, .actions .deny, .actions .cancel\",modal:\".ui.modal\"},error:{dimmer:\"UI Dimmer, a required component is not included in this page\",method:\"The method you called is not defined.\",notFound:\"The element you specified could not be found\"},className:{active:\"active\",animating:\"animating\",blurring:\"blurring\",inverted:\"inverted\",loading:\"loading\",scrolling:\"scrolling\",undetached:\"undetached\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.nag=function(n){var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),m=(f.className,f.selector),g=f.error,p=f.namespace,h=\".\"+p,v=p+\"-module\",b=e(this),y=(b.find(m.close),e(f.context?f.context:\"body\")),x=this,C=b.data(v);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};a={initialize:function(){a.verbose(\"Initializing element\"),b.on(\"click\"+h,m.close,a.dismiss).data(v,a),f.detachable&&b.parent()[0]!==y[0]&&b.detach().prependTo(y),f.displayTime>0&&setTimeout(a.hide,f.displayTime),a.show()},destroy:function(){a.verbose(\"Destroying instance\"),b.removeData(v).off(h)},show:function(){a.should.show()&&!b.is(\":visible\")&&(a.debug(\"Showing nag\",f.animation.show),\"fade\"==f.animation.show?b.fadeIn(f.duration,f.easing):b.slideDown(f.duration,f.easing))},hide:function(){a.debug(\"Showing nag\",f.animation.hide),\"fade\"==f.animation.show?b.fadeIn(f.duration,f.easing):b.slideUp(f.duration,f.easing)},onHide:function(){a.debug(\"Removing nag\",f.animation.hide),b.remove(),f.onHide&&f.onHide()},dismiss:function(e){f.storageMethod&&a.storage.set(f.key,f.value),a.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return f.persist?(a.debug(\"Persistent nag is set, can show nag\"),!0):a.storage.get(f.key)!=f.value.toString()?(a.debug(\"Stored value is not set, can show nag\",a.storage.get(f.key)),!0):(a.debug(\"Stored value is set, cannot show nag\",a.storage.get(f.key)),!1)}},get:{storageOptions:function(){var e={};return f.expires&&(e.expires=f.expires),f.domain&&(e.domain=f.domain),f.path&&(e.path=f.path),e}},clear:function(){a.storage.remove(f.key)},storage:{set:function(n,o){var r=a.get.storageOptions();if(\"localstorage\"==f.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,o),a.debug(\"Value stored using local storage\",n,o);else if(\"sessionstorage\"==f.storageMethod&&t.sessionStorage!==i)t.sessionStorage.setItem(n,o),a.debug(\"Value stored using session storage\",n,o);else{if(e.cookie===i)return void a.error(g.noCookieStorage);e.cookie(n,o,r),a.debug(\"Value stored using cookie\",n,o,r)}},get:function(n,o){var r;return\"localstorage\"==f.storageMethod&&t.localStorage!==i?r=t.localStorage.getItem(n):\"sessionstorage\"==f.storageMethod&&t.sessionStorage!==i?r=t.sessionStorage.getItem(n):e.cookie!==i?r=e.cookie(n):a.error(g.noCookieStorage),\"undefined\"!=r&&\"null\"!=r&&r!==i&&null!==r||(r=i),r},remove:function(n){var o=a.get.storageOptions();\"localstorage\"==f.storageMethod&&t.localStorage!==i?t.localStorage.removeItem(n):\"sessionstorage\"==f.storageMethod&&t.sessionStorage!==i?t.sessionStorage.removeItem(n):e.cookie!==i?e.removeCookie(n,o):a.error(g.noStorage)}},setting:function(t,n){if(a.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+\":\"),a.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+\":\"),a.verbose.apply(console,arguments)))},error:function(){f.silent||(a.error=Function.prototype.bind.call(console.error,console,f.name+\":\"),a.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:x,\"Execution Time\":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var t=f.name+\":\",n=0;s=!1,clearTimeout(a.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var s,l,c,u=C;return n=n||d,r=x||r,\"string\"==typeof t&&u!==i&&(t=t.split(/[\\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return l=u[r],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(l=u[o],!1):(a.error(g.method,t),!1);u=u[o]}})),e.isFunction(l)?c=l.apply(r,n):l!==i&&(c=l),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),l}},u?(C===i&&a.initialize(),a.invoke(c)):(C!==i&&C.invoke(\"destroy\"),a.initialize())}),o!==i?o:this},e.fn.nag.settings={name:\"Nag\",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:\"Nag\",persist:!1,displayTime:0,animation:{show:\"slide\",hide:\"slide\"},context:!1,detachable:!1,expires:30,domain:!1,path:\"/\",storageMethod:\"cookie\",key:\"nag\",value:\"dismiss\",error:{noCookieStorage:\"$.cookie is not included. A storage solution is required.\",noStorage:\"Neither $.cookie or store is defined. A storage solution is required for storing state\",method:\"The method you called is not defined.\"},className:{bottom:\"bottom\",fixed:\"fixed\"},selector:{close:\".close.icon\"},speed:500,easing:\"easeOutQuad\",onHide:function(){}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=void 0!==t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.popup=function(i){var o,a=e(this),r=e(n),s=e(t),l=e(\"body\"),c=a.selector||\"\",u=(new Date).getTime(),d=[],f=arguments[0],m=\"string\"==typeof f,g=[].slice.call(arguments,1);return a.each(function(){var a,v,p,h,b,y,x=e.isPlainObject(i)?e.extend(!0,{},e.fn.popup.settings,i):e.extend({},e.fn.popup.settings),C=x.selector,w=x.className,k=x.error,S=x.metadata,T=x.namespace,A=\".\"+x.namespace,R=\"module-\"+T,P=e(this),E=e(x.context),F=e(x.scrollContext),O=e(x.boundary),D=x.target?e(x.target):P,q=0,j=!1,z=!1,I=this,M=P.data(R);y={initialize:function(){y.debug(\"Initializing\",P),y.createID(),y.bind.events(),!y.exists()&&x.preserve&&y.create(),x.observeChanges&&y.observeChanges(),y.instantiate()},instantiate:function(){y.verbose(\"Storing instance\",y),M=y,P.data(R,M)},observeChanges:function(){\"MutationObserver\"in t&&(p=new MutationObserver(y.event.documentChanged),p.observe(n,{childList:!0,subtree:!0}),y.debug(\"Setting up mutation observer\",p))},refresh:function(){x.popup?a=e(x.popup).eq(0):x.inline&&(a=D.nextAll(C.popup).eq(0),x.popup=a),x.popup?(a.addClass(w.loading),v=y.get.offsetParent(),a.removeClass(w.loading),x.movePopup&&y.has.popup()&&y.get.offsetParent(a)[0]!==v[0]&&(y.debug(\"Moving popup to the same offset parent as target\"),a.detach().appendTo(v))):v=x.inline?y.get.offsetParent(D):y.has.popup()?y.get.offsetParent(a):l,v.is(\"html\")&&v[0]!==l[0]&&(y.debug(\"Setting page as offset parent\"),v=l),y.get.variation()&&y.set.variation()},reposition:function(){y.refresh(),y.set.position()},destroy:function(){y.debug(\"Destroying previous module\"),p&&p.disconnect(),a&&!x.preserve&&y.removePopup(),clearTimeout(y.hideTimer),clearTimeout(y.showTimer),y.unbind.close(),y.unbind.events(),P.removeData(R)},event:{start:function(t){var n=e.isPlainObject(x.delay)?x.delay.show:x.delay;clearTimeout(y.hideTimer),z||(y.showTimer=setTimeout(y.show,n))},end:function(){var t=e.isPlainObject(x.delay)?x.delay.hide:x.delay;clearTimeout(y.showTimer),y.hideTimer=setTimeout(y.hide,t)},touchstart:function(e){z=!0,y.show()},resize:function(){y.is.visible()&&y.set.position()},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==I||e(t).find(I).length>0)&&(y.debug(\"Element removed from DOM, tearing down events\"),y.destroy())})})},hideGracefully:function(t){var i=e(t.target),o=e.contains(n.documentElement,t.target),a=i.closest(C.popup).length>0;t&&!a&&o?(y.debug(\"Click occurred outside popup hiding popup\"),y.hide()):y.debug(\"Click was inside popup, keeping popup open\")}},create:function(){var t=y.get.html(),n=y.get.title(),i=y.get.content();t||i||n?(y.debug(\"Creating pop-up html\"),t||(t=x.templates.popup({title:n,content:i})),a=e(\"<div/>\").addClass(w.popup).data(S.activator,P).html(t),x.inline?(y.verbose(\"Inserting popup element inline\",a),a.insertAfter(P)):(y.verbose(\"Appending popup element to body\",a),a.appendTo(E)),y.refresh(),y.set.variation(),x.hoverable&&y.bind.popup(),x.onCreate.call(a,I)):0!==D.next(C.popup).length?(y.verbose(\"Pre-existing popup found\"),x.inline=!0,x.popup=D.next(C.popup).data(S.activator,P),y.refresh(),x.hoverable&&y.bind.popup()):x.popup?(e(x.popup).data(S.activator,P),y.verbose(\"Used popup specified in settings\"),y.refresh(),x.hoverable&&y.bind.popup()):y.debug(\"No content specified skipping display\",I)},createID:function(){b=(Math.random().toString(16)+\"000000000\").substr(2,8),h=\".\"+b,y.verbose(\"Creating unique id for element\",b)},toggle:function(){y.debug(\"Toggling pop-up\"),y.is.hidden()?(y.debug(\"Popup is hidden, showing pop-up\"),y.unbind.close(),y.show()):(y.debug(\"Popup is visible, hiding pop-up\"),y.hide())},show:function(e){if(e=e||function(){},y.debug(\"Showing pop-up\",x.transition),y.is.hidden()&&(!y.is.active()||!y.is.dropdown())){if(y.exists()||y.create(),!1===x.onShow.call(a,I))return void y.debug(\"onShow callback returned false, cancelling popup animation\");x.preserve||x.popup||y.refresh(),a&&y.set.position()&&(y.save.conditions(),x.exclusive&&y.hideAll(),y.animate.show(e))}},hide:function(e){if(e=e||function(){},y.is.visible()||y.is.animating()){if(!1===x.onHide.call(a,I))return void y.debug(\"onHide callback returned false, cancelling popup animation\");y.remove.visible(),y.unbind.close(),y.restore.conditions(),y.animate.hide(e)}},hideAll:function(){e(C.popup).filter(\".\"+w.popupVisible).each(function(){e(this).data(S.activator).popup(\"hide\")})},exists:function(){return!!a&&(x.inline||x.popup?y.has.popup():a.closest(E).length>=1)},removePopup:function(){y.has.popup()&&!x.popup&&(y.debug(\"Removing popup\",a),a.remove(),a=void 0,x.onRemove.call(a,I))},save:{conditions:function(){y.cache={title:P.attr(\"title\")},y.cache.title&&P.removeAttr(\"title\"),y.verbose(\"Saving original attributes\",y.cache.title)}},restore:{conditions:function(){return y.cache&&y.cache.title&&(P.attr(\"title\",y.cache.title),y.verbose(\"Restoring original attributes\",y.cache.title)),!0}},supports:{svg:function(){return\"undefined\"==typeof SVGGraphicsElement}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},x.transition&&void 0!==e.fn.transition&&P.transition(\"is supported\")?(y.set.visible(),a.transition({animation:x.transition+\" in\",queue:!1,debug:x.debug,verbose:x.verbose,duration:x.duration,onComplete:function(){y.bind.close(),t.call(a,I),x.onVisible.call(a,I)}})):y.error(k.noTransition)},hide:function(t){if(t=e.isFunction(t)?t:function(){},y.debug(\"Hiding pop-up\"),!1===x.onHide.call(a,I))return void y.debug(\"onHide callback returned false, cancelling popup animation\");x.transition&&void 0!==e.fn.transition&&P.transition(\"is supported\")?a.transition({animation:x.transition+\" out\",queue:!1,duration:x.duration,debug:x.debug,verbose:x.verbose,onComplete:function(){y.reset(),t.call(a,I),x.onHidden.call(a,I)}}):y.error(k.noTransition)}},change:{content:function(e){a.html(e)}},get:{html:function(){return P.removeData(S.html),P.data(S.html)||x.html},title:function(){return P.removeData(S.title),P.data(S.title)||x.title},content:function(){return P.removeData(S.content),P.data(S.content)||P.attr(\"title\")||x.content},variation:function(){return P.removeData(S.variation),P.data(S.variation)||x.variation},popup:function(){return a},popupOffset:function(){return a.offset()},calculations:function(){var e,n=D[0],i=O[0]==t,o=x.inline||x.popup&&x.movePopup?D.position():D.offset(),r=i?{top:0,left:0}:O.offset(),l={},c=i?{top:s.scrollTop(),left:s.scrollLeft()}:{top:0,left:0};return l={target:{element:D[0],width:D.outerWidth(),height:D.outerHeight(),top:o.top,left:o.left,margin:{}},popup:{width:a.outerWidth(),height:a.outerHeight()},parent:{width:v.outerWidth(),height:v.outerHeight()},screen:{top:r.top,left:r.left,scroll:{top:c.top,left:c.left},width:O.width(),height:O.height()}},x.setFluidWidth&&y.is.fluid()&&(l.container={width:a.parent().outerWidth()},l.popup.width=l.container.width),l.target.margin.top=x.inline?parseInt(t.getComputedStyle(n).getPropertyValue(\"margin-top\"),10):0,l.target.margin.left=x.inline?y.is.rtl()?parseInt(t.getComputedStyle(n).getPropertyValue(\"margin-right\"),10):parseInt(t.getComputedStyle(n).getPropertyValue(\"margin-left\"),10):0,e=l.screen,l.boundary={top:e.top+e.scroll.top,bottom:e.top+e.scroll.top+e.height,left:e.left+e.scroll.left,right:e.left+e.scroll.left+e.width},l},id:function(){return b},startEvent:function(){return\"hover\"==x.on?\"mouseenter\":\"focus\"==x.on&&\"focus\"},scrollEvent:function(){return\"scroll\"},endEvent:function(){return\"hover\"==x.on?\"mouseleave\":\"focus\"==x.on&&\"blur\"},distanceFromBoundary:function(e,t){var n,i,o={};return t=t||y.get.calculations(),n=t.popup,i=t.boundary,e&&(o={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},y.verbose(\"Distance from boundaries determined\",e,o)),o},offsetParent:function(t){var n=void 0!==t?t[0]:P[0],i=n.parentNode,o=e(i);if(i)for(var a=\"none\"===o.css(\"transform\"),r=\"static\"===o.css(\"position\"),s=o.is(\"html\");i&&!s&&r&&a;)i=i.parentNode,o=e(i),a=\"none\"===o.css(\"transform\"),r=\"static\"===o.css(\"position\"),s=o.is(\"html\");return o&&o.length>0?o:e()},positions:function(){return{\"top left\":!1,\"top center\":!1,\"top right\":!1,\"bottom left\":!1,\"bottom center\":!1,\"bottom right\":!1,\"left center\":!1,\"right center\":!1}},nextPosition:function(e){var t=e.split(\" \"),n=t[0],i=t[1],o={top:\"bottom\",bottom:\"top\",left:\"right\",right:\"left\"},a={left:\"center\",center:\"right\",right:\"left\"},r={\"top left\":\"top center\",\"top center\":\"top right\",\"top right\":\"right center\",\"right center\":\"bottom right\",\"bottom right\":\"bottom center\",\"bottom center\":\"bottom left\",\"bottom left\":\"left center\",\"left center\":\"top left\"},s=\"top\"==n||\"bottom\"==n,l=!1,c=!1,u=!1;return j||(y.verbose(\"All available positions available\"),j=y.get.positions()),y.debug(\"Recording last position tried\",e),j[e]=!0,\"opposite\"===x.prefer&&(u=[o[n],i],u=u.join(\" \"),l=!0===j[u],y.debug(\"Trying opposite strategy\",u)),\"adjacent\"===x.prefer&&s&&(u=[n,a[i]],u=u.join(\" \"),c=!0===j[u],y.debug(\"Trying adjacent strategy\",u)),(c||l)&&(y.debug(\"Using backup position\",u),u=r[e]),u}},set:{position:function(e,t){if(0===D.length||0===a.length)return void y.error(k.notFound);var n,i,o,r,s,l,c,u;if(t=t||y.get.calculations(),e=e||P.data(S.position)||x.position,n=P.data(S.offset)||x.offset,i=x.distanceAway,o=t.target,r=t.popup,s=t.parent,0===o.width&&0===o.height&&!y.is.svg(o.element))return y.debug(\"Popup target is hidden, no action taken\"),!1;switch(x.inline&&(y.debug(\"Adding margin to calculation\",o.margin),\"left center\"==e||\"right center\"==e?(n+=o.margin.top,i+=-o.margin.left):\"top left\"==e||\"top center\"==e||\"top right\"==e?(n+=o.margin.left,i-=o.margin.top):(n+=o.margin.left,i+=o.margin.top)),y.debug(\"Determining popup position from calculations\",e,t),y.is.rtl()&&(e=e.replace(/left|right/g,function(e){return\"left\"==e?\"right\":\"left\"}),y.debug(\"RTL: Popup position updated\",e)),q==x.maxSearchDepth&&\"string\"==typeof x.lastResort&&(e=x.lastResort),e){case\"top left\":l={top:\"auto\",bottom:s.height-o.top+i,left:o.left+n,right:\"auto\"};break;case\"top center\":l={bottom:s.height-o.top+i,left:o.left+o.width/2-r.width/2+n,top:\"auto\",right:\"auto\"};break;case\"top right\":l={bottom:s.height-o.top+i,right:s.width-o.left-o.width-n,top:\"auto\",left:\"auto\"};break;case\"left center\":l={top:o.top+o.height/2-r.height/2+n,right:s.width-o.left+i,left:\"auto\",bottom:\"auto\"};break;case\"right center\":l={top:o.top+o.height/2-r.height/2+n,left:o.left+o.width+i,bottom:\"auto\",right:\"auto\"};break;case\"bottom left\":l={top:o.top+o.height+i,left:o.left+n,bottom:\"auto\",right:\"auto\"};break;case\"bottom center\":l={top:o.top+o.height+i,left:o.left+o.width/2-r.width/2+n,bottom:\"auto\",right:\"auto\"};break;case\"bottom right\":l={top:o.top+o.height+i,right:s.width-o.left-o.width-n,left:\"auto\",bottom:\"auto\"}}if(void 0===l&&y.error(k.invalidPosition,e),y.debug(\"Calculated popup positioning values\",l),a.css(l).removeClass(w.position).addClass(e).addClass(w.loading),c=y.get.popupOffset(),u=y.get.distanceFromBoundary(c,t),y.is.offstage(u,e)){if(y.debug(\"Position is outside viewport\",e),q<x.maxSearchDepth)return q++,e=y.get.nextPosition(e),y.debug(\"Trying new position\",e),!!a&&y.set.position(e,t);if(!x.lastResort)return y.debug(\"Popup could not find a position to display\",a),y.error(k.cannotPlace,I),y.remove.attempts(),y.remove.loading(),y.reset(),x.onUnplaceable.call(a,I),!1;y.debug(\"No position found, showing with last position\")}return y.debug(\"Position is on stage\",e),y.remove.attempts(),y.remove.loading(),x.setFluidWidth&&y.is.fluid()&&y.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||y.get.calculations(),y.debug(\"Automatically setting element width to parent width\",e.parent.width),a.css(\"width\",e.container.width)},variation:function(e){(e=e||y.get.variation())&&y.has.popup()&&(y.verbose(\"Adding variation to popup\",e),a.addClass(e))},visible:function(){P.addClass(w.visible)}},remove:{loading:function(){a.removeClass(w.loading)},variation:function(e){(e=e||y.get.variation())&&(y.verbose(\"Removing variation\",e),a.removeClass(e))},visible:function(){P.removeClass(w.visible)},attempts:function(){y.verbose(\"Resetting all searched positions\"),q=0,j=!1}},bind:{events:function(){y.debug(\"Binding popup events to module\"),\"click\"==x.on&&P.on(\"click\"+A,y.toggle),\"hover\"==x.on&&P.on(\"touchstart\"+A,y.event.touchstart),y.get.startEvent()&&P.on(y.get.startEvent()+A,y.event.start).on(y.get.endEvent()+A,y.event.end),x.target&&y.debug(\"Target set to element\",D),s.on(\"resize\"+h,y.event.resize)},popup:function(){y.verbose(\"Allowing hover events on popup to prevent closing\"),a&&y.has.popup()&&a.on(\"mouseenter\"+A,y.event.start).on(\"mouseleave\"+A,y.event.end)},close:function(){(!0===x.hideOnScroll||\"auto\"==x.hideOnScroll&&\"click\"!=x.on)&&y.bind.closeOnScroll(),\"hover\"==x.on&&z&&y.bind.touchClose(),\"click\"==x.on&&x.closable&&y.bind.clickaway()},closeOnScroll:function(){y.verbose(\"Binding scroll close event to document\"),F.one(y.get.scrollEvent()+h,y.event.hideGracefully)},touchClose:function(){y.verbose(\"Binding popup touchclose event to document\"),r.on(\"touchstart\"+h,function(e){y.verbose(\"Touched away from popup\"),y.event.hideGracefully.call(I,e)})},clickaway:function(){y.verbose(\"Binding popup close event to document\"),r.on(\"click\"+h,function(e){y.verbose(\"Clicked away from popup\"),y.event.hideGracefully.call(I,e)})}},unbind:{events:function(){s.off(h),P.off(A)},close:function(){r.off(h),F.off(h)}},has:{popup:function(){return a&&a.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-x.jitter&&(y.debug(\"Position exceeds allowable distance from edge\",e,t,n),i.push(e))}),i.length>0},svg:function(e){return y.supports.svg()&&e instanceof SVGGraphicsElement},active:function(){return P.hasClass(w.active)},animating:function(){return void 0!==a&&a.hasClass(w.animating)},fluid:function(){return void 0!==a&&a.hasClass(w.fluid)},visible:function(){return void 0!==a&&a.hasClass(w.popupVisible)},dropdown:function(){return P.hasClass(w.dropdown)},hidden:function(){return!y.is.visible()},rtl:function(){return\"rtl\"==P.css(\"direction\")}},reset:function(){y.remove.visible(),x.preserve?void 0!==e.fn.transition&&a.transition(\"remove transition\"):y.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===n)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===n)return y[t];y[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,x.name+\":\"),y.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,x.name+\":\"),y.verbose.apply(console,arguments)))},error:function(){x.silent||(y.error=Function.prototype.bind.call(console.error,console,x.name+\":\"),y.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:I,\"Execution Time\":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=x.name+\":\",n=0;u=!1,clearTimeout(y.performance.timer),e.each(d,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",c&&(t+=\" '\"+c+\"'\"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var a,r,s,l=M;return n=n||g,i=I||i,\"string\"==typeof t&&void 0!==l&&(t=t.split(/[\\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return r=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]&&(r=l[i],!1);l=l[i]}})),e.isFunction(r)?s=r.apply(i,n):void 0!==r&&(s=r),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),r}},m?(void 0===M&&y.initialize(),y.invoke(f)):(void 0!==M&&M.invoke(\"destroy\"),y.initialize())}),void 0!==o?o:this},e.fn.popup.settings={name:\"Popup\",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:\"popup\",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:\"hover\",boundary:t,addTouchEvents:!0,position:\"top left\",variation:\"\",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:\"auto\",exclusive:!1,context:\"body\",scrollContext:t,prefer:\"opposite\",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:\"scale\",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:\"The position you specified is not a valid position\",cannotPlace:\"Popup does not fit within the boundaries of the viewport\",method:\"The method you called is not defined.\",noTransition:\"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>\",notFound:\"The target or popup you specified does not exist on the page\"},metadata:{activator:\"activator\",content:\"content\",html:\"html\",offset:\"offset\",position:\"position\",title:\"title\",variation:\"variation\"},className:{active:\"active\",animating:\"animating\",dropdown:\"dropdown\",fluid:\"fluid\",loading:\"loading\",popup:\"ui popup\",position:\"top left center bottom right\",visible:\"visible\",popupVisible:\"visible\"},selector:{popup:\".ui.popup\"},templates:{escape:function(e){var t=/[&<>\"'`]/g,n=/[&<>\"'`]/,i={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},popup:function(t){var n=\"\",i=e.fn.popup.settings.templates.escape;return void 0!==typeof t&&(void 0!==typeof t.title&&t.title&&(t.title=i(t.title),n+='<div class=\"header\">'+t.title+\"</div>\"),void 0!==typeof t.content&&t.content&&(t.content=i(t.content),n+='<div class=\"content\">'+t.content+\"</div>\")),n}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.progress=function(t){var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),c=[],l=arguments[0],u=\"string\"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,m,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),g=f.className,p=f.metadata,v=f.namespace,h=f.selector,b=f.error,y=\".\"+v,x=\"module-\"+v,w=e(this),C=e(this).find(h.bar),T=e(this).find(h.progress),k=e(this).find(h.label),S=this,A=w.data(x),P=!1;m={initialize:function(){m.debug(\"Initializing progress bar\",f),a=m.get.transitionEnd(),m.read.metadata(),m.set.duration(),m.set.initials(),m.instantiate()},instantiate:function(){m.verbose(\"Storing instance of progress\",m),A=m,w.data(x,m)},destroy:function(){m.verbose(\"Destroying previous progress for\",w),clearInterval(A.interval),m.remove.state(),w.removeData(x),A=i},reset:function(){m.set.percent(0)},complete:function(){(m.percent===i||m.percent<100)&&m.set.percent(100)},read:{metadata:function(){w.data(p.percent)&&(m.verbose(\"Current percent value set from metadata\"),m.percent=w.data(p.percent)),w.data(p.total)&&(m.verbose(\"Total value set from metadata\"),m.total=w.data(p.total)),w.data(p.value)&&(m.verbose(\"Current value set from metadata\"),m.value=w.data(p.value))},currentValue:function(){return m.value!==i?m.value:!1}},increment:function(e){var t,n,i,o=m.total||!1;o?(n=m.value||0,e=e||1,i=n+e,t=m.total,m.debug(\"Incrementing value by\",e,n,t),i>t&&(m.debug(\"Value cannot increment above total\",t),i=t),m.set.progress(i)):(n=m.percent||0,e=e||m.get.randomValue(),i=n+e,t=100,m.debug(\"Incrementing percentage by\",e,n),i>t&&(m.debug(\"Value cannot increment above 100 percent\"),i=t),m.set.progress(i))},decrement:function(e){var t,n,i=m.total||!1,o=0;i?(t=m.value||0,e=e||1,n=t-e,m.debug(\"Decrementing value by\",e,t)):(t=m.percent||0,e=e||m.get.randomValue(),n=t-e,m.debug(\"Decrementing percentage by\",e,t)),o>n&&(m.debug(\"Value cannot decrement below 0\"),n=0),m.set.progress(n)},get:{text:function(e){var t=m.value||0,n=m.total||0,i=m.is.visible()&&P?m.get.displayPercent():m.percent||0,o=m.total>0?n-t:100-i;return e=e||\"\",e=e.replace(\"{value}\",t).replace(\"{total}\",n).replace(\"{left}\",o).replace(\"{percent}\",i),m.debug(\"Adding variables to progress bar text\",e),e},randomValue:function(){return m.debug(\"Generating random increment percentage\"),Math.floor(Math.random()*f.random.max+f.random.min)},transitionEnd:function(){var e,t=n.createElement(\"element\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in o)if(t.style[e]!==i)return o[e]},displayPercent:function(){var e=C.width(),t=w.width(),n=parseInt(C.css(\"min-width\"),10),i=e>n?e/t*100:m.percent;return 0===f.precision?Math.round(i):Math.round(10*i*f.precision)/(10*f.precision)},percent:function(){return m.percent||0},value:function(){return m.value||!1},total:function(){return m.total||!1}},is:{success:function(){return w.hasClass(g.success)},warning:function(){return w.hasClass(g.warning)},error:function(){return w.hasClass(g.error)},active:function(){return w.hasClass(g.active)},visible:function(){return w.is(\":visible\")}},remove:{state:function(){m.verbose(\"Removing stored state\"),delete m.total,delete m.percent,delete m.value},active:function(){m.verbose(\"Removing active state\"),w.removeClass(g.active)},success:function(){m.verbose(\"Removing success state\"),w.removeClass(g.success)},warning:function(){m.verbose(\"Removing warning state\"),w.removeClass(g.warning)},error:function(){m.verbose(\"Removing error state\"),w.removeClass(g.error)}},set:{barWidth:function(e){e>100?m.error(b.tooHigh,e):0>e?m.error(b.tooLow,e):(C.css(\"width\",e+\"%\"),w.attr(\"data-percent\",parseInt(e,10)))},duration:function(e){e=e||f.duration,e=\"number\"==typeof e?e+\"ms\":e,m.verbose(\"Setting progress bar transition duration\",e),C.css({\"-webkit-transition-duration\":e,\"-moz-transition-duration\":e,\"-ms-transition-duration\":e,\"-o-transition-duration\":e,\"transition-duration\":e})},initials:function(){f.total!==!1&&(m.verbose(\"Current total set in settings\",f.total),m.total=f.total),f.value!==!1&&(m.verbose(\"Current value set in settings\",f.value),m.value=f.value),f.percent!==!1&&(m.verbose(\"Current percent set in settings\",f.percent),m.percent=f.percent),m.percent!==i?m.set.percent(m.percent):m.value!==i&&m.set.progress(m.value)},percent:function(e){e=\"string\"==typeof e?+e.replace(\"%\",\"\"):e,e>0&&1>e&&(m.verbose(\"Module percentage passed as decimal, converting\"),e=100*e),e=0===f.precision?Math.round(e):Math.round(10*e*f.precision)/(10*f.precision),m.percent=e,m.total?m.value=Math.round(e/100*m.total*10*f.precision)/(10*f.precision):f.limitValues&&(m.value=m.value>100?100:m.value<0?0:m.value),\nm.set.barWidth(e),m.is.visible()&&m.set.labelInterval(),m.set.labels(),f.onChange.call(S,e,m.value,m.total)},labelInterval:function(){var e=function(){m.verbose(\"Bar finished animating, removing continuous label updates\"),clearInterval(m.interval),P=!1,m.set.labels()};clearInterval(m.interval),C.one(a+y,e),m.timer=setTimeout(e,f.duration+100),P=!0,m.interval=setInterval(m.set.labels,f.framerate)},labels:function(){m.verbose(\"Setting both bar progress and outer label text\"),m.set.barLabel(),m.set.state()},label:function(e){e=e||\"\",e&&(e=m.get.text(e),m.debug(\"Setting label to text\",e),k.text(e))},state:function(e){e=e!==i?e:m.percent,100===e?!f.autoSuccess||m.is.warning()||m.is.error()?(m.verbose(\"Reached 100% removing active state\"),m.remove.active()):(m.set.success(),m.debug(\"Automatically triggering success at 100%\")):e>0?(m.verbose(\"Adjusting active progress bar label\",e),m.set.active()):(m.remove.active(),m.set.label(f.text.active))},barLabel:function(e){e!==i?T.text(m.get.text(e)):\"ratio\"==f.label&&m.total?(m.debug(\"Adding ratio to bar label\"),T.text(m.get.text(f.text.ratio))):\"percent\"==f.label&&(m.debug(\"Adding percentage to bar label\"),T.text(m.get.text(f.text.percent)))},active:function(e){e=e||f.text.active,m.debug(\"Setting active state\"),f.showActivity&&!m.is.active()&&w.addClass(g.active),m.remove.warning(),m.remove.error(),m.remove.success(),e&&m.set.label(e),f.onActive.call(S,m.value,m.total)},success:function(e){e=e||f.text.success,m.debug(\"Setting success state\"),w.addClass(g.success),m.remove.active(),m.remove.warning(),m.remove.error(),m.complete(),e&&m.set.label(e),f.onSuccess.call(S,m.total)},warning:function(e){e=e||f.text.warning,m.debug(\"Setting warning state\"),w.addClass(g.warning),m.remove.active(),m.remove.success(),m.remove.error(),m.complete(),e&&m.set.label(e),f.onWarning.call(S,m.value,m.total)},error:function(e){e=e||f.text.error,m.debug(\"Setting error state\"),w.addClass(g.error),m.remove.active(),m.remove.success(),m.remove.warning(),m.complete(),e&&m.set.label(e),f.onError.call(S,m.value,m.total)},total:function(e){m.total=e},progress:function(e){var t,n=\"string\"==typeof e?\"\"!==e.replace(/[^\\d.]/g,\"\")?+e.replace(/[^\\d.]/g,\"\"):!1:e;n===!1&&m.error(b.nonNumeric,e),m.total?(m.value=n,t=n/m.total*100,m.debug(\"Calculating percent complete from total\",t),m.set.percent(t)):(t=n,m.debug(\"Setting value to exact percentage value\",t),m.set.percent(t))}},setting:function(t,n){if(m.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){f.debug&&(f.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,f.name+\":\"),m.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,f.name+\":\"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,f.name+\":\"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:S,\"Execution Time\":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,100)},display:function(){var t=f.name+\":\",n=0;s=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=A;return n=n||d,a=S||a,\"string\"==typeof t&&l!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(m.error(b.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},u?(A===i&&m.initialize(),m.invoke(l)):(A!==i&&A.invoke(\"destroy\"),m.initialize())}),o!==i?o:this},e.fn.progress.settings={name:\"Progress\",namespace:\"progress\",debug:!1,verbose:!0,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:\"percent\",precision:1,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:\"The method you called is not defined.\",nonNumeric:\"Progress value is non numeric\",tooHigh:\"Value specified is above 100%\",tooLow:\"Value specified is below 0%\"},regExp:{variable:/\\{\\$*[A-z0-9]+\\}/g},metadata:{percent:\"percent\",total:\"total\",value:\"value\"},selector:{bar:\"> .bar\",label:\"> .label\",progress:\".bar > .progress\"},text:{active:!1,error:!1,success:!1,warning:!1,percent:\"{percent}%\",ratio:\"{value} of {total}\"},className:{active:\"active\",error:\"error\",success:\"success\",warning:\"warning\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.rating=function(t){var n,o=e(this),a=o.selector||\"\",r=(new Date).getTime(),s=[],c=arguments[0],l=\"string\"==typeof c,u=[].slice.call(arguments,1);return o.each(function(){var d,m=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),f=m.namespace,g=m.className,p=m.metadata,v=m.selector,h=(m.error,\".\"+f),b=\"module-\"+f,y=this,x=e(this).data(b),w=e(this),C=w.find(v.icon);d={initialize:function(){d.verbose(\"Initializing rating module\",m),0===C.length&&d.setup.layout(),m.interactive?d.enable():d.disable(),m.initialRating&&(d.debug(\"Setting initial rating\"),d.setRating(m.initialRating)),w.data(p.rating)&&(d.debug(\"Rating found in metadata\"),d.setRating(w.data(p.rating))),d.instantiate()},instantiate:function(){d.verbose(\"Instantiating module\",m),x=d,w.data(b,d)},destroy:function(){d.verbose(\"Destroying previous instance\",x),w.removeData(b),C.off(h)},refresh:function(){C=w.find(v.icon)},setup:{layout:function(){var t=w.data(p.maxRating)||m.maxRating;d.debug(\"Generating icon html dynamically\"),w.html(e.fn.rating.settings.templates.icon(t)),d.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(g.selected),w.addClass(g.selected),t.addClass(g.selected).prevAll().addClass(g.selected)},mouseleave:function(){w.removeClass(g.selected),C.removeClass(g.selected)},click:function(){var t=e(this),n=d.getRating(),i=C.index(t)+1,o=\"auto\"==m.clearable?1===C.length:m.clearable;o&&n==i?d.clearRating():d.setRating(i)}},clearRating:function(){d.debug(\"Clearing current rating\"),d.setRating(0)},getRating:function(){var e=C.filter(\".\"+g.active).length;return d.verbose(\"Current rating retrieved\",e),e},enable:function(){d.debug(\"Setting rating to interactive mode\"),C.on(\"mouseenter\"+h,d.event.mouseenter).on(\"mouseleave\"+h,d.event.mouseleave).on(\"click\"+h,d.event.click),w.removeClass(g.disabled)},disable:function(){d.debug(\"Setting rating to read-only mode\"),C.off(h),w.addClass(g.disabled)},setRating:function(e){var t=e-1>=0?e-1:0,n=C.eq(t);w.removeClass(g.selected),C.removeClass(g.selected).removeClass(g.active),e>0&&(d.verbose(\"Setting current rating to\",e),n.prevAll().addBack().addClass(g.active)),m.onRate.call(y,e)},setting:function(t,n){if(d.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},debug:function(){m.debug&&(m.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,m.name+\":\"),d.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,m.name+\":\"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,m.name+\":\"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:y,\"Execution Time\":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=m.name+\":\",n=0;r=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",a&&(t+=\" '\"+a+\"'\"),o.length>1&&(t+=\" (\"+o.length+\")\"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),s=[]}},invoke:function(t,o,a){var r,s,c,l=x;return o=o||u,a=y||a,\"string\"==typeof t&&l!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):!1;l=l[o]}})),e.isFunction(s)?c=s.apply(a,o):s!==i&&(c=s),e.isArray(n)?n.push(c):n!==i?n=[n,c]:c!==i&&(n=c),s}},l?(x===i&&d.initialize(),d.invoke(c)):(x!==i&&x.invoke(\"destroy\"),d.initialize())}),n!==i?n:this},e.fn.rating.settings={name:\"Rating\",namespace:\"rating\",debug:!1,verbose:!0,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:\"auto\",onRate:function(e){},error:{method:\"The method you called is not defined\",noMaximum:\"No maximum rating specified. Cannot generate HTML automatically\"},metadata:{rating:\"rating\",maxRating:\"maxRating\"},className:{active:\"active\",disabled:\"disabled\",selected:\"selected\",loading:\"loading\"},selector:{icon:\".icon\"},templates:{icon:function(e){for(var t=1,n=\"\";e>=t;)n+='<i class=\"icon\"></i>',t++;return n}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=\"undefined\"!=typeof t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.search=function(o){var a,r=e(this),s=r.selector||\"\",l=(new Date).getTime(),c=[],u=arguments[0],d=\"string\"==typeof u,f=[].slice.call(arguments,1);return e(this).each(function(){var m,g=e.isPlainObject(o)?e.extend(!0,{},e.fn.search.settings,o):e.extend({},e.fn.search.settings),p=g.className,h=g.metadata,v=g.regExp,b=g.fields,y=g.selector,x=g.error,C=g.namespace,w=\".\"+C,k=C+\"-module\",S=e(this),T=S.find(y.prompt),A=S.find(y.searchButton),R=S.find(y.results),P=S.find(y.result),E=S.find(y.category),F=this,O=S.data(k),D=!1,q=!1;m={initialize:function(){m.verbose(\"Initializing module\"),m.determine.searchFields(),m.bind.events(),m.set.type(),m.create.results(),m.instantiate()},instantiate:function(){m.verbose(\"Storing instance of module\",m),O=m,S.data(k,m)},destroy:function(){m.verbose(\"Destroying instance\"),S.off(w).removeData(k)},refresh:function(){m.debug(\"Refreshing selector cache\"),T=S.find(y.prompt),A=S.find(y.searchButton),E=S.find(y.category),R=S.find(y.results),P=S.find(y.result)},refreshResults:function(){R=S.find(y.results),P=S.find(y.result)},bind:{events:function(){m.verbose(\"Binding events to search\"),g.automatic&&(S.on(m.get.inputEvent()+w,y.prompt,m.event.input),T.attr(\"autocomplete\",\"off\")),S.on(\"focus\"+w,y.prompt,m.event.focus).on(\"blur\"+w,y.prompt,m.event.blur).on(\"keydown\"+w,y.prompt,m.handleKeyboard).on(\"click\"+w,y.searchButton,m.query).on(\"mousedown\"+w,y.results,m.event.result.mousedown).on(\"mouseup\"+w,y.results,m.event.result.mouseup).on(\"click\"+w,y.result,m.event.result.click)}},determine:{searchFields:function(){o&&o.searchFields!==i&&(g.searchFields=o.searchFields)}},event:{input:function(){clearTimeout(m.timer),m.timer=setTimeout(m.query,g.searchDelay)},focus:function(){m.set.focus(),g.searchOnFocus&&m.has.minimumCharacters()&&m.query(function(){m.can.show()&&m.showResults()})},blur:function(e){var t=n.activeElement===this,i=function(){m.cancel.query(),m.remove.focus(),m.timer=setTimeout(m.hideResults,g.hideDelay)};t||(q=!1,m.resultsClicked?(m.debug(\"Determining if user action caused search to close\"),S.one(\"click.close\"+w,y.results,function(e){return m.is.inMessage(e)||D?void T.focus():(D=!1,void(m.is.animating()||m.is.hidden()||i()))})):(m.debug(\"Input blurred without user action, closing results\"),i()))},result:{mousedown:function(){m.resultsClicked=!0},mouseup:function(){m.resultsClicked=!1},click:function(n){m.debug(\"Search result selected\");var i=e(this),o=i.find(y.title).eq(0),a=i.is(\"a[href]\")?i:i.find(\"a[href]\").eq(0),r=a.attr(\"href\")||!1,s=a.attr(\"target\")||!1,l=(o.html(),o.length>0&&o.text()),c=m.get.results(),u=i.data(h.result)||m.get.result(l,c);return e.isFunction(g.onSelect)&&g.onSelect.call(F,u,c)===!1?(m.debug(\"Custom onSelect callback cancelled default select action\"),void(D=!0)):(m.hideResults(),l&&m.set.value(l),void(r&&(m.verbose(\"Opening search link found in result\",a),\"_blank\"==s||n.ctrlKey?t.open(r):t.location.href=r)))}}},handleKeyboard:function(e){var t,n=S.find(y.result),i=S.find(y.category),o=n.filter(\".\"+p.active),a=n.index(o),r=n.length,s=o.length>0,l=e.which,c={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(l==c.escape&&(m.verbose(\"Escape key pressed, blurring search field\"),m.hideResults(),q=!0),m.is.visible())if(l==c.enter){if(m.verbose(\"Enter key pressed, selecting active result\"),n.filter(\".\"+p.active).length>0)return m.event.result.click.call(n.filter(\".\"+p.active),e),e.preventDefault(),!1}else l==c.upArrow&&s?(m.verbose(\"Up key pressed, changing active result\"),t=a-1<0?a:a-1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault()):l==c.downArrow&&(m.verbose(\"Down key pressed, changing active result\"),t=a+1>=r?a:a+1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault());else l==c.enter&&(m.verbose(\"Enter key pressed, executing query\"),m.query(),m.set.buttonPressed(),T.one(\"keyup\",m.remove.buttonFocus))},setup:{api:function(t,n){var i={debug:g.debug,on:!1,cache:!0,action:\"search\",urlData:{query:t},onSuccess:function(e){m.parse.response.call(F,e,t),n()},onFailure:function(){m.displayMessage(x.serverError),n()},onAbort:function(e){},onError:m.error};e.extend(!0,i,g.apiSettings),m.verbose(\"Setting up API request\",i),S.api(i)}},can:{useAPI:function(){return e.fn.api!==i},show:function(){return m.is.focused()&&!m.is.visible()&&!m.is.empty()},transition:function(){return g.transition&&e.fn.transition!==i&&S.transition(\"is supported\")}},is:{animating:function(){return R.hasClass(p.animating)},hidden:function(){return R.hasClass(p.hidden)},inMessage:function(t){if(t.target){var i=e(t.target),o=e.contains(n.documentElement,t.target);return o&&i.closest(y.message).length>0}},empty:function(){return\"\"===R.html()},visible:function(){return R.filter(\":visible\").length>0},focused:function(){return T.filter(\":focus\").length>0}},get:{inputEvent:function(){var e=T[0],t=e!==i&&e.oninput!==i?\"input\":e!==i&&e.onpropertychange!==i?\"propertychange\":\"keyup\";return t},value:function(){return T.val()},results:function(){var e=S.data(h.results);return e},result:function(t,n){var o=[\"title\",\"id\"],a=!1;return t=t!==i?t:m.get.value(),n=n!==i?n:m.get.results(),\"category\"===g.type?(m.debug(\"Finding result that matches\",t),e.each(n,function(n,i){if(e.isArray(i.results)&&(a=m.search.object(t,i.results,o)[0]))return!1})):(m.debug(\"Finding result in results object\",t),a=m.search.object(t,n,o)[0]),a||!1}},select:{firstResult:function(){m.verbose(\"Selecting first result\"),P.first().addClass(p.active)}},set:{focus:function(){S.addClass(p.focus)},loading:function(){S.addClass(p.loading)},value:function(e){m.verbose(\"Setting search input value\",e),T.val(e)},type:function(e){e=e||g.type,\"category\"==g.type&&S.addClass(g.type)},buttonPressed:function(){A.addClass(p.pressed)}},remove:{loading:function(){S.removeClass(p.loading)},focus:function(){S.removeClass(p.focus)},buttonPressed:function(){A.removeClass(p.pressed)}},query:function(t){t=e.isFunction(t)?t:function(){};var n=m.get.value(),i=m.read.cache(n);t=t||function(){},m.has.minimumCharacters()?(i?(m.debug(\"Reading result from cache\",n),m.save.results(i.results),m.addResults(i.html),m.inject.id(i.results),t()):(m.debug(\"Querying for\",n),e.isPlainObject(g.source)||e.isArray(g.source)?(m.search.local(n),t()):m.can.useAPI()?m.search.remote(n,t):(m.error(x.source),t())),g.onSearchQuery.call(F,n)):m.hideResults()},search:{local:function(e){var t,n=m.search.object(e,g.content);m.set.loading(),m.save.results(n),m.debug(\"Returned local search results\",n),t=m.generateResults({results:n}),m.remove.loading(),m.addResults(t),m.inject.id(n),m.write.cache(e,{html:t,results:n})},remote:function(t,n){n=e.isFunction(n)?n:function(){},S.api(\"is loading\")&&S.api(\"abort\"),m.setup.api(t,n),S.api(\"query\")},object:function(t,n,o){var a=[],r=[],s=t.toString().replace(v.escape,\"\\\\$&\"),l=new RegExp(v.beginsWith+s,\"i\"),c=function(t,n){var i=e.inArray(n,a)==-1,o=e.inArray(n,r)==-1;i&&o&&t.push(n)};return n=n||g.source,o=o!==i?o:g.searchFields,e.isArray(o)||(o=[o]),n===i||n===!1?(m.error(x.source),[]):(e.each(o,function(i,o){e.each(n,function(e,n){var i=\"string\"==typeof n[o];i&&(n[o].search(l)!==-1?c(a,n):g.searchFullText&&m.fuzzySearch(t,n[o])&&c(r,n))})}),e.merge(a,r))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(\"string\"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;o<i;o++){for(var r=e.charCodeAt(o);a<n;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},parse:{response:function(e,t){var n=m.generateResults(e);m.verbose(\"Parsing server response\",e),e!==i&&t!==i&&e[b.results]!==i&&(m.addResults(n),m.inject.id(e[b.results]),m.write.cache(t,{html:n,results:e[b.results]}),m.save.results(e[b.results]))}},cancel:{query:function(){m.can.useAPI()&&S.api(\"abort\")}},has:{minimumCharacters:function(){var e=m.get.value(),t=e.length;return t>=g.minCharacters},results:function(){if(0===R.length)return!1;var e=R.html();return\"\"!=e}},clear:{cache:function(e){var t=S.data(h.cache);e?e&&t&&t[e]&&(m.debug(\"Removing value from cache\",e),delete t[e],S.data(h.cache,t)):(m.debug(\"Clearing cache\",e),S.removeData(h.cache))}},read:{cache:function(e){var t=S.data(h.cache);return!!g.cache&&(m.verbose(\"Checking cache for generated html for query\",e),\"object\"==typeof t&&t[e]!==i&&t[e])}},create:{id:function(e,t){var n,o,a=e+1;return t!==i?(n=String.fromCharCode(97+t),o=n+a,m.verbose(\"Creating category result id\",o)):(o=a,m.verbose(\"Creating result id\",o)),o},results:function(){0===R.length&&(R=e(\"<div />\").addClass(p.results).appendTo(S))}},inject:{result:function(e,t,n){m.verbose(\"Injecting result into results\");var o=n!==i?R.children().eq(n).children(y.result).eq(t):R.children(y.result).eq(t);m.verbose(\"Injecting results metadata\",o),o.data(h.result,e)},id:function(t){m.debug(\"Injecting unique ids into results\");var n=0,o=0;return\"category\"===g.type?e.each(t,function(t,a){o=0,e.each(a.results,function(e,t){var r=a.results[e];r.id===i&&(r.id=m.create.id(o,n)),m.inject.result(r,o,n),o++}),n++}):e.each(t,function(e,n){var a=t[e];a.id===i&&(a.id=m.create.id(o)),m.inject.result(a,o),o++}),t}},save:{results:function(e){m.verbose(\"Saving current search results to metadata\",e),S.data(h.results,e)}},write:{cache:function(e,t){var n=S.data(h.cache)!==i?S.data(h.cache):{};g.cache&&(m.verbose(\"Writing generated html to cache\",e,t),n[e]=t,S.data(h.cache,n))}},addResults:function(t){return e.isFunction(g.onResultsAdd)&&g.onResultsAdd.call(R,t)===!1?(m.debug(\"onResultsAdd callback cancelled default action\"),!1):void(t?(R.html(t),m.refreshResults(),g.selectFirstResult&&m.select.firstResult(),m.showResults()):m.hideResults(function(){R.empty()}))},showResults:function(t){t=e.isFunction(t)?t:function(){},q||!m.is.visible()&&m.has.results()&&(m.can.transition()?(m.debug(\"Showing results with css animations\"),R.transition({animation:g.transition+\" in\",debug:g.debug,verbose:g.verbose,duration:g.duration,onComplete:function(){t()},queue:!0})):(m.debug(\"Showing results with javascript\"),R.stop().fadeIn(g.duration,g.easing)),g.onResultsOpen.call(R))},hideResults:function(t){t=e.isFunction(t)?t:function(){},m.is.visible()&&(m.can.transition()?(m.debug(\"Hiding results with css animations\"),R.transition({animation:g.transition+\" out\",debug:g.debug,verbose:g.verbose,duration:g.duration,onComplete:function(){t()},queue:!0})):(m.debug(\"Hiding results with javascript\"),R.stop().fadeOut(g.duration,g.easing)),g.onResultsClose.call(R))},generateResults:function(t){m.debug(\"Generating html from response\",t);var n=g.templates[g.type],i=e.isPlainObject(t[b.results])&&!e.isEmptyObject(t[b.results]),o=e.isArray(t[b.results])&&t[b.results].length>0,a=\"\";return i||o?(g.maxResults>0&&(i?\"standard\"==g.type&&m.error(x.maxResults):t[b.results]=t[b.results].slice(0,g.maxResults)),e.isFunction(n)?a=n(t,b):m.error(x.noTemplate,!1)):g.showNoResults&&(a=m.displayMessage(x.noResults,\"empty\")),g.onResults.call(F,t),a},displayMessage:function(e,t){return t=t||\"standard\",m.debug(\"Displaying message\",e,t),m.addResults(g.templates.message(e,t)),g.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+\":\"),m.verbose.apply(console,arguments)))},error:function(){g.silent||(m.error=Function.prototype.bind.call(console.error,console,g.name+\":\"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:F,\"Execution Time\":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+\":\",n=0;l=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",s&&(t+=\" '\"+s+\"'\"),r.length>1&&(t+=\" (\"+r.length+\")\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=O;return n=n||f,o=F||o,\"string\"==typeof t&&c!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(O===i&&m.initialize(),m.invoke(u)):(O!==i&&O.invoke(\"destroy\"),m.initialize())}),a!==i?a:this},e.fn.search.settings={name:\"Search\",namespace:\"search\",silent:!1,debug:!1,verbose:!1,performance:!0,type:\"standard\",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:[\"title\",\"description\"],displayField:\"\",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:\"scale\",duration:200,easing:\"easeOutExpo\",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:\"animating\",active:\"active\",empty:\"empty\",focus:\"focus\",hidden:\"hidden\",loading:\"loading\",results:\"results\",pressed:\"down\"},error:{source:\"Cannot search. No source used, and Semantic API module was not included\",noResults:\"Your search returned no results\",logging:\"Error in debug logging, exiting.\",noEndpoint:\"No search endpoint was specified\",noTemplate:\"A valid template name was not specified.\",serverError:\"There was an issue querying the server.\",maxResults:\"Results must be an array to use maxResults setting\",method:\"The method you called is not defined.\"},metadata:{cache:\"cache\",results:\"results\",result:\"result\"},regExp:{escape:/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,beginsWith:\"(?:s|^)\"},fields:{categories:\"results\",categoryName:\"name\",categoryResults:\"results\",description:\"description\",image:\"image\",price:\"price\",results:\"results\",title:\"title\",url:\"url\",action:\"action\",actionText:\"text\",actionURL:\"url\"},selector:{prompt:\".prompt\",searchButton:\".search.button\",results:\".results\",message:\".results > .message\",category:\".category\",result:\".result\",title:\".title, .name\"},templates:{escape:function(e){var t=/[&<>\"'`]/g,n=/[&<>\"'`]/,i={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},message:function(e,t){var n=\"\";return e!==i&&t!==i&&(n+='<div class=\"message '+t+'\">',n+=\"empty\"==t?'<div class=\"header\">No Results</div class=\"header\"><div class=\"description\">'+e+'</div class=\"description\">':' <div class=\"description\">'+e+\"</div>\",n+=\"</div>\"),n},category:function(t,n){var o=\"\";e.fn.search.settings.templates.escape;return t[n.categoryResults]!==i&&(e.each(t[n.categoryResults],function(t,a){a[n.results]!==i&&a.results.length>0&&(o+='<div class=\"category\">',a[n.categoryName]!==i&&(o+='<div class=\"name\">'+a[n.categoryName]+\"</div>\"),e.each(a.results,function(e,t){o+=t[n.url]?'<a class=\"result\" href=\"'+t[n.url]+'\">':'<a class=\"result\">',t[n.image]!==i&&(o+='<div class=\"image\"> <img src=\"'+t[n.image]+'\"></div>'),o+='<div class=\"content\">',t[n.price]!==i&&(o+='<div class=\"price\">'+t[n.price]+\"</div>\"),t[n.title]!==i&&(o+='<div class=\"title\">'+t[n.title]+\"</div>\"),t[n.description]!==i&&(o+='<div class=\"description\">'+t[n.description]+\"</div>\"),o+=\"</div>\",o+=\"</a>\"}),o+=\"</div>\")}),t[n.action]&&(o+='<a href=\"'+t[n.action][n.actionURL]+'\" class=\"action\">'+t[n.action][n.actionText]+\"</a>\"),o)},standard:function(t,n){var o=\"\";return t[n.results]!==i&&(e.each(t[n.results],function(e,t){o+=t[n.url]?'<a class=\"result\" href=\"'+t[n.url]+'\">':'<a class=\"result\">',t[n.image]!==i&&(o+='<div class=\"image\"> <img src=\"'+t[n.image]+'\"></div>'),o+='<div class=\"content\">',t[n.price]!==i&&(o+='<div class=\"price\">'+t[n.price]+\"</div>\"),t[n.title]!==i&&(o+='<div class=\"title\">'+t[n.title]+\"</div>\"),t[n.description]!==i&&(o+='<div class=\"description\">'+t[n.description]+\"</div>\"),o+=\"</div>\",o+=\"</a>\"}),t[n.action]&&(o+='<a href=\"'+t[n.action][n.actionURL]+'\" class=\"action\">'+t[n.action][n.actionText]+\"</a>\"),o)}}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.shape=function(o){var a,r=e(this),s=(e(\"body\"),(new Date).getTime()),c=[],l=arguments[0],u=\"string\"==typeof l,d=[].slice.call(arguments,1),m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var t,f,g,p=r.selector||\"\",v=e.extend(!0,{},e.fn.shape.settings,o),h=v.namespace,b=v.selector,y=v.error,x=v.className,w=\".\"+h,C=\"module-\"+h,T=e(this),k=T.find(b.sides),S=T.find(b.side),A=!1,P=this,E=T.data(C);g={initialize:function(){g.verbose(\"Initializing module for\",P),g.set.defaultSide(),g.instantiate()},instantiate:function(){g.verbose(\"Storing instance of module\",g),E=g,T.data(C,E)},destroy:function(){g.verbose(\"Destroying previous module for\",P),T.removeData(C).off(w)},refresh:function(){g.verbose(\"Refreshing selector cache for\",P),T=e(P),k=e(this).find(b.shape),S=e(this).find(b.side)},repaint:function(){g.verbose(\"Forcing repaint event\");{var e=k.get(0)||n.createElement(\"div\");e.offsetWidth}},animate:function(e,n){g.verbose(\"Animating box with properties\",e),n=n||function(e){g.verbose(\"Executing animation callback\"),e!==i&&e.stopPropagation(),g.reset(),g.set.active()},v.beforeChange.call(f.get()),g.get.transitionEvent()?(g.verbose(\"Starting CSS animation\"),T.addClass(x.animating),k.css(e).one(g.get.transitionEvent(),n),g.set.duration(v.duration),m(function(){T.addClass(x.animating),t.addClass(x.hidden)})):n()},queue:function(e){g.debug(\"Queueing animation of\",e),k.one(g.get.transitionEvent(),function(){g.debug(\"Executing queued animation\"),setTimeout(function(){T.shape(e)},0)})},reset:function(){g.verbose(\"Animating states reset\"),T.removeClass(x.animating).attr(\"style\",\"\").removeAttr(\"style\"),k.attr(\"style\",\"\").removeAttr(\"style\"),S.attr(\"style\",\"\").removeAttr(\"style\").removeClass(x.hidden),f.removeClass(x.animating).attr(\"style\",\"\").removeAttr(\"style\")},is:{complete:function(){return S.filter(\".\"+x.active)[0]==f[0]},animating:function(){return T.hasClass(x.animating)}},set:{defaultSide:function(){t=T.find(\".\"+v.className.active),f=t.next(b.side).length>0?t.next(b.side):T.find(b.side).first(),A=!1,g.verbose(\"Active side set to\",t),g.verbose(\"Next side set to\",f)},duration:function(e){e=e||v.duration,e=\"number\"==typeof e?e+\"ms\":e,g.verbose(\"Setting animation duration\",e),k.add(S).css({\"-webkit-transition-duration\":e,\"-moz-transition-duration\":e,\"-ms-transition-duration\":e,\"-o-transition-duration\":e,\"transition-duration\":e})},stageSize:function(){var e=T.clone().addClass(x.loading),t=e.find(\".\"+v.className.active),n=A?e.find(b.side).eq(A):t.next(b.side).length>0?t.next(b.side):e.find(b.side).first(),i={};t.removeClass(x.active),n.addClass(x.active),e.insertAfter(T),i={width:n.outerWidth(),height:n.outerHeight()},e.remove(),T.css(i),g.verbose(\"Resizing stage to fit new content\",i)},nextSide:function(e){A=e,f=S.filter(e),A=S.index(f),0===f.length&&(g.set.defaultSide(),g.error(y.side)),g.verbose(\"Next side manually set to\",f)},active:function(){g.verbose(\"Setting new side to active\",f),S.removeClass(x.active),f.addClass(x.active),v.onChange.call(f.get()),g.set.defaultSide()}},flip:{up:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue(\"flip up\"):(g.debug(\"Flipping up\",f),g.set.stageSize(),g.stage.above(),g.animate(g.get.transform.up()))):void g.debug(\"Side already visible\",f)},down:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue(\"flip down\"):(g.debug(\"Flipping down\",f),g.set.stageSize(),g.stage.below(),g.animate(g.get.transform.down()))):void g.debug(\"Side already visible\",f)},left:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue(\"flip left\"):(g.debug(\"Flipping left\",f),g.set.stageSize(),g.stage.left(),g.animate(g.get.transform.left()))):void g.debug(\"Side already visible\",f)},right:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue(\"flip right\"):(g.debug(\"Flipping right\",f),g.set.stageSize(),g.stage.right(),g.animate(g.get.transform.right()))):void g.debug(\"Side already visible\",f)},over:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue(\"flip over\"):(g.debug(\"Flipping over\",f),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.over()))):void g.debug(\"Side already visible\",f)},back:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue(\"flip back\"):(g.debug(\"Flipping back\",f),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.back()))):void g.debug(\"Side already visible\",f)}},get:{transform:{up:function(){var e={y:-((t.outerHeight()-f.outerHeight())/2),z:-(t.outerHeight()/2)};return{transform:\"translateY(\"+e.y+\"px) translateZ(\"+e.z+\"px) rotateX(-90deg)\"}},down:function(){var e={y:-((t.outerHeight()-f.outerHeight())/2),z:-(t.outerHeight()/2)};return{transform:\"translateY(\"+e.y+\"px) translateZ(\"+e.z+\"px) rotateX(90deg)\"}},left:function(){var e={x:-((t.outerWidth()-f.outerWidth())/2),z:-(t.outerWidth()/2)};return{transform:\"translateX(\"+e.x+\"px) translateZ(\"+e.z+\"px) rotateY(90deg)\"}},right:function(){var e={x:-((t.outerWidth()-f.outerWidth())/2),z:-(t.outerWidth()/2)};return{transform:\"translateX(\"+e.x+\"px) translateZ(\"+e.z+\"px) rotateY(-90deg)\"}},over:function(){var e={x:-((t.outerWidth()-f.outerWidth())/2)};return{transform:\"translateX(\"+e.x+\"px) rotateY(180deg)\"}},back:function(){var e={x:-((t.outerWidth()-f.outerWidth())/2)};return{transform:\"translateX(\"+e.x+\"px) rotateY(-180deg)\"}}},transitionEvent:function(){var e,t=n.createElement(\"element\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in o)if(t.style[e]!==i)return o[e]},nextSide:function(){return t.next(b.side).length>0?t.next(b.side):T.find(b.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight()-f.outerHeight())/2,depth:{active:f.outerHeight()/2,next:t.outerHeight()/2}};g.verbose(\"Setting the initial animation position as above\",f,e),t.css({transform:\"rotateY(0deg) translateZ(\"+e.depth.active+\"px)\"}),f.addClass(x.animating).css({display:\"block\",top:e.origin+\"px\",transform:\"rotateX(90deg) translateZ(\"+e.depth.next+\"px)\"})},below:function(){var e={origin:(t.outerHeight()-f.outerHeight())/2,depth:{active:f.outerHeight()/2,next:t.outerHeight()/2}};g.verbose(\"Setting the initial animation position as below\",f,e),t.css({transform:\"rotateY(0deg) translateZ(\"+e.depth.active+\"px)\"}),f.addClass(x.animating).css({display:\"block\",top:e.origin+\"px\",transform:\"rotateX(-90deg) translateZ(\"+e.depth.next+\"px)\"})},left:function(){var e={origin:(t.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:t.outerWidth()/2}};g.verbose(\"Setting the initial animation position as left\",f,e),t.css({transform:\"rotateY(0deg) translateZ(\"+e.depth.active+\"px)\"}),f.addClass(x.animating).css({display:\"block\",left:e.origin+\"px\",transform:\"rotateY(-90deg) translateZ(\"+e.depth.next+\"px)\"})},right:function(){var e={origin:(t.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:t.outerWidth()/2}};g.verbose(\"Setting the initial animation position as left\",f,e),t.css({transform:\"rotateY(0deg) translateZ(\"+e.depth.active+\"px)\"}),f.addClass(x.animating).css({display:\"block\",left:e.origin+\"px\",transform:\"rotateY(90deg) translateZ(\"+e.depth.next+\"px)\"})},behind:function(){var e={origin:(t.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:t.outerWidth()/2}};g.verbose(\"Setting the initial animation position as behind\",f,e),t.css({transform:\"rotateY(0deg)\"}),f.addClass(x.animating).css({display:\"block\",left:e.origin+\"px\",transform:\"rotateY(-180deg)\"})}},setting:function(t,n){if(g.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){v.debug&&(v.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,v.name+\":\"),g.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,v.name+\":\"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,v.name+\":\"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;v.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:P,\"Execution Time\":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100);\n\n},display:function(){var t=v.name+\":\",n=0;s=!1,clearTimeout(g.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",p&&(t+=\" '\"+p+\"'\"),r.length>1&&(t+=\" (\"+r.length+\")\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,c,l=E;return n=n||d,o=P||o,\"string\"==typeof t&&l!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):!1;l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},u?(E===i&&g.initialize(),g.invoke(l)):(E!==i&&E.invoke(\"destroy\"),g.initialize())}),a!==i?a:this},e.fn.shape.settings={name:\"Shape\",debug:!1,verbose:!0,performance:!0,namespace:\"shape\",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:700,error:{side:\"You tried to switch to a side that does not exist.\",method:\"The method you called is not defined\"},className:{animating:\"animating\",hidden:\"hidden\",loading:\"loading\",active:\"active\"},selector:{sides:\".sides\",side:\".side\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.sidebar=function(o){var a,r=e(this),s=e(t),c=e(n),l=e(\"html\"),u=e(\"head\"),d=r.selector||\"\",m=(new Date).getTime(),f=[],g=arguments[0],p=\"string\"==typeof g,v=[].slice.call(arguments,1),h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,b,y,x,w,C,T=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),k=T.selector,S=T.className,A=T.namespace,P=T.regExp,E=T.error,F=\".\"+A,R=\"module-\"+A,O=e(this),D=e(T.context),z=O.children(k.sidebar),q=D.children(k.fixed),j=D.children(k.pusher),N=this,I=O.data(R);C={initialize:function(){C.debug(\"Initializing sidebar\",o),C.create.id(),w=C.get.transitionEvent(),(\"auto\"==T.useLegacy&&C.is.legacy()||T.useLegacy===!0)&&(T.transition=\"overlay\",T.useLegacy=!0),C.is.ios()&&C.set.ios(),T.delaySetup?h(C.setup.layout):C.setup.layout(),C.instantiate()},instantiate:function(){C.verbose(\"Storing instance of module\",C),I=C,O.data(R,C)},create:{id:function(){y=(Math.random().toString(16)+\"000000000\").substr(2,8),b=\".\"+y,C.verbose(\"Creating unique id for element\",y)}},destroy:function(){C.verbose(\"Destroying previous module for\",O),C.remove.direction(),O.off(F).removeData(R),D.off(b),s.off(b),c.off(b)},event:{clickaway:function(e){var t=j.find(e.target).length>0||j.is(e.target),n=D.is(e.target);t&&(C.verbose(\"User clicked on dimmed page\"),C.hide()),n&&(C.verbose(\"User clicked on dimmable context (scaled out page)\"),C.hide())},touch:function(e){},containScroll:function(e){N.scrollTop<=0&&(N.scrollTop=1),N.scrollTop+N.offsetHeight>=N.scrollHeight&&(N.scrollTop=N.scrollHeight-N.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(k.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){C.verbose(\"Adding clickaway events to context\",D),T.closable&&D.on(\"click\"+b,C.event.clickaway).on(\"touchend\"+b,C.event.clickaway)},scrollLock:function(){T.scrollLock&&(C.debug(\"Disabling page scroll\"),s.on(\"DOMMouseScroll\"+b,C.event.scroll)),C.verbose(\"Adding events to contain sidebar scroll\"),c.on(\"touchmove\"+b,C.event.touch),O.on(\"scroll\"+F,C.event.containScroll)}},unbind:{clickaway:function(){C.verbose(\"Removing clickaway events from context\",D),D.off(b)},scrollLock:function(){C.verbose(\"Removing scroll lock from page\"),c.off(b),s.off(b),O.off(\"scroll\"+F)}},add:{bodyCSS:function(){var t,n=O.outerWidth(),i=O.outerHeight(),o=C.get.direction(),a={left:n,right:-n,top:i,bottom:-i};C.is.rtl()&&(C.verbose(\"RTL detected, flipping widths\"),a.left=-n,a.right=n),t='<style title=\"'+A+'\">',\"left\"===o||\"right\"===o?(C.debug(\"Adding CSS rules for animation distance\",n),t+=\" .ui.visible.\"+o+\".sidebar ~ .fixed, .ui.visible.\"+o+\".sidebar ~ .pusher {   -webkit-transform: translate3d(\"+a[o]+\"px, 0, 0);           transform: translate3d(\"+a[o]+\"px, 0, 0); }\"):(\"top\"===o||\"bottom\"==o)&&(t+=\" .ui.visible.\"+o+\".sidebar ~ .fixed, .ui.visible.\"+o+\".sidebar ~ .pusher {   -webkit-transform: translate3d(0, \"+a[o]+\"px, 0);           transform: translate3d(0, \"+a[o]+\"px, 0); }\"),C.is.ie()&&(\"left\"===o||\"right\"===o?(C.debug(\"Adding CSS rules for animation distance\",n),t+=\" body.pushable > .ui.visible.\"+o+\".sidebar ~ .pusher:after {   -webkit-transform: translate3d(\"+a[o]+\"px, 0, 0);           transform: translate3d(\"+a[o]+\"px, 0, 0); }\"):(\"top\"===o||\"bottom\"==o)&&(t+=\" body.pushable > .ui.visible.\"+o+\".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, \"+a[o]+\"px, 0);           transform: translate3d(0, \"+a[o]+\"px, 0); }\"),t+=\" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }\"),t+=\"</style>\",u.append(t),r=e(\"style[title=\"+A+\"]\"),C.debug(\"Adding sizing css to head\",r)}},refresh:function(){C.verbose(\"Refreshing selector cache\"),D=e(T.context),z=D.children(k.sidebar),j=D.children(k.pusher),q=D.children(k.fixed)},refreshSidebars:function(){C.verbose(\"Refreshing other sidebars\"),z=D.children(k.sidebar)},repaint:function(){C.verbose(\"Forcing repaint event\"),N.style.display=\"none\",N.offsetHeight,N.scrollTop=N.scrollTop,N.style.display=\"\"},setup:{layout:function(){0===D.children(k.pusher).length&&(C.debug(\"Adding wrapper element for sidebar\"),C.error(E.pusher),j=e('<div class=\"pusher\" />'),D.children().not(k.omitted).not(z).wrapAll(j),C.refresh()),(0===O.nextAll(k.pusher).length||O.nextAll(k.pusher)[0]!==j[0])&&(C.debug(\"Moved sidebar to correct parent element\"),C.error(E.movedSidebar,N),O.detach().prependTo(D),C.refresh()),C.set.pushable(),C.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(C[n])?C[n]:C.toggle,i.length>0?(C.debug(\"Attaching sidebar events to element\",t,n),i.on(\"click\"+F,n)):C.error(E.notFound,t)},show:function(t){var n=T.useLegacy===!0?C.legacyPushPage:C.pushPage;if(t=e.isFunction(t)?t:function(){},C.is.hidden()){if(C.refreshSidebars(),T.overlay&&(C.error(E.overlay),T.transition=\"overlay\"),C.refresh(),C.othersActive())if(C.debug(\"Other sidebars currently visible\"),T.exclusive){if(\"overlay\"!=T.transition)return void C.hideOthers(C.show);C.hideOthers()}else T.transition=\"overlay\";n(function(){t.call(N),T.onShow.call(N)}),T.onChange.call(N),T.onVisible.call(N)}else C.debug(\"Sidebar is already visible\")},hide:function(t){var n=T.useLegacy===!0?C.legacyPullPage:C.pullPage;t=e.isFunction(t)?t:function(){},(C.is.visible()||C.is.animating())&&(C.debug(\"Hiding sidebar\",t),C.refreshSidebars(),n(function(){t.call(N),T.onHidden.call(N)}),T.onChange.call(N),T.onHide.call(N))},othersAnimating:function(){return z.not(O).filter(\".\"+S.animating).length>0},othersVisible:function(){return z.not(O).filter(\".\"+S.visible).length>0},othersActive:function(){return C.othersVisible()||C.othersAnimating()},hideOthers:function(e){var t=z.not(O).filter(\".\"+S.visible),n=t.length,i=0;e=e||function(){},t.sidebar(\"hide\",function(){i++,i==n&&e()})},toggle:function(){C.verbose(\"Determining toggled direction\"),C.is.hidden()?C.show():C.hide()},pushPage:function(t){var n,i,o=C.get.transition(),a=\"safe\"==o?D:\"overlay\"===o||C.othersActive()?O:j;t=e.isFunction(t)?t:function(){},\"scale down\"==T.transition&&C.scrollToTop(),C.set.transition(o),C.repaint(),n=function(){C.bind.clickaway(),C.add.bodyCSS(),C.set.animating(),C.set.visible(),C.othersVisible()||T.dimPage&&j.addClass(S.dimmed)},i=function(e){e.target==a[0]&&(a.off(w+b,i),C.remove.animating(),C.bind.scrollLock(),t.call(N))},a.off(w+b),a.on(w+b,i),h(n)},pullPage:function(t){var n,i,o=C.get.transition(),a=\"safe\"==o?D:\"overlay\"==o||C.othersActive()?O:j;t=e.isFunction(t)?t:function(){},C.verbose(\"Removing context push state\",C.get.direction()),C.set.transition(o),C.unbind.clickaway(),C.unbind.scrollLock(),n=function(){C.set.animating(),C.remove.visible(),T.dimPage&&!C.othersVisible()&&j.removeClass(S.dimmed)},i=function(e){e.target==a[0]&&(a.off(w+b,i),C.remove.animating(),C.remove.transition(),C.remove.bodyCSS(),(\"scale down\"==o||T.returnScroll&&C.is.mobile())&&C.scrollBack(),t.call(N))},a.off(w+b),a.on(w+b,i),h(n)},legacyPushPage:function(t){var n=O.width(),i=C.get.direction(),o={};n=n||O.width(),t=e.isFunction(t)?t:function(){},o[i]=n,C.debug(\"Using javascript to push context\",o),C.set.visible(),C.set.transition(),C.set.animating(),T.dimPage&&j.addClass(S.dimmed),D.css(\"position\",\"relative\").animate(o,T.duration,T.easing,function(){C.remove.animating(),C.bind.clickaway(),t.call(N)})},legacyPullPage:function(t){var n=0,i=C.get.direction(),o={};n=n||O.width(),t=e.isFunction(t)?t:function(){},o[i]=\"0px\",C.debug(\"Using javascript to pull context\",o),C.unbind.clickaway(),C.set.animating(),C.remove.visible(),T.dimPage&&!C.othersActive()&&j.removeClass(S.dimmed),D.css(\"position\",\"relative\").animate(o,T.duration,T.easing,function(){C.remove.animating(),t.call(N)})},scrollToTop:function(){C.verbose(\"Scrolling to top of page to avoid animation issues\"),x=e(t).scrollTop(),O.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){C.verbose(\"Scrolling back to original page position\"),t.scrollTo(0,x)},set:{ios:function(){l.addClass(S.ios)},pushed:function(){D.addClass(S.pushed)},pushable:function(){D.addClass(S.pushable)},active:function(){O.addClass(S.active)},animating:function(){O.addClass(S.animating)},transition:function(e){e=e||C.get.transition(),O.addClass(e)},direction:function(e){e=e||C.get.direction(),O.addClass(S[e])},visible:function(){O.addClass(S.visible)},overlay:function(){O.addClass(S.overlay)}},remove:{bodyCSS:function(){C.debug(\"Removing body css styles\",r),r&&r.length>0&&r.remove()},pushed:function(){D.removeClass(S.pushed)},pushable:function(){D.removeClass(S.pushable)},active:function(){O.removeClass(S.active)},animating:function(){O.removeClass(S.animating)},transition:function(e){e=e||C.get.transition(),O.removeClass(e)},direction:function(e){e=e||C.get.direction(),O.removeClass(S[e])},visible:function(){O.removeClass(S.visible)},overlay:function(){O.removeClass(S.overlay)}},get:{direction:function(){return O.hasClass(S.top)?S.top:O.hasClass(S.right)?S.right:O.hasClass(S.bottom)?S.bottom:S.left},transition:function(){var e,t=C.get.direction();return e=C.is.mobile()?\"auto\"==T.mobileTransition?T.defaultTransition.mobile[t]:T.mobileTransition:\"auto\"==T.transition?T.defaultTransition.computer[t]:T.transition,C.verbose(\"Determined transition\",e),e},transitionEvent:function(){var e,t=n.createElement(\"element\"),o={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in o)if(t.style[e]!==i)return o[e]}},is:{ie:function(){var e=!t.ActiveXObject&&\"ActiveXObject\"in t,n=\"ActiveXObject\"in t;return e||n},legacy:function(){var e,o=n.createElement(\"div\"),a={webkitTransform:\"-webkit-transform\",OTransform:\"-o-transform\",msTransform:\"-ms-transform\",MozTransform:\"-moz-transform\",transform:\"transform\"};n.body.insertBefore(o,null);for(var r in a)o.style[r]!==i&&(o.style[r]=\"translate3d(1px,1px,1px)\",e=t.getComputedStyle(o).getPropertyValue(a[r]));return n.body.removeChild(o),!(e!==i&&e.length>0&&\"none\"!==e)},ios:function(){var e=navigator.userAgent,t=e.match(P.ios);return t?(C.verbose(\"Browser was found to be iOS\",e),!0):!1},mobile:function(){var e=navigator.userAgent,t=e.match(P.mobile);return t?(C.verbose(\"Browser was found to be mobile\",e),!0):(C.verbose(\"Browser is not mobile, using regular transition\",e),!1)},hidden:function(){return!C.is.visible()},visible:function(){return O.hasClass(S.visible)},open:function(){return C.is.visible()},closed:function(){return C.is.hidden()},vertical:function(){return O.hasClass(S.top)},animating:function(){return D.hasClass(S.animating)},rtl:function(){return\"rtl\"==O.css(\"direction\")}},setting:function(t,n){if(C.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){T.debug&&(T.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,T.name+\":\"),C.debug.apply(console,arguments)))},verbose:function(){T.verbose&&T.debug&&(T.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,T.name+\":\"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,T.name+\":\"),C.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;T.performance&&(t=(new Date).getTime(),i=m||t,n=t-i,m=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:N,\"Execution Time\":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,100)},display:function(){var t=T.name+\":\",n=0;m=!1,clearTimeout(C.performance.timer),e.each(f,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",d&&(t+=\" '\"+d+\"'\"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),f=[]}},invoke:function(t,n,o){var r,s,c,l=I;return n=n||v,o=N||o,\"string\"==typeof t&&l!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(C.error(E.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},p?(I===i&&C.initialize(),C.invoke(g)):(I!==i&&C.invoke(\"destroy\"),C.initialize())}),a!==i?a:this},e.fn.sidebar.settings={name:\"Sidebar\",namespace:\"sidebar\",debug:!1,verbose:!0,performance:!0,transition:\"auto\",mobileTransition:\"auto\",defaultTransition:{computer:{left:\"uncover\",right:\"uncover\",top:\"overlay\",bottom:\"overlay\"},mobile:{left:\"uncover\",right:\"uncover\",top:\"overlay\",bottom:\"overlay\"}},context:\"body\",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,useLegacy:\"auto\",duration:500,easing:\"easeInOutQuint\",onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:\"active\",animating:\"animating\",dimmed:\"dimmed\",ios:\"ios\",pushable:\"pushable\",pushed:\"pushed\",right:\"right\",top:\"top\",left:\"left\",bottom:\"bottom\",visible:\"visible\"},selector:{fixed:\".fixed\",omitted:\"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed\",pusher:\".pusher\",sidebar:\".ui.sidebar\"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:\"The method you called is not defined.\",pusher:\"Had to add pusher element. For optimal performance make sure body content is inside a pusher element\",movedSidebar:\"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag\",overlay:\"The overlay setting is no longer supported, use animation: overlay\",notFound:\"There were no elements that matched the specified selector\"}},e.extend(e.easing,{easeInOutQuint:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n}})}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=void 0!==t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.sticky=function(i){var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),l=[],c=arguments[0],u=\"string\"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,f,m,g,v,p=e.isPlainObject(i)?e.extend(!0,{},e.fn.sticky.settings,i):e.extend({},e.fn.sticky.settings),h=p.className,b=p.namespace,y=p.error,x=\".\"+b,C=\"module-\"+b,w=e(this),k=e(t),S=e(p.scrollContext),T=(w.selector,w.data(C)),A=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},R=this;v={initialize:function(){v.determineContainer(),v.determineContext(),v.verbose(\"Initializing sticky\",p,a),v.save.positions(),v.checkErrors(),v.bind.events(),p.observeChanges&&v.observeChanges(),v.instantiate()},instantiate:function(){v.verbose(\"Storing instance of module\",v),T=v,w.data(C,v)},destroy:function(){v.verbose(\"Destroying previous instance\"),v.reset(),m&&m.disconnect(),g&&g.disconnect(),k.off(\"load\"+x,v.event.load).off(\"resize\"+x,v.event.resize),S.off(\"scrollchange\"+x,v.event.scrollchange),w.removeData(C)},observeChanges:function(){\"MutationObserver\"in t&&(m=new MutationObserver(v.event.documentChanged),g=new MutationObserver(v.event.changed),m.observe(n,{childList:!0,subtree:!0}),g.observe(R,{childList:!0,subtree:!0}),g.observe(f[0],{childList:!0,subtree:!0}),v.debug(\"Setting up mutation observer\",g))},determineContainer:function(){a=p.container?e(p.container):w.offsetParent()},determineContext:function(){if(f=p.context?e(p.context):a,0===f.length)return void v.error(y.invalidContext,p.context,w)},checkErrors:function(){if(v.is.hidden()&&v.error(y.visible,w),v.cache.element.height>v.cache.context.height)return v.reset(),void v.error(y.elementSize,w)},bind:{events:function(){k.on(\"load\"+x,v.event.load).on(\"resize\"+x,v.event.resize),S.off(\"scroll\"+x).on(\"scroll\"+x,v.event.scroll).on(\"scrollchange\"+x,v.event.scrollchange)}},event:{changed:function(e){clearTimeout(v.timer),v.timer=setTimeout(function(){v.verbose(\"DOM tree modified, updating sticky menu\",e),v.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==R||e(t).find(R).length>0)&&(v.debug(\"Element removed from DOM, tearing down events\"),v.destroy())})})},load:function(){v.verbose(\"Page contents finished loading\"),A(v.refresh)},resize:function(){v.verbose(\"Window resized\"),A(v.refresh)},scroll:function(){A(function(){S.triggerHandler(\"scrollchange\"+x,S.scrollTop())})},scrollchange:function(e,t){v.stick(t),p.onScroll.call(R)}},refresh:function(e){v.reset(),p.context||v.determineContext(),e&&v.determineContainer(),v.save.positions(),v.stick(),p.onReposition.call(R)},supports:{sticky:function(){var t=e(\"<div/>\");t[0];return t.addClass(h.supported),t.css(\"position\").match(\"sticky\")}},save:{lastScroll:function(e){v.lastScroll=e},elementScroll:function(e){v.elementScroll=e},positions:function(){var e={height:S.height()},t={margin:{top:parseInt(w.css(\"margin-top\"),10),bottom:parseInt(w.css(\"margin-bottom\"),10)},offset:w.offset(),width:w.outerWidth(),height:w.outerHeight()},n={offset:f.offset(),height:f.outerHeight()};a.outerHeight();v.is.standardScroll()||(v.debug(\"Non-standard scroll. Removing scroll offset from element offset\"),e.top=S.scrollTop(),e.left=S.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),v.cache={fits:t.height+p.offset<=e.height,sameHeight:t.height==n.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},v.set.containerSize(),v.stick(),v.debug(\"Caching element positions\",v.cache)}},get:{direction:function(e){var t=\"down\";return e=e||S.scrollTop(),void 0!==v.lastScroll&&(v.lastScroll<e?t=\"down\":v.lastScroll>e&&(t=\"up\")),t},scrollChange:function(e){return e=e||S.scrollTop(),v.lastScroll?e-v.lastScroll:0},currentElementScroll:function(){return v.elementScroll?v.elementScroll:v.is.top()?Math.abs(parseInt(w.css(\"top\"),10))||0:Math.abs(parseInt(w.css(\"bottom\"),10))||0},elementScroll:function(e){e=e||S.scrollTop();var t=v.cache.element,n=v.cache.scrollContext,i=v.get.scrollChange(e),o=t.height-n.height+p.offset,a=v.get.currentElementScroll(),r=a+i;return a=v.cache.fits||r<0?0:r>o?o:r}},remove:{lastScroll:function(){delete v.lastScroll},elementScroll:function(e){delete v.elementScroll},minimumSize:function(){a.css(\"min-height\",\"\")},offset:function(){w.css(\"margin-top\",\"\")}},set:{offset:function(){v.verbose(\"Setting offset on element\",p.offset),w.css(\"margin-top\",p.offset)},containerSize:function(){var e=a.get(0).tagName;\"HTML\"===e||\"body\"==e?v.determineContainer():Math.abs(a.outerHeight()-v.cache.context.height)>p.jitter&&(v.debug(\"Context has padding, specifying exact height for container\",v.cache.context.height),a.css({height:v.cache.context.height}))},minimumSize:function(){var e=v.cache.element;a.css(\"min-height\",e.height)},scroll:function(e){v.debug(\"Setting scroll on element\",e),v.elementScroll!=e&&(v.is.top()&&w.css(\"bottom\",\"\").css(\"top\",-e),v.is.bottom()&&w.css(\"top\",\"\").css(\"bottom\",e))},size:function(){0!==v.cache.element.height&&0!==v.cache.element.width&&(R.style.setProperty(\"width\",v.cache.element.width+\"px\",\"important\"),R.style.setProperty(\"height\",v.cache.element.height+\"px\",\"important\"))}},is:{standardScroll:function(){return S[0]==t},top:function(){return w.hasClass(h.top)},bottom:function(){return w.hasClass(h.bottom)},initialPosition:function(){return!v.is.fixed()&&!v.is.bound()},hidden:function(){return!w.is(\":visible\")},bound:function(){return w.hasClass(h.bound)},fixed:function(){return w.hasClass(h.fixed)}},stick:function(e){var t=e||S.scrollTop(),n=v.cache,i=n.fits,o=n.sameHeight,a=n.element,r=n.scrollContext,s=n.context,l=v.is.bottom()&&p.pushing?p.bottomOffset:p.offset,e={top:t+l,bottom:t+l+r.height},c=(v.get.direction(e.top),i?0:v.get.elementScroll(e.top)),u=!i;0!==a.height&&!o&&(v.is.initialPosition()?e.top>=s.bottom?(v.debug(\"Initial element position is bottom of container\"),v.bindBottom()):e.top>a.top&&(a.height+e.top-c>=s.bottom?(v.debug(\"Initial element position is bottom of container\"),v.bindBottom()):(v.debug(\"Initial element position is fixed\"),v.fixTop())):v.is.fixed()?v.is.top()?e.top<=a.top?(v.debug(\"Fixed element reached top of container\"),v.setInitialPosition()):a.height+e.top-c>=s.bottom?(v.debug(\"Fixed element reached bottom of container\"),v.bindBottom()):u&&(v.set.scroll(c),v.save.lastScroll(e.top),v.save.elementScroll(c)):v.is.bottom()&&(e.bottom-a.height<=a.top?(v.debug(\"Bottom fixed rail has reached top of container\"),v.setInitialPosition()):e.bottom>=s.bottom?(v.debug(\"Bottom fixed rail has reached bottom of container\"),v.bindBottom()):u&&(v.set.scroll(c),v.save.lastScroll(e.top),v.save.elementScroll(c))):v.is.bottom()&&(e.top<=a.top?(v.debug(\"Jumped from bottom fixed to top fixed, most likely used home/end button\"),v.setInitialPosition()):p.pushing?v.is.bound()&&e.bottom<=s.bottom&&(v.debug(\"Fixing bottom attached element to bottom of browser.\"),v.fixBottom()):v.is.bound()&&e.top<=s.bottom-a.height&&(v.debug(\"Fixing bottom attached element to top of browser.\"),v.fixTop())))},bindTop:function(){v.debug(\"Binding element to top of parent container\"),v.remove.offset(),w.css({left:\"\",top:\"\",marginBottom:\"\"}).removeClass(h.fixed).removeClass(h.bottom).addClass(h.bound).addClass(h.top),p.onTop.call(R),p.onUnstick.call(R)},bindBottom:function(){v.debug(\"Binding element to bottom of parent container\"),v.remove.offset(),w.css({left:\"\",top:\"\"}).removeClass(h.fixed).removeClass(h.top).addClass(h.bound).addClass(h.bottom),p.onBottom.call(R),p.onUnstick.call(R)},setInitialPosition:function(){v.debug(\"Returning to initial position\"),v.unfix(),v.unbind()},fixTop:function(){v.debug(\"Fixing element to top of page\"),p.setSize&&v.set.size(),v.set.minimumSize(),v.set.offset(),w.css({left:v.cache.element.left,bottom:\"\",marginBottom:\"\"}).removeClass(h.bound).removeClass(h.bottom).addClass(h.fixed).addClass(h.top),p.onStick.call(R)},fixBottom:function(){v.debug(\"Sticking element to bottom of page\"),p.setSize&&v.set.size(),v.set.minimumSize(),v.set.offset(),w.css({left:v.cache.element.left,bottom:\"\",marginBottom:\"\"}).removeClass(h.bound).removeClass(h.top).addClass(h.fixed).addClass(h.bottom),p.onStick.call(R)},unbind:function(){v.is.bound()&&(v.debug(\"Removing container bound position on element\"),v.remove.offset(),w.removeClass(h.bound).removeClass(h.top).removeClass(h.bottom))},unfix:function(){v.is.fixed()&&(v.debug(\"Removing fixed position on element\"),v.remove.minimumSize(),v.remove.offset(),w.removeClass(h.fixed).removeClass(h.top).removeClass(h.bottom),p.onUnstick.call(R))},reset:function(){v.debug(\"Resetting elements position\"),v.unbind(),v.unfix(),v.resetCSS(),v.remove.offset(),v.remove.lastScroll()},resetCSS:function(){w.css({width:\"\",height:\"\"}),a.css({height:\"\"})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===n)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===n)return v[t];v[t]=n}},debug:function(){!p.silent&&p.debug&&(p.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,p.name+\":\"),v.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,p.name+\":\"),v.verbose.apply(console,arguments)))},error:function(){p.silent||(v.error=Function.prototype.bind.call(console.error,console,p.name+\":\"),v.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:R,\"Execution Time\":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,0)},display:function(){var t=p.name+\":\",n=0;s=!1,clearTimeout(v.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var a,r,s,l=T;return n=n||d,i=R||i,\"string\"==typeof t&&void 0!==l&&(t=t.split(/[\\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return r=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]&&(r=l[i],!1);l=l[i]}})),e.isFunction(r)?s=r.apply(i,n):void 0!==r&&(s=r),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),r}},u?(void 0===T&&v.initialize(),v.invoke(c)):(void 0!==T&&T.invoke(\"destroy\"),v.initialize())}),void 0!==o?o:this},e.fn.sticky.settings={name:\"Sticky\",namespace:\"sticky\",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,setSize:!0,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:\"Sticky element must be inside a relative container\",visible:\"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.\",method:\"The method you called is not defined.\",invalidContext:\"Context specified does not exist\",elementSize:\"Sticky element is larger than its container, cannot create sticky.\"},className:{bound:\"bound\",fixed:\"fixed\",supported:\"native\",top:\"top\",bottom:\"bottom\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.tab=function(n){var o,a,r=e(e.isFunction(this)?t:this),s=e.isPlainObject(n)?e.extend(!0,{},e.fn.tab.settings,n):e.extend({},e.fn.tab.settings),c=r.selector||\"\",l=(new Date).getTime(),u=[],d=arguments[0],m=\"string\"==typeof d,f=[].slice.call(arguments,1);return r.each(function(){var n,g,p,v,h,b=s.className,y=s.metadata,x=s.selector,w=s.error,C=\".\"+s.namespace,T=\"module-\"+s.namespace,k=e(this),S={},A=!0,P=0,E=this,F=k.data(T);o={initialize:function(){o.debug(\"Initializing tab menu item\",k),o.determineTabs(),o.debug(\"Determining tabs\",s.context,g),s.auto&&o.set.auto(),e.isWindow(E)||(o.debug(\"Attaching tab activation events to element\",k),k.on(\"click\"+C,o.event.click)),o.instantiate()},determineTabs:function(){var t;\"parent\"===s.context?(k.closest(x.ui).length>0?(t=k.closest(x.ui),o.verbose(\"Using closest UI element for determining parent\",t)):t=k,n=t.parent(),o.verbose(\"Determined parent element for creating context\",n)):s.context?(n=e(s.context),o.verbose(\"Using selector for tab context\",s.context,n)):n=e(\"body\"),s.childrenOnly?(g=n.children(x.tabs),o.debug(\"Searching tab context children for tabs\",n,g)):(g=n.find(x.tabs),o.debug(\"Searching tab context for tabs\",n,g))},initializeHistory:function(){if(s.history){if(o.debug(\"Initializing page state\"),e.address===i)return o.error(w.state),!1;if(\"state\"==s.historyType){if(o.debug(\"Using HTML5 to manage state\"),s.path===!1)return o.error(w.path),!1;e.address.history(!0).state(s.path)}e.address.bind(\"change\",o.event.history.change)}},instantiate:function(){o.verbose(\"Storing instance of module\",o),F=o,k.data(T,o)},destroy:function(){o.debug(\"Destroying tabs\",k),k.removeData(T).off(C)},event:{click:function(t){var n=e(this).data(y.tab);n!==i?(s.history?(o.verbose(\"Updating page state\",t),e.address.value(n)):(o.verbose(\"Changing tab\",t),o.changeTab(n)),t.preventDefault()):o.debug(\"No tab specified\")},history:{change:function(t){var n=t.pathNames.join(\"/\")||o.get.initialPath(),a=s.templates.determineTitle(n)||!1;o.performance.display(),o.debug(\"History change event\",n,t),h=t,n!==i&&o.changeTab(n),a&&e.address.title(a)}}},refresh:function(){p&&(o.debug(\"Refreshing tab\",p),o.changeTab(p))},cache:{read:function(e){return e!==i?S[e]:!1},add:function(e,t){e=e||p,o.debug(\"Adding cached content for\",e),S[e]=t},remove:function(e){e=e||p,o.debug(\"Removing cached content for\",e),delete S[e]}},set:{auto:function(){var t=\"string\"==typeof s.path?s.path.replace(/\\/$/,\"\")+\"/{$tab}\":\"/{$tab}\";o.verbose(\"Setting up automatic tab retrieval from server\",t),e.isPlainObject(s.apiSettings)?s.apiSettings.url=t:s.apiSettings={url:t}},state:function(t){e.address.value(t)}},changeTab:function(i){var a=t.history&&t.history.pushState,r=a&&s.ignoreFirstLoad&&A,c=s.auto||e.isPlainObject(s.apiSettings),l=c&&!r?o.utilities.pathToArray(i):o.get.defaultPathArray(i);i=o.utilities.arrayToPath(l),e.each(l,function(t,a){var u,d,m,f,g=l.slice(0,t+1),b=o.utilities.arrayToPath(g),y=o.is.tab(b),x=t+1==l.length,C=o.get.tabElement(b);if(o.verbose(\"Looking for tab\",a),y){if(o.verbose(\"Tab was found\",a),p=b,v=o.utilities.filterArray(l,g),x?f=!0:(d=l.slice(0,t+2),m=o.utilities.arrayToPath(d),f=!o.is.tab(m),f&&o.verbose(\"Tab parameters found\",d)),f&&c)return r?(o.debug(\"Ignoring remote content on first tab load\",b),A=!1,o.cache.add(i,C.html()),o.activate.all(b),s.onTabInit.call(C,b,v,h),s.onTabLoad.call(C,b,v,h)):(o.activate.navigation(b),o.content.fetch(b,i)),!1;o.debug(\"Opened local tab\",b),o.activate.all(b),o.cache.read(b)||(o.cache.add(b,!0),o.debug(\"First time tab loaded calling tab init\"),s.onTabInit.call(C,b,v,h)),s.onTabLoad.call(C,b,v,h)}else{if(-1!=i.search(\"/\")||\"\"===i)return o.error(w.missingTab,k,n,b),!1;if(u=e(\"#\"+i+', a[name=\"'+i+'\"]'),b=u.closest(\"[data-tab]\").data(\"tab\"),C=o.get.tabElement(b),u&&u.length>0&&b)return o.debug(\"No tab found, but deep anchor link present, opening parent tab\"),o.activate.all(b),o.cache.read(b)||(o.cache.add(b,!0),o.debug(\"First time tab loaded calling tab init\"),s.onTabInit.call(C,b,v,h)),!1}})},content:{fetch:function(t,n){var a,r,c=o.get.tabElement(t),l={dataType:\"html\",on:\"now\",onSuccess:function(e){o.cache.add(n,e),o.content.update(t,e),t==p?(o.debug(\"Content loaded\",t),o.activate.tab(t)):o.debug(\"Content loaded in background\",t),s.onTabInit.call(c,t,v,h),s.onTabLoad.call(c,t,v,h)},urlData:{tab:n}},u=c.api(\"get request\")||!1,d=u&&\"pending\"===u.state();n=n||t,r=o.cache.read(n),o.activate.tab(t),s.cache&&r?(o.debug(\"Showing existing content\",n),o.content.update(t,r),s.onTabLoad.call(c,t,v,h)):d?(o.debug(\"Content is already loading\",n),c.addClass(b.loading)):e.api!==i?(a=e.extend(!0,{headers:{\"X-Remote\":!0}},s.apiSettings,l),o.debug(\"Retrieving remote content\",n,a),c.api(a)):o.error(w.api)},update:function(e,t){o.debug(\"Updating html for\",e);var n=o.get.tabElement(e);n.html(t)}},activate:{all:function(e){o.activate.tab(e),o.activate.navigation(e)},tab:function(e){var t=o.get.tabElement(e);o.verbose(\"Showing tab content for\",t),t.addClass(b.active).siblings(g).removeClass(b.active+\" \"+b.loading)},navigation:function(e){var t=o.get.navElement(e);o.verbose(\"Activating tab navigation for\",t,e),t.addClass(b.active).siblings(r).removeClass(b.active+\" \"+b.loading)}},deactivate:{all:function(){o.deactivate.navigation(),o.deactivate.tabs()},navigation:function(){r.removeClass(b.active)},tabs:function(){g.removeClass(b.active+\" \"+b.loading)}},is:{tab:function(e){return e!==i?o.get.tabElement(e).length>0:!1}},get:{initialPath:function(){return r.eq(0).data(y.tab)||g.eq(0).data(y.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return o.utilities.pathToArray(o.get.defaultPath(e))},defaultPath:function(e){var t=r.filter(\"[data-\"+y.tab+'^=\"'+e+'/\"]').eq(0),n=t.data(y.tab)||!1;if(n){if(o.debug(\"Found default tab\",n),P<s.maxDepth)return P++,o.get.defaultPath(n);o.error(w.recursion)}else o.debug(\"No default tabs found for\",e,g);return P=0,e},navElement:function(e){return e=e||p,r.filter(\"[data-\"+y.tab+'=\"'+e+'\"]')},tabElement:function(e){var t,n,i,a;return e=e||p,i=o.utilities.pathToArray(e),a=o.utilities.last(i),t=g.filter(\"[data-\"+y.tab+'=\"'+a+'\"]'),\nn=g.filter(\"[data-\"+y.tab+'=\"'+e+'\"]'),t.length>0?t:n},tab:function(){return p}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===i&&(e=p),\"string\"==typeof e?e.split(\"/\"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join(\"/\"):!1}},setting:function(t,n){if(o.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,s,t);else{if(n===i)return s[t];s[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},debug:function(){s.debug&&(s.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,s.name+\":\"),o.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,s.name+\":\"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,s.name+\":\"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;s.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:E,\"Execution Time\":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,100)},display:function(){var t=s.name+\":\",n=0;l=!1,clearTimeout(o.performance.timer),e.each(u,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",c&&(t+=\" '\"+c+\"'\"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),u=[]}},invoke:function(t,n,r){var s,c,l,u=F;return n=n||f,r=E||r,\"string\"==typeof t&&u!==i&&(t=t.split(/[\\. ]/),s=t.length-1,e.each(t,function(n,a){var r=n!=s?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return c=u[r],!1;if(!e.isPlainObject(u[a])||n==s)return u[a]!==i?(c=u[a],!1):(o.error(w.method,t),!1);u=u[a]}})),e.isFunction(c)?l=c.apply(r,n):c!==i&&(l=c),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),c}},m?(F===i&&o.initialize(),o.invoke(d)):(F!==i&&F.invoke(\"destroy\"),o.initialize())}),o&&!m&&o.initializeHistory(),a!==i?a:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:\"Tab\",namespace:\"tab\",debug:!1,verbose:!0,performance:!0,auto:!1,history:!1,historyType:\"hash\",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,onTabInit:function(e,t,n){},onTabLoad:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:\"You attempted to load content without API module\",method:\"The method you called is not defined\",missingTab:\"Activated tab cannot be found for this context.\",noContent:\"The tab you specified is missing a content url.\",path:\"History enabled, but no path was specified\",recursion:\"Max recursive depth reached\",state:\"History requires Asual's Address library <https://github.com/asual/jquery-address>\"},metadata:{tab:\"tab\",loaded:\"loaded\",promise:\"promise\"},className:{loading:\"loading\",active:\"active\"},selector:{tabs:\".ui.tab\",ui:\".ui\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.transition=function(){{var o,a=e(this),r=a.selector||\"\",s=(new Date).getTime(),c=[],l=arguments,u=l[0],d=[].slice.call(arguments,1),m=\"string\"==typeof u;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)}}return a.each(function(t){var f,g,p,v,h,b,y,x,w,C,T,k=e(this),S=this;T={initialize:function(){f=T.get.settings.apply(S,l),v=f.className,p=f.error,h=f.metadata,C=\".\"+f.namespace,w=\"module-\"+f.namespace,g=k.data(w)||T,y=T.get.animationEndEvent(),x=T.get.animationName(),b=T.get.animationStartEvent(),m&&(m=T.invoke(u)),m===!1&&(T.verbose(\"Converted arguments into settings object\",f),f.interval?T.delay(f.animate):T.animate(),T.instantiate())},instantiate:function(){T.verbose(\"Storing instance of module\",T),g=T,k.data(w,g)},destroy:function(){T.verbose(\"Destroying previous module for\",S),k.removeData(w)},refresh:function(){T.verbose(\"Refreshing display type on next animation\"),delete T.displayType},forceRepaint:function(){T.verbose(\"Forcing element repaint\");var e=k.parent(),t=k.next();0===t.length?k.detach().appendTo(e):k.detach().insertBefore(t)},repaint:function(){T.verbose(\"Repainting element\");S.offsetWidth},delay:function(e){var n,o=f.reverse===!0,r=\"auto\"==f.reverse&&T.get.direction()==v.outward;e=typeof e!==i?e:f.interval,n=o||r?(a.length-t)*f.interval:t*f.interval,T.debug(\"Delaying animation by\",n),setTimeout(T.animate,n)},animate:function(e){if(f=e||f,!T.is.supported())return T.error(p.support),!1;if(T.debug(\"Preparing animation\",f.animation),T.is.animating()){if(f.queue)return!f.allowRepeats&&T.has.direction()&&T.is.occurring()&&T.queuing!==!0?T.debug(\"Animation is currently occurring, preventing queueing same animation\",f.animation):T.queue(f.animation),!1;if(!f.allowRepeats&&T.is.occurring())return T.debug(\"Animation is already occurring, will not execute repeated animation\",f.animation),!1;T.debug(\"New animation started, completing previous early\",f.animation),T.complete()}T.can.animate()?T.set.animating(f.animation):T.error(p.noAnimation,f.animation,S)},reset:function(){T.debug(\"Resetting animation to beginning conditions\"),T.remove.animationCallbacks(),T.restore.conditions(),T.remove.animating()},queue:function(e){T.debug(\"Queueing animation of\",e),T.queuing=!0,k.one(y+\".queue\"+C,function(){T.queuing=!1,T.repaint(),T.animate.apply(this,f)})},complete:function(e){T.debug(\"Animation complete\",f.animation),T.remove.completeCallback(),T.remove.failSafe(),T.is.looping()||(T.is.outward()?(T.verbose(\"Animation is outward, hiding element\"),T.restore.conditions(),T.hide(),f.onHide.call(this)):T.is.inward()?(T.verbose(\"Animation is outward, showing element\"),T.restore.conditions(),T.show(),f.onShow.call(this)):T.restore.conditions(),T.remove.animation(),T.remove.animating()),f.onComplete.call(this)},has:{direction:function(t){var n=!1;return t=t||f.animation,\"string\"==typeof t&&(t=t.split(\" \"),e.each(t,function(e,t){(t===v.inward||t===v.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=k.attr(\"style\")||\"\";return e.isArray(t.match(/display.*?;/,\"\"))}},set:{animating:function(e){e=e||f.animation,T.is.animating()||T.save.conditions(),T.remove.direction(),T.remove.completeCallback(),T.can.transition()&&!T.has.direction()&&T.set.direction(),T.remove.hidden(),T.set.display(),k.addClass(v.animating+\" \"+v.transition+\" \"+e).addClass(e).one(y+\".complete\"+C,T.complete),f.useFailSafe&&T.add.failSafe(),T.set.duration(f.duration),f.onStart.call(this),T.debug(\"Starting tween\",e,k.attr(\"class\"))},duration:function(e,t){t=t||f.duration,t=\"number\"==typeof t?t+\"ms\":t,(t||0===t)&&(T.verbose(\"Setting animation duration\",t),k.css({\"-webkit-animation-duration\":t,\"-moz-animation-duration\":t,\"-ms-animation-duration\":t,\"-o-animation-duration\":t,\"animation-duration\":t}))},display:function(){var e=T.get.style(),t=T.get.displayType(),n=e+\"display: \"+t+\" !important;\";k.css(\"display\",\"\"),T.refresh(),k.css(\"display\")!==t&&(T.verbose(\"Setting inline visibility to\",t),k.attr(\"style\",n))},direction:function(){k.is(\":visible\")&&!T.is.hidden()?(T.debug(\"Automatically determining the direction of animation\",\"Outward\"),k.removeClass(v.inward).addClass(v.outward)):(T.debug(\"Automatically determining the direction of animation\",\"Inward\"),k.removeClass(v.outward).addClass(v.inward))},looping:function(){T.debug(\"Transition set to loop\"),k.addClass(v.looping)},hidden:function(){T.is.hidden()||k.addClass(v.transition).addClass(v.hidden),\"none\"!==k.css(\"display\")&&(T.verbose(\"Overriding default display to hide element\"),k.css(\"display\",\"none\"))},visible:function(){k.addClass(v.transition).addClass(v.visible)}},save:{displayType:function(e){k.data(h.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,T.verbose(\"Saving existence of transition\",t,n)},conditions:function(){k.attr(\"class\")||!1,k.attr(\"style\")||\"\";k.removeClass(f.animation),T.remove.direction(),T.cache={className:k.attr(\"class\"),style:T.get.style()},T.verbose(\"Saving original attributes\",T.cache)}},restore:{conditions:function(){return T.cache===i?!1:(T.cache.className?k.attr(\"class\",T.cache.className):k.removeAttr(\"class\"),T.cache.style?(T.verbose(\"Restoring original style attribute\",T.cache.style),k.attr(\"style\",T.cache.style)):(T.verbose(\"Clearing style attribute\"),k.removeAttr(\"style\")),void T.verbose(\"Restoring original attributes\",T.cache))}},add:{failSafe:function(){var e=T.get.duration();T.timer=setTimeout(function(){k.trigger(y)},e+f.failSafeDelay),T.verbose(\"Adding fail safe timer\",T.timer)}},remove:{animating:function(){k.removeClass(v.animating)},animation:function(){k.css({\"-webkit-animation\":\"\",\"-moz-animation\":\"\",\"-ms-animation\":\"\",\"-o-animation\":\"\",animation:\"\"})},animationCallbacks:function(){T.remove.queueCallback(),T.remove.completeCallback()},queueCallback:function(){k.off(\".queue\"+C)},completeCallback:function(){k.off(\".complete\"+C)},display:function(){k.css(\"display\",\"\")},direction:function(){k.removeClass(v.inward).removeClass(v.outward)},failSafe:function(){T.verbose(\"Removing fail safe timer\",T.timer),T.timer&&clearTimeout(T.timer)},hidden:function(){k.removeClass(v.hidden)},visible:function(){k.removeClass(v.visible)},looping:function(){T.debug(\"Transitions are no longer looping\"),T.is.looping()&&(T.reset(),k.removeClass(v.looping))},transition:function(){k.removeClass(v.visible).removeClass(v.hidden)}},get:{settings:function(t,n,i){return\"object\"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):\"function\"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):\"string\"==typeof n||\"number\"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):\"object\"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):\"function\"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},direction:function(t){return t=t||f.animation,\"string\"==typeof t&&(t=t.split(\" \"),e.each(t,function(e,t){return t===v.inward?v.inward:t===v.outward?v.outward:void 0})),T.can.transition()?k.is(\":visible\")&&!T.is.hidden()?v.outward:v.inward:\"static\"},duration:function(e){return e=e||f.duration,e===!1&&(e=k.css(\"animation-duration\")||0),\"string\"==typeof e?e.indexOf(\"ms\")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return f.displayType?f.displayType:(k.data(h.displayType)===i&&T.can.transition(!0),k.data(h.displayType))},style:function(){var e=k.attr(\"style\")||\"\";return e.replace(/display.*?;/,\"\")},transitionExists:function(t){return e.fn.transition.exists[t]},animationName:function(){var e,t=n.createElement(\"div\"),o={animation:\"animationName\",OAnimation:\"oAnimationName\",MozAnimation:\"mozAnimationName\",WebkitAnimation:\"webkitAnimationName\"};for(e in o)if(t.style[e]!==i)return o[e];return!1},animationStartEvent:function(){var e,t=n.createElement(\"div\"),o={animation:\"animationstart\",OAnimation:\"oAnimationStart\",MozAnimation:\"mozAnimationStart\",WebkitAnimation:\"webkitAnimationStart\"};for(e in o)if(t.style[e]!==i)return o[e];return!1},animationEndEvent:function(){var e,t=n.createElement(\"div\"),o={animation:\"animationend\",OAnimation:\"oAnimationEnd\",MozAnimation:\"mozAnimationEnd\",WebkitAnimation:\"webkitAnimationEnd\"};for(e in o)if(t.style[e]!==i)return o[e];return!1}},can:{transition:function(t){var n,o,a,r,s,c=k.attr(\"class\"),l=k.prop(\"tagName\"),u=f.animation,d=T.get.transitionExists(u);if(d===i||t){if(T.verbose(\"Determining whether animation exists\"),n=e(\"<\"+l+\" />\").addClass(c).insertAfter(k),o=n.addClass(u).removeClass(v.inward).removeClass(v.outward).addClass(v.animating).addClass(v.transition).css(x),a=n.addClass(v.inward).css(x),s=n.attr(\"class\",c).removeAttr(\"style\").removeClass(v.hidden).removeClass(v.visible).show().css(\"display\"),T.verbose(\"Determining final display state\",s),T.save.displayType(s),n.remove(),o!=a)T.debug(\"Direction exists for animation\",u),r=!0;else{if(\"none\"==o||!o)return void T.debug(\"No animation defined in css\",u);T.debug(\"Static animation found\",u,s),r=!1}T.save.transitionExists(u,r)}return d!==i?d:r},animate:function(){return T.can.transition()!==i}},is:{animating:function(){return k.hasClass(v.animating)},inward:function(){return k.hasClass(v.inward)},outward:function(){return k.hasClass(v.outward)},looping:function(){return k.hasClass(v.looping)},occurring:function(e){return e=e||f.animation,e=\".\"+e.replace(\" \",\".\"),k.filter(e).length>0},visible:function(){return k.is(\":visible\")},hidden:function(){return\"hidden\"===k.css(\"visibility\")},supported:function(){return x!==!1&&y!==!1}},hide:function(){T.verbose(\"Hiding element\"),T.is.animating()&&T.reset(),T.remove.display(),T.remove.visible(),T.set.hidden(),T.repaint()},show:function(e){T.verbose(\"Showing element\",e),T.remove.hidden(),T.set.visible(),T.set.display(),T.repaint()},toggle:function(){T.is.visible()?T.hide():T.show()},stop:function(){T.debug(\"Stopping current animation\"),k.trigger(y)},stopAll:function(){T.debug(\"Stopping all animation\"),T.remove.queueCallback(),k.trigger(y)},clear:{queue:function(){T.debug(\"Clearing animation queue\"),T.remove.queueCallback()}},enable:function(){T.verbose(\"Starting animation\"),k.removeClass(v.disabled)},disable:function(){T.debug(\"Stopping animation\"),k.addClass(v.disabled)},setting:function(t,n){if(T.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},debug:function(){f.debug&&(f.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,f.name+\":\"),T.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,f.name+\":\"),T.verbose.apply(console,arguments)))},error:function(){T.error=Function.prototype.bind.call(console.error,console,f.name+\":\"),T.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:S,\"Execution Time\":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,100)},display:function(){var t=f.name+\":\",n=0;s=!1,clearTimeout(T.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),a.length>1&&(t+=\" (\"+a.length+\")\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=g;return n=n||d,a=S||a,\"string\"==typeof t&&l!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):!1;l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s!==i?s:!1}},T.initialize()}),o!==i?o:this},e.fn.transition.exists={},e.fn.transition.settings={name:\"Transition\",debug:!1,verbose:!0,performance:!0,namespace:\"transition\",interval:0,reverse:\"auto\",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:\"fade\",duration:!1,queue:!0,metadata:{displayType:\"display\"},className:{animating:\"animating\",disabled:\"disabled\",hidden:\"hidden\",inward:\"in\",loading:\"loading\",looping:\"looping\",outward:\"out\",transition:\"transition\",visible:\"visible\"},error:{noAnimation:\"There is no css animation matching the one you specified.\",repeated:\"That animation is already occurring, cancelling repeated animation\",method:\"The method you called is not defined\",support:\"This browser does not support CSS animations\"}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";t=void 0!==t&&t.Math==Math?t:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")(),e.fn.embed=function(n){var i,o=e(this),a=o.selector||\"\",r=(new Date).getTime(),s=[],l=arguments[0],c=\"string\"==typeof l,u=[].slice.call(arguments,1);return o.each(function(){var d,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),m=f.selector,g=f.className,v=f.sources,p=f.error,h=f.metadata,b=f.namespace,y=f.templates,x=\".\"+b,C=\"module-\"+b,w=(e(t),e(this)),k=w.find(m.placeholder),S=w.find(m.icon),T=w.find(m.embed),A=this,R=w.data(C);d={initialize:function(){d.debug(\"Initializing embed\"),d.determine.autoplay(),d.create(),d.bind.events(),d.instantiate()},instantiate:function(){d.verbose(\"Storing instance of module\",d),R=d,w.data(C,d)},destroy:function(){d.verbose(\"Destroying previous instance of embed\"),d.reset(),w.removeData(C).off(x)},refresh:function(){d.verbose(\"Refreshing selector cache\"),k=w.find(m.placeholder),S=w.find(m.icon),T=w.find(m.embed)},bind:{events:function(){d.has.placeholder()&&(d.debug(\"Adding placeholder events\"),w.on(\"click\"+x,m.placeholder,d.createAndShow).on(\"click\"+x,m.icon,d.createAndShow))}},create:function(){d.get.placeholder()?d.createPlaceholder():d.createAndShow()},createPlaceholder:function(e){var t=d.get.icon(),n=d.get.url();d.generate.embed(n);e=e||d.get.placeholder(),w.html(y.placeholder(e,t)),d.debug(\"Creating placeholder for embed\",e,t)},createEmbed:function(t){d.refresh(),t=t||d.get.url(),T=e(\"<div/>\").addClass(g.embed).html(d.generate.embed(t)).appendTo(w),f.onCreate.call(A,t),d.debug(\"Creating embed object\",T)},changeEmbed:function(e){T.html(d.generate.embed(e))},createAndShow:function(){d.createEmbed(),d.show()},change:function(e,t,n){d.debug(\"Changing video to \",e,t,n),w.data(h.source,e).data(h.id,t),n?w.data(h.url,n):w.removeData(h.url),d.has.embed()?d.changeEmbed():d.create()},reset:function(){d.debug(\"Clearing embed and showing placeholder\"),d.remove.active(),d.remove.embed(),d.showPlaceholder(),f.onReset.call(A)},show:function(){d.debug(\"Showing embed\"),d.set.active(),f.onDisplay.call(A)},hide:function(){d.debug(\"Hiding embed\"),d.showPlaceholder()},showPlaceholder:function(){d.debug(\"Showing placeholder image\"),d.remove.active(),f.onPlaceholderDisplay.call(A)},get:{id:function(){return f.id||w.data(h.id)},placeholder:function(){return f.placeholder||w.data(h.placeholder)},icon:function(){return f.icon?f.icon:void 0!==w.data(h.icon)?w.data(h.icon):d.determine.icon()},source:function(e){return f.source?f.source:void 0!==w.data(h.source)?w.data(h.source):d.determine.source()},type:function(){var e=d.get.source();return void 0!==v[e]&&v[e].type},url:function(){return f.url?f.url:void 0!==w.data(h.url)?w.data(h.url):d.determine.url()}},determine:{autoplay:function(){d.should.autoplay()&&(f.autoplay=!0)},source:function(t){var n=!1;return t=t||d.get.url(),t&&e.each(v,function(e,i){if(-1!==t.search(i.domain))return n=e,!1}),n},icon:function(){var e=d.get.source();return void 0!==v[e]&&v[e].icon},url:function(){var e,t=f.id||w.data(h.id),n=f.source||w.data(h.source);return e=void 0!==v[n]&&v[n].url.replace(\"{id}\",t),e&&w.data(h.url,e),e}},set:{active:function(){w.addClass(g.active)}},remove:{active:function(){w.removeClass(g.active)},embed:function(){T.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(e[t]));return n.join(\"&amp;\")}},generate:{embed:function(e){d.debug(\"Generating embed html\");var t,n,i=d.get.source();return e=d.get.url(e),e?(n=d.generate.parameters(i),t=y.iframe(e,n)):d.error(p.noURL,w),t},parameters:function(t,n){var i=v[t]&&void 0!==v[t].parameters?v[t].parameters(f):{};return n=n||f.parameters,n&&(i=e.extend({},i,n)),i=f.onEmbed(i),d.encode.parameters(i)}},has:{embed:function(){return T.length>0},placeholder:function(){return f.placeholder||w.data(h.placeholder)}},should:{autoplay:function(){return\"auto\"===f.autoplay?f.placeholder||void 0!==w.data(h.placeholder):f.autoplay}},is:{video:function(){return\"video\"==d.get.type()}},setting:function(t,n){if(d.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+\":\"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+\":\"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+\":\"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:A,\"Execution Time\":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+\":\",n=0;r=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",a&&(t+=\" '\"+a+\"'\"),o.length>1&&(t+=\" (\"+o.length+\")\"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a,r,s,l=R;return n=n||u,o=A||o,\"string\"==typeof t&&void 0!==l&&(t=t.split(/[\\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return r=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]?(r=l[i],!1):(d.error(p.method,t),!1);l=l[i]}})),e.isFunction(r)?s=r.apply(o,n):void 0!==r&&(s=r),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),r}},c?(void 0===R&&d.initialize(),d.invoke(l)):(void 0!==R&&R.invoke(\"destroy\"),d.initialize())}),void 0!==i?i:this},e.fn.embed.settings={name:\"Embed\",namespace:\"embed\",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:\"auto\",color:\"#444444\",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:\"id\",icon:\"icon\",placeholder:\"placeholder\",source:\"source\",url:\"url\"},error:{noURL:\"No URL specified\",method:\"The method you called is not defined\"},className:{active:\"active\",embed:\"embed\"},selector:{embed:\".embed\",placeholder:\".placeholder\",icon:\".icon\"},sources:{youtube:{name:\"youtube\",type:\"video\",icon:\"video play\",domain:\"youtube.com\",url:\"//www.youtube.com/embed/{id}\",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||void 0,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI,rel:e.brandedUI}}},vimeo:{name:\"vimeo\",type:\"video\",icon:\"video play\",domain:\"vimeo.com\",url:\"//player.vimeo.com/video/{id}\",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||void 0,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){var n=e;return t&&(n+=\"?\"+t),'<iframe src=\"'+n+'\" width=\"100%\" height=\"100%\" frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n=\"\";return t&&(n+='<i class=\"'+t+' icon\"></i>'),e&&(n+='<img class=\"placeholder\" src=\"'+e+'\">'),n}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.api=e.fn.api=function(n){var o,a=e(e.isFunction(this)?t:this),r=a.selector||\"\",s=(new Date).getTime(),c=[],l=arguments[0],u=\"string\"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var t,a,m,f,g,p=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),v=p.namespace,h=p.metadata,b=p.selector,y=p.error,x=p.className,w=\".\"+v,C=\"module-\"+v,T=e(this),k=T.closest(b.form),S=p.stateContext?e(p.stateContext):T,A=this,P=S.get(),E=T.data(C);g={initialize:function(){var e=g.get.event();u||(e?(g.debug(\"Attaching API events to element\",e),T.on(e+w,g.event.trigger)):\"now\"==p.on&&(g.debug(\"Querying API now\",e),g.query())),g.instantiate()},instantiate:function(){g.verbose(\"Storing instance of module\",g),E=g,T.data(C,E)},destroy:function(){g.verbose(\"Destroying previous module for\",A),T.removeData(C).off(w)},query:function(){if(g.is.disabled())return void g.debug(\"Element is disabled API request aborted\");if(g.is.loading()&&0===p.throttle)return void g.debug(\"Cancelling request, previous request is still pending\");if(p.defaultData&&e.extend(!0,p.urlData,g.get.defaultData()),(p.serializeForm!==!1||S.is(\"form\"))&&(\"json\"==p.serializeForm?e.extend(!0,p.data,g.get.formData()):p.data=g.get.formData()),a=g.get.settings(),a===!1)return g.cancelled=!0,void g.error(y.beforeSend);if(g.cancelled=!1,p.url?(g.debug(\"Using specified url\",m),m=g.add.urlData(p.url)):(m=g.add.urlData(g.get.templateURL()),g.debug(\"Added URL Data to url\",m)),!m){if(!g.is.form())return void g.error(y.missingURL,p.action);m=T.attr(\"action\")||\"\",g.debug(\"No url or action specified, defaulting to form action\",m)}g.set.loading(),t=e.extend(!0,{},p,{type:p.method||p.type,data:f,url:p.base+m,beforeSend:p.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),g.debug(\"Querying URL\",t.url),g.debug(\"Sending data\",f,t.method),g.verbose(\"Using AJAX settings\",t),g.is.loading()?g.timer=setTimeout(function(){g.request=g.create.request(),g.xhr=g.create.xhr(),p.onRequest.call(P,g.request,g.xhr)},p.throttle):(g.request=g.create.request(),g.xhr=g.create.xhr(),p.onRequest.call(P,g.request,g.xhr))},is:{disabled:function(){return T.filter(p.filter).length>0},form:function(){return T.is(\"form\")},input:function(){return T.is(\"input\")},loading:function(){return g.request&&\"pending\"==g.request.state()}},was:{cancelled:function(){return g.cancelled||!1},succesful:function(){return g.request&&\"resolved\"==g.request.state()},failure:function(){return g.request&&\"rejected\"==g.request.state()},complete:function(){return g.request&&(\"resolved\"==g.request.state()||\"rejected\"==g.request.state())}},add:{urlData:function(t,n){var o,a;return t&&(o=t.match(p.regExp.required),a=t.match(p.regExp.optional),n=n||p.urlData,o&&(g.debug(\"Looking for required URL variables\",o),e.each(o,function(o,a){var r=-1!==a.indexOf(\"$\")?a.substr(2,a.length-3):a.substr(1,a.length-2),s=e.isPlainObject(n)&&n[r]!==i?n[r]:T.data(r)!==i?T.data(r):S.data(r)!==i?S.data(r):n[r];return s===i?(g.error(y.requiredParameter,r,t),t=!1,!1):(g.verbose(\"Found required variable\",r,s),void(t=t.replace(a,s)))})),a&&(g.debug(\"Looking for optional URL variables\",o),e.each(a,function(o,a){var r=-1!==a.indexOf(\"$\")?a.substr(3,a.length-4):a.substr(2,a.length-3),s=e.isPlainObject(n)&&n[r]!==i?n[r]:T.data(r)!==i?T.data(r):S.data(r)!==i?S.data(r):n[r];s!==i?(g.verbose(\"Optional variable Found\",r,s),t=t.replace(a,s)):(g.verbose(\"Optional variable not found\",r),t=-1!==t.indexOf(\"/\"+a)?t.replace(\"/\"+a,\"\"):t.replace(a,\"\"))}))),t}},event:{trigger:function(e){g.query(),(\"submit\"==e.type||\"click\"==e.type)&&e.preventDefault()},xhr:{always:function(){},done:function(e){var t=this,n=(new Date).getTime()-s,i=p.loadingDuration-n;i=i>0?i:0,setTimeout(function(){g.request.resolveWith(t,[e])},i)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-s,a=p.loadingDuration-o;a=a>0?a:0,setTimeout(function(){\"abort\"!==t?g.request.rejectWith(i,[e,t,n]):g.reset()},a)}},request:{complete:function(e){g.remove.loading(),p.onComplete.call(P,e,T)},done:function(t){g.debug(\"API Response Received\",t),\"json\"==p.dataType&&e.isFunction(p.successTest)?(g.debug(\"Checking JSON returned success\",p.successTest,t),p.successTest(t)?p.onSuccess.call(P,t,T):(g.debug(\"JSON test specified by user and response failed\",t),p.onFailure.call(P,t,T))):p.onSuccess.call(P,t,T)},error:function(n,o,a){var r,s=p.error[o]!==i?p.error[o]:a;if(n!==i)if(n.readyState!==i&&4==n.readyState){if(200!=n.status&&a!==i&&\"\"!==a)g.error(y.statusMessage+a,t.url);else if(\"error\"==o&&\"json\"==p.dataType)try{r=e.parseJSON(n.responseText),r&&r.error!==i&&(s=r.error)}catch(c){g.error(y.JSONParse)}g.remove.loading(),g.set.error(),p.errorDuration&&setTimeout(g.remove.error,p.errorDuration),g.debug(\"API Request error:\",s),p.onError.call(P,s,T)}else p.onAbort.call(P,s,T),g.debug(\"Request Aborted (Most likely caused by page change or CORS Policy)\",o,a)}}},create:{request:function(){return e.Deferred().always(g.event.request.complete).done(g.event.request.done).fail(g.event.request.error)},xhr:function(){return e.ajax(t).always(g.event.xhr.always).done(g.event.xhr.done).fail(g.event.xhr.fail)}},set:{error:function(){g.verbose(\"Adding error state to element\",S),S.addClass(x.error)},loading:function(){g.verbose(\"Adding loading state to element\",S),S.addClass(x.loading)}},remove:{error:function(){g.verbose(\"Removing error state from element\",S),S.removeClass(x.error)},loading:function(){g.verbose(\"Removing loading state from element\",S),S.removeClass(x.loading)}},get:{request:function(){return g.request||!1},xhr:function(){return g.xhr||!1},settings:function(){var e;return e=p.beforeSend.call(T,p),e&&(e.success!==i&&(g.debug(\"Legacy success callback detected\",e),g.error(y.legacyParameters,e.success),e.onSuccess=e.success),e.failure!==i&&(g.debug(\"Legacy failure callback detected\",e),g.error(y.legacyParameters,e.failure),e.onFailure=e.failure),e.complete!==i&&(g.debug(\"Legacy complete callback detected\",e),g.error(y.legacyParameters,e.complete),e.onComplete=e.complete)),e===i&&g.error(y.noReturnedValue),e!==i?e:p},defaultData:function(){var t={};return e.isWindow(A)||(g.is.input()?t.value=T.val():g.is.form()&&(t.text=T.text())),t},event:function(){return e.isWindow(A)||\"now\"==p.on?(g.debug(\"API called without element, no events attached\"),!1):\"auto\"==p.on?T.is(\"input\")?A.oninput!==i?\"input\":A.onpropertychange!==i?\"propertychange\":\"keyup\":T.is(\"form\")?\"submit\":\"click\":p.on},formData:function(){var e;return T.serializeObject!==i?e=k.serializeObject():(g.error(y.missingSerialize),e=k.serialize()),g.debug(\"Retrieved form data\",e),e},templateURL:function(e){var t;return e=e||T.data(h.action)||p.action||!1,e&&(g.debug(\"Looking up url for action\",e,p.api),p.api[e]!==i?(t=p.api[e],g.debug(\"Found template url\",t)):g.is.form()||g.error(y.missingAction,p.action,p.api)),t}},abort:function(){var e=g.get.xhr();e&&\"resolved\"!==e.state()&&(g.debug(\"Cancelling API request\"),e.abort(),g.request.rejectWith(p.apiSettings))},reset:function(){g.remove.error(),g.remove.loading()},setting:function(t,n){if(g.debug(\"Changing setting\",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){p.debug&&(p.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,p.name+\":\"),g.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,p.name+\":\"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,p.name+\":\"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",\"Execution Time\":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=p.name+\":\",n=0;s=!1,clearTimeout(g.performance.timer),e.each(c,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",r&&(t+=\" '\"+r+\"'\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=E;return n=n||d,a=A||a,\"string\"==typeof t&&l!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(g.error(y.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},u?(E===i&&g.initialize(),g.invoke(l)):(E!==i&&E.invoke(\"destroy\"),g.initialize())}),o!==i?o:this},e.api.settings={name:\"API\",namespace:\"api\",debug:!0,verbose:!1,performance:!0,on:\"auto\",filter:\".disabled\",stateContext:!1,loadingDuration:0,errorDuration:2e3,action:!1,url:!1,base:\"\",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,method:\"get\",data:{},dataType:\"json\",beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:\"The before send function has aborted the request\",error:\"There was an error with your request\",exitConditions:\"API Request Aborted. Exit conditions met\",JSONParse:\"JSON could not be parsed during error handling\",legacyParameters:\"You are using legacy API success callback names\",method:\"The method you called is not defined\",missingAction:\"API action used but no url was defined\",\nmissingSerialize:\"Required dependency jquery-serialize-object missing, using basic serialize\",missingURL:\"No URL specified for api event\",noReturnedValue:\"The beforeSend callback must return a settings object, beforeSend ignored.\",parseError:\"There was an error parsing your request\",requiredParameter:\"Missing a required URL parameter: \",statusMessage:\"Server gave an error: \",timeout:\"Your request timed out\"},regExp:{required:/\\{\\$*[A-z0-9]+\\}/g,optional:/\\{\\/\\$*[A-z0-9]+\\}/g},className:{loading:\"loading\",error:\"error\"},selector:{form:\"form\"},metadata:{action:\"action\"}},e.api.settings.api={}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.state=function(t){var o,a=e(this),r=a.selector||\"\",s=(\"ontouchstart\"in n.documentElement,(new Date).getTime()),c=[],l=arguments[0],u=\"string\"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var n,m=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),f=m.error,g=m.metadata,p=m.className,v=m.namespace,h=m.states,b=m.text,y=\".\"+v,x=v+\"-module\",w=e(this),C=this,T=w.data(x);n={initialize:function(){n.verbose(\"Initializing module\"),m.automatic&&n.add.defaults(),m.context&&\"\"!==r?e(m.context).on(r,\"mouseenter\"+y,n.change.text).on(r,\"mouseleave\"+y,n.reset.text).on(r,\"click\"+y,n.toggle.state):w.on(\"mouseenter\"+y,n.change.text).on(\"mouseleave\"+y,n.reset.text).on(\"click\"+y,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose(\"Storing instance of module\",n),T=n,w.data(x,n)},destroy:function(){n.verbose(\"Destroying previous module\",T),w.off(y).removeData(x)},refresh:function(){n.verbose(\"Refreshing selector cache\"),w=e(C)},add:{defaults:function(){var o=t&&e.isPlainObject(t.states)?t.states:{};e.each(m.defaults,function(t,a){n.is[t]!==i&&n.is[t]()&&(n.verbose(\"Adding default states\",t,C),e.extend(m.states,a,o))})}},is:{active:function(){return w.hasClass(p.active)},loading:function(){return w.hasClass(p.loading)},inactive:function(){return!w.hasClass(p.active)},state:function(e){return p[e]===i?!1:w.hasClass(p[e])},enabled:function(){return!w.is(m.filter.active)},disabled:function(){return w.is(m.filter.active)},textEnabled:function(){return!w.is(m.filter.text)},button:function(){return w.is(\".button:not(a, .submit)\")},input:function(){return w.is(\"input\")},progress:function(){return w.is(\".ui.progress\")}},allow:function(e){n.debug(\"Now allowing state\",e),h[e]=!0},disallow:function(e){n.debug(\"No longer allowing\",e),h[e]=!1},allows:function(e){return h[e]||!1},enable:function(){w.removeClass(p.disabled)},disable:function(){w.addClass(p.disabled)},setState:function(e){n.allows(e)&&w.addClass(p[e])},removeState:function(e){n.allows(e)&&w.removeClass(p[e])},toggle:{state:function(){var t,o;if(n.allows(\"active\")&&n.is.enabled()){if(n.refresh(),e.fn.api!==i)if(t=w.api(\"get request\"),o=w.api(\"was cancelled\"))n.debug(\"API Request cancelled by beforesend\"),m.activateTest=function(){return!1},m.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug(\"API request detected, waiting for state signal\",t),t&&(b.loading&&n.update.text(b.loading),e.when(t).then(function(){\"resolved\"==t.state()?(n.debug(\"API request succeeded\"),m.activateTest=function(){return!0},m.deactivateTest=function(){return!0}):(n.debug(\"API request failed\"),m.activateTest=function(){return!1},m.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug(\"Determining state change direction\"),n.is.inactive()?n.activate():n.deactivate(),m.sync&&n.sync(),m.onChange.call(C)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose(\"Changing text to disabled text\",b.hover),n.update.text(b.disabled)):n.is.active()?b.hover?(n.verbose(\"Changing text to hover text\",b.hover),n.update.text(b.hover)):b.deactivate&&(n.verbose(\"Changing text to deactivating text\",b.deactivate),n.update.text(b.deactivate)):b.hover?(n.verbose(\"Changing text to hover text\",b.hover),n.update.text(b.hover)):b.activate&&(n.verbose(\"Changing text to activating text\",b.activate),n.update.text(b.activate)))}},activate:function(){m.activateTest.call(C)&&(n.debug(\"Setting state to active\"),w.addClass(p.active),n.update.text(b.active),m.onActivate.call(C))},deactivate:function(){m.deactivateTest.call(C)&&(n.debug(\"Setting state to inactive\"),w.removeClass(p.active),n.update.text(b.inactive),m.onDeactivate.call(C))},sync:function(){n.verbose(\"Syncing other buttons to current state\"),a.not(w).state(n.is.active()?\"activate\":\"deactivate\")},get:{text:function(){return m.selector.text?w.find(m.selector.text).text():w.html()},textFor:function(e){return b[e]||!1}},flash:{text:function(e,t,i){var o=n.get.text();n.debug(\"Flashing text message\",e,t),e=e||m.text.flash,t=t||m.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(o),i.call(C)},t)}},reset:{text:function(){var e=b.active||w.data(g.storedText),t=b.inactive||w.data(g.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose(\"Resetting active text\",e),n.update.text(e)):t&&(n.verbose(\"Resetting inactive text\",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug(\"Updating text\",e),m.selector.text?w.data(g.storedText,e).find(m.selector.text).text(e):w.data(g.storedText,e).html(e)):n.debug(\"Text is already set, ignoring update\",e)}},setting:function(t,o){if(n.debug(\"Changing setting\",t,o),e.isPlainObject(t))e.extend(!0,m,t);else{if(o===i)return m[t];m[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){m.debug&&(m.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,m.name+\":\"),n.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,m.name+\":\"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,m.name+\":\"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;m.performance&&(t=(new Date).getTime(),o=s||t,i=t-o,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:C,\"Execution Time\":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=m.name+\":\",o=0;s=!1,clearTimeout(n.performance.timer),e.each(c,function(e,t){o+=t[\"Execution Time\"]}),t+=\" \"+o+\"ms\",r&&(t+=\" '\"+r+\"'\"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),c=[]}},invoke:function(t,a,r){var s,c,l,u=T;return a=a||d,r=C||r,\"string\"==typeof t&&u!==i&&(t=t.split(/[\\. ]/),s=t.length-1,e.each(t,function(o,a){var r=o!=s?a+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(u[r])&&o!=s)u=u[r];else{if(u[r]!==i)return c=u[r],!1;if(!e.isPlainObject(u[a])||o==s)return u[a]!==i?(c=u[a],!1):(n.error(f.method,t),!1);u=u[a]}})),e.isFunction(c)?l=c.apply(r,a):c!==i&&(l=c),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),c}},u?(T===i&&n.initialize(),n.invoke(l)):(T!==i&&T.invoke(\"destroy\"),n.initialize())}),o!==i?o:this},e.fn.state.settings={name:\"State\",debug:!1,verbose:!0,namespace:\"state\",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:\".loading, .disabled\",active:\".disabled\"},context:!1,error:{beforeSend:\"The before send function has cancelled state change\",method:\"The method you called is not defined.\"},metadata:{promise:\"promise\",storedText:\"stored-text\"},className:{active:\"active\",disabled:\"disabled\",error:\"error\",loading:\"loading\",success:\"success\",warning:\"warning\"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){\"use strict\";e.fn.visibility=function(o){var a,r=e(this),s=r.selector||\"\",c=(new Date).getTime(),l=[],u=arguments[0],d=\"string\"==typeof u,m=[].slice.call(arguments,1);return r.each(function(){var r,f,g=e.isPlainObject(o)?e.extend(!0,{},e.fn.visibility.settings,o):e.extend({},e.fn.visibility.settings),p=g.className,v=g.namespace,h=g.error,b=\".\"+v,y=\"module-\"+v,x=e(t),w=e(this),C=e(g.context),T=(w.selector||\"\",w.data(y)),k=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},S=this;f={initialize:function(){f.debug(\"Initializing\",g),f.setup.cache(),f.save.position(),f.should.trackChanges()&&(f.bind.events(),\"image\"==g.type&&f.setup.image(),\"fixed\"==g.type&&f.setup.fixed(),g.observeChanges&&f.observeChanges(),f.is.visible()||f.error(h.visible,w)),g.initialCheck&&f.checkVisibility(),f.instantiate()},instantiate:function(){f.debug(\"Storing instance\",f),w.data(y,f),T=f},destroy:function(){f.verbose(\"Destroying previous module\"),r&&r.disconnect(),x.off(\"load\"+b,f.event.load).off(\"resize\"+b,f.event.resize),C.off(\"scrollchange\"+b,f.event.scrollchange),w.off(b).removeData(y)},observeChanges:function(){C[0];\"MutationObserver\"in t&&(r=new MutationObserver(function(e){f.verbose(\"DOM tree modified, updating visibility calculations\"),f.timer=setTimeout(function(){f.verbose(\"DOM tree modified, updating sticky menu\"),f.refresh()},100)}),r.observe(S,{childList:!0,subtree:!0}),f.debug(\"Setting up mutation observer\",r))},bind:{events:function(){f.verbose(\"Binding visibility events to scroll and resize\"),x.on(\"load\"+b,f.event.load).on(\"resize\"+b,f.event.resize),C.off(\"scroll\"+b).on(\"scroll\"+b,f.event.scroll).on(\"scrollchange\"+b,f.event.scrollchange)},imageLoad:function(){var t=w.find(\"img\"),i=t.length,o=i,a=0,r=[],s=[],c=n.createElement(\"img\"),l=function(){a++,a>=i&&(f.debug(\"Images finished loading inside element, refreshing position\"),f.refresh())};if(i>0)for(t.each(function(){r.push(e(this).attr(\"src\"))});o--;)c=n.createElement(\"img\"),c.onload=l,c.onerror=l,c.src=r[o],s.push(c)}},event:{resize:function(){f.debug(\"Window resized\"),k(f.refresh)},load:function(){f.debug(\"Page finished loading\"),k(f.refresh)},scroll:function(){g.throttle?(clearTimeout(f.timer),f.timer=setTimeout(function(){C.trigger(\"scrollchange\"+b,[C.scrollTop()])},g.throttle)):k(function(){C.trigger(\"scrollchange\"+b,[C.scrollTop()])})},scrollchange:function(e,t){f.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,a=0,r=[],s=n.createElement(\"img\"),c=function(){a++,a>=t.length&&e.isFunction(i)&&i()};o--;)s=n.createElement(\"img\"),s.onload=c,s.onerror=c,s.src=t[o],r.push(s)},should:{trackChanges:function(){return d?(f.debug(\"One time query, no need to bind events\"),!1):(f.debug(\"Callbacks being attached\"),!0)}},setup:{cache:function(){f.cache={occurred:{},screen:{},element:{}}},image:function(){var e=w.data(\"src\");e&&(f.verbose(\"Lazy loading image\",e),g.observeChanges=!1,f.topVisible(function(){f.debug(\"Image top visible\",S),f.precache(e,function(){f.set.image(e),g.onTopVisible=!1})}))},fixed:function(){f.verbose(\"Setting up fixed on element pass\"),g.once=!1,g.onTopPassed=function(){w.addClass(p.fixed).css({top:g.offset+\"px\"}),g.transition&&e.fn.transition!==i&&w.transition(g.transition,g.duration)},g.onTopPassedReverse=function(){w.removeClass(p.fixed).css({position:\"\",top:\"\"})}}},set:{image:function(t){var n=f.cache.screen.bottom<f.cache.element.top;w.attr(\"src\",t),n?(f.verbose(\"Image outside browser, no show animation\"),w.show()):g.transition?e.fn.transition!==i?w.transition(g.transition,g.duration):w.fadeIn(g.duration):w.show()}},is:{visible:function(){return f.cache&&f.cache.element?f.cache.element.width>0:!1}},refresh:function(){f.debug(\"Refreshing constants (width/height)\"),f.reset(),f.save.position(),f.checkVisibility(),g.onRefresh.call(S)},reset:function(){f.verbose(\"Reseting all cached values\"),e.isPlainObject(f.cache)&&(f.cache.screen={},f.cache.element={})},checkVisibility:function(e){f.verbose(\"Checking visibility of element\",f.cache.element),f.is.visible()&&(f.save.scroll(e),f.save.calculations(),f.passed(),f.passingReverse(),f.topVisibleReverse(),f.bottomVisibleReverse(),f.topPassedReverse(),f.bottomPassedReverse(),f.passing(),f.topVisible(),f.bottomVisible(),f.topPassed(),f.bottomPassed(),g.onUpdate&&g.onUpdate.call(S,f.get.elementCalculations()))},passed:function(t,n){var o=f.get.elementCalculations();if(t!==i&&n!==i)g.onPassed[t]=n;else{if(t!==i)return f.get.pixelsPassed(t)>o.pixelsPassed;o.passing&&e.each(g.onPassed,function(e,t){o.bottomVisible||o.pixelsPassed>f.get.pixelsPassed(e)?f.execute(t,e):g.once||f.remove.occurred(t)})}},passing:function(e){var t=f.get.elementCalculations(),n=e||g.onPassing,o=\"passing\";return e&&(f.debug(\"Adding callback for passing\",e),g.onPassing=e),t.passing?f.execute(n,o):g.once||f.remove.occurred(o),e!==i?t.passing:void 0},topVisible:function(e){var t=f.get.elementCalculations(),n=e||g.onTopVisible,o=\"topVisible\";return e&&(f.debug(\"Adding callback for top visible\",e),g.onTopVisible=e),t.topVisible?f.execute(n,o):g.once||f.remove.occurred(o),e===i?t.topVisible:void 0},bottomVisible:function(e){var t=f.get.elementCalculations(),n=e||g.onBottomVisible,o=\"bottomVisible\";return e&&(f.debug(\"Adding callback for bottom visible\",e),g.onBottomVisible=e),t.bottomVisible?f.execute(n,o):g.once||f.remove.occurred(o),e===i?t.bottomVisible:void 0},topPassed:function(e){var t=f.get.elementCalculations(),n=e||g.onTopPassed,o=\"topPassed\";return e&&(f.debug(\"Adding callback for top passed\",e),g.onTopPassed=e),t.topPassed?f.execute(n,o):g.once||f.remove.occurred(o),e===i?t.topPassed:void 0},bottomPassed:function(e){var t=f.get.elementCalculations(),n=e||g.onBottomPassed,o=\"bottomPassed\";return e&&(f.debug(\"Adding callback for bottom passed\",e),g.onBottomPassed=e),t.bottomPassed?f.execute(n,o):g.once||f.remove.occurred(o),e===i?t.bottomPassed:void 0},passingReverse:function(e){var t=f.get.elementCalculations(),n=e||g.onPassingReverse,o=\"passingReverse\";return e&&(f.debug(\"Adding callback for passing reverse\",e),g.onPassingReverse=e),t.passing?g.once||f.remove.occurred(o):f.get.occurred(\"passing\")&&f.execute(n,o),e!==i?!t.passing:void 0},topVisibleReverse:function(e){var t=f.get.elementCalculations(),n=e||g.onTopVisibleReverse,o=\"topVisibleReverse\";return e&&(f.debug(\"Adding callback for top visible reverse\",e),g.onTopVisibleReverse=e),t.topVisible?g.once||f.remove.occurred(o):f.get.occurred(\"topVisible\")&&f.execute(n,o),e===i?!t.topVisible:void 0},bottomVisibleReverse:function(e){var t=f.get.elementCalculations(),n=e||g.onBottomVisibleReverse,o=\"bottomVisibleReverse\";return e&&(f.debug(\"Adding callback for bottom visible reverse\",e),g.onBottomVisibleReverse=e),t.bottomVisible?g.once||f.remove.occurred(o):f.get.occurred(\"bottomVisible\")&&f.execute(n,o),e===i?!t.bottomVisible:void 0},topPassedReverse:function(e){var t=f.get.elementCalculations(),n=e||g.onTopPassedReverse,o=\"topPassedReverse\";return e&&(f.debug(\"Adding callback for top passed reverse\",e),g.onTopPassedReverse=e),t.topPassed?g.once||f.remove.occurred(o):f.get.occurred(\"topPassed\")&&f.execute(n,o),e===i?!t.onTopPassed:void 0},bottomPassedReverse:function(e){var t=f.get.elementCalculations(),n=e||g.onBottomPassedReverse,o=\"bottomPassedReverse\";return e&&(f.debug(\"Adding callback for bottom passed reverse\",e),g.onBottomPassedReverse=e),t.bottomPassed?g.once||f.remove.occurred(o):f.get.occurred(\"bottomPassed\")&&f.execute(n,o),e===i?!t.bottomPassed:void 0},execute:function(e,t){var n=f.get.elementCalculations(),i=f.get.screenCalculations();e=e||!1,e&&(g.continuous?(f.debug(\"Callback being called continuously\",t,n),e.call(S,n,i)):f.get.occurred(t)||(f.debug(\"Conditions met\",t,n),e.call(S,n,i))),f.save.occurred(t)},remove:{occurred:function(e){e?f.cache.occurred[e]!==i&&f.cache.occurred[e]===!0&&(f.debug(\"Callback can now be called again\",e),f.cache.occurred[e]=!1):f.cache.occurred={}}},save:{calculations:function(){f.verbose(\"Saving all calculations necessary to determine positioning\"),f.save.direction(),f.save.screenCalculations(),f.save.elementCalculations()},occurred:function(e){e&&(f.cache.occurred[e]===i||f.cache.occurred[e]!==!0)&&(f.verbose(\"Saving callback occurred\",e),f.cache.occurred[e]=!0)},scroll:function(e){e=e+g.offset||C.scrollTop()+g.offset,f.cache.scroll=e},direction:function(){var e,t=f.get.scroll(),n=f.get.lastScroll();return e=t>n&&n?\"down\":n>t&&n?\"up\":\"static\",f.cache.direction=e,f.cache.direction},elementPosition:function(){var e=f.cache.element,t=f.get.screenSize();return f.verbose(\"Saving element position\"),e.fits=e.height<t.height,e.offset=w.offset(),e.width=w.outerWidth(),e.height=w.outerHeight(),f.cache.element=e,e},elementCalculations:function(){var e=f.get.screenCalculations(),t=f.get.elementPosition();return g.includeMargin?(t.margin={},t.margin.top=parseInt(w.css(\"margin-top\"),10),t.margin.bottom=parseInt(w.css(\"margin-bottom\"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.visible=t.topVisible||t.bottomVisible,t.passing=t.topPassed&&!t.bottomPassed,t.hidden=!t.topVisible&&!t.bottomVisible,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),f.cache.element=t,f.verbose(\"Updated element calculations\",t),t},screenCalculations:function(){var e=f.get.scroll();return f.save.direction(),f.cache.screen.top=e,f.cache.screen.bottom=e+f.cache.screen.height,f.cache.screen},screenSize:function(){f.verbose(\"Saving window position\"),f.cache.screen={height:C.height()}},position:function(){f.save.screenSize(),f.save.elementPosition()}},get:{pixelsPassed:function(e){var t=f.get.elementCalculations();return e.search(\"%\")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return f.cache.occurred!==i?f.cache.occurred[e]||!1:!1},direction:function(){return f.cache.direction===i&&f.save.direction(),f.cache.direction},elementPosition:function(){return f.cache.element===i&&f.save.elementPosition(),f.cache.element},elementCalculations:function(){return f.cache.element===i&&f.save.elementCalculations(),f.cache.element},screenCalculations:function(){return f.cache.screen===i&&f.save.screenCalculations(),f.cache.screen},screenSize:function(){return f.cache.screen===i&&f.save.screenSize(),f.cache.screen},scroll:function(){return f.cache.scroll===i&&f.save.scroll(),f.cache.scroll},lastScroll:function(){return f.cache.screen===i?(f.debug(\"First scroll event, no last scroll could be found\"),!1):f.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){g.debug&&(g.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,g.name+\":\"),f.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,g.name+\":\"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,g.name+\":\"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||\"\",Element:S,\"Execution Time\":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=g.name+\":\",n=0;c=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t[\"Execution Time\"]}),t+=\" \"+n+\"ms\",s&&(t+=\" '\"+s+\"'\"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+\": \"+t[\"Execution Time\"]+\"ms\")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,c,l=T;return n=n||m,o=S||o,\"string\"==typeof t&&l!==i&&(t=t.split(/[\\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(f.error(h.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(T===i&&f.initialize(),f.invoke(u)):(T!==i&&T.invoke(\"destroy\"),f.initialize())}),a!==i?a:this},e.fn.visibility.settings={name:\"Visibility\",namespace:\"visibility\",debug:!1,verbose:!1,performance:!0,observeChanges:!0,refreshOnLoad:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,initialCheck:!0,throttle:!1,type:!1,transition:!1,duration:1e3,onPassed:{},onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},className:{fixed:\"fixed\"},error:{method:\"The method you called is not defined.\",visible:\"Element is hidden, you must call refresh after element becomes visible\"}}}(jQuery,window,document);"
"<html>\r\n<head><title>404 Not Found</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>404 Not Found</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n"
"<html>\r\n<head><title>404 Not Found</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>404 Not Found</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n"
