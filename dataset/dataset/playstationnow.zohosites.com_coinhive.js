"/*$Id:$*/\n// common load script \nvar touch=false;\nvar istab=false;\nvar uagent = navigator.userAgent;\nif(uagent.indexOf(\"iPhone\")!=-1||uagent.indexOf(\"iPad\")!=-1||uagent.indexOf(\"Mobile Safari\")!=-1||uagent.indexOf(\"Nokia\")!=-1|| uagent.indexOf(\"Fennec\")!=-1||  uagent.indexOf(\"Opera Mini\")!=-1||uagent.indexOf(\"IEMobile\")!=-1) {\n    touch=true;\n}\nvar mobile =!!(uagent.match(/(iPhone|iPod|blackberry|Nexus|android 0.5|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|Playstation Portable|SonyEricsson|Samsung|MobileExplorer|PalmSource|Benq|Windows Phone|Windows Mobile|IEMobile|Windows CE|Nintendo Wii|SM-T\\d+)/i));\n\nif(uagent.indexOf(\"iPad\")!=-1 || (mobile && uagent.indexOf(\"iPhone\")==-1 && window.innerWidth>=768)){//for ipad and tab\n    istab=true;\n}\n\nfunction v(a,b){\n        for(var c=0,d;d=a[c];c++){\n            if(b==d)\n            return c;\n        }\n        return-1;\n}\nfunction commonLoadScript(src,elem){\n\tif(elem == \"gallery\"){\n\t\tpicasaUserNameValid = false;\n\t}\n    var script = document.createElement('script');\n    if(this.addEventListener){  \n        script.onload = function(){fnAfterLoadScript(src,elem);};\n    }\n    else{\n    \tscript.onreadystatechange = function(){\n        \tif(v([\"loaded\",\"complete\"],this.readyState)>-1){\n            \tthis.onreadystatechange= null;\n                fnAfterLoadScript(src,elem);\n        \t}\n    \t}\n    }\n    script.onerror = function(){fnErrorOnLoadScript(src,elem);}\n    script.src =src;\n    document.getElementsByTagName('head')[0].appendChild(script);\n}\nfunction fnAfterLoadScript(src,elem){\n\tif(elem == \"tWidget\"){\n\t\tenableTwitterWidget();\n\t}\n\telse if(elem == \"tweetButton\"){\n\t\tenableTwitterButton();\n\t}\n\telse if(elem ==\"loadTwitterJS\"){\n\t\tfnloadTwitterJS();\n\t}\n\telse if (elem == \"gallery\" && !window.ZS_PublishMode){ // ie 8\n\t\t if(!picasaUserNameValid){\n\t\t\tparent.fnShowGalleryErrMsg();\n         }       \n\t}\n\telse if(elem  == \"facebook\"){\n\t\tenableFacebookWidget();\n\t}\n\telse if(elem == \"loadFacebookJS\"){\n\t\tcommonLoadScript(\"//connect.facebook.net/en_GB/all.js#xfbml=1\",\"facebook\");\n\t/*}else if(elem == \"setFormContextPath\"){\n\t\tscriptLoaded = true;\n        if(window.ZCApp){\n\t\t    window.ZCApp.contextPath = \"/siteforms\";// No I18N\n            renderFromSave();\n            //getForm(0);\n            if(window.ZCForm){\n                ZCForm.callbackFunc = function(formLinkName, formAccessType, paramsMap, infoMsg, errorMsg, succMsg, succMsgDuration){\n                    if(!formLinkName){\n                        return;\n                    }\n                    var formMsgEle = document.getElementById(\"formMsg_\"+formLinkName);\n                    formMsgEle.style.color = \"green\";\n                    var successMsg = (succMsg===\"zc_success\")?\"\":fnAsString(succMsg);//NO I18N\n                    formMsgEle.innerHTML = successMsg;\n                    formMsgEle.style.display = \"block\";\n                    setTimeout(function(){formMsgEle.style.display=\"none\"}, 5000);\n                    var formElem = fnGetElementByAttribute(\"elname\", formLinkName, \"form\");//NO I18N\n                    formElem.reset();\n                    relodCurrentForm = false;\n                }\n                ZCApp.showErrorDialog = function(headerMsg, message){\n                    var formMsgEle = document.getElementById(\"formMsg_\"+ZohoForms.submittedForm);\n                    formMsgEle.style.color = \"red\";\n                    formMsgEle.innerHTML = fnAsString(message);\n                    formMsgEle.style.display = \"block\";\n                    setTimeout(function(){formMsgEle.style.display=\"none\"}, 5000);\n                }\n            }\n        }*/\n\t}else if(elem == \"map\"){\n\t\tMap.loadMap();\n\t}\n\telse if(elem == \"gplus\"){\n\t\tfnCreateGPlus();\n\t}\n\telse if(elem == \"rendergplus\"){\n\t\tfnLoadGPlusJS();\n\t}\n    else if(elem == \"linkedInButton\"){\n\tcommonLoadScript('/zs-site/assets/v0/js/linkedin.js', \"loadLIFrameworkAPI\"); //No I18N\n\tloadLIShareButton();\n    }\n    else if(elem == \"liShareButton\"){\n        loadLIShareButton();\n    }\n    else if(elem == \"loadLIJS\"){\n        commonLoadScript('/js/linkedin.js', \"loadLIFrameworkNoAPI\");    // No I18N\n    }\n    else if(elem == \"loadLIFrameworkNoAPI\"){\n        loadLIFrameworkNoAPI();\n    }\n    else if(elem == \"loadLIJSAPI\"){\n        commonLoadScript('/js/linkedin.js', \"loadLIFrameworkAPI\");  // No I18N\n    }\n    else if(elem == \"loadLIFramework\"){\n        IN.init();\n    }\n    else if(elem == \"loadLIFrameworkAPI\"){\n        initializeLIFramework();\n\t/*} else if(elem == \"loadCreatorScripts\") {\n        loadCreatorScripts();*/\n    } else if(elem == \"audio\"){\n        loadAudioFiles();\n    }\n}\n\nfunction fnErrorOnLoadScript(src,elem){\n\tif(elem == \"gallery\" && !parent.window.ZS_PublishMode){\n\t\tif(!picasaUserNameValid){\n\t\t\tparent.fnShowGalleryErrMsg();\n        }\n\t} else if(elem == \"loadCreatorScripts\") {\n\t\tcreatorJsLoaded = false;\n\t}\n}\n\n// get domain name \nfunction getDomainName(){\n    var dn= \"your-domain-name.com\";// No I18N\n    if(window.ZS_PublishMode){\n        if(window.location.href.indexOf(\"/preview/\")==-1){\n            dn = window.location.href;\n            /*This will cause issue when menu is hidden.\n                         *var homePage = document.getElementById('nav-top').children[0].firstChild.href;\n            if(dn == homePage){\n                dn = dn.replace(/(h(t)tp:\\/\\/.+\\/).+\\.html/,\"$1\");\n            }*/\n        }\n    }else if(window.ZS_PreviewMode){\n        if(domainName.indexOf(\"NotPublish\") == -1){\n            dn = domainName;\n        }\n        dn = \"ht\"+\"tp://\"+dn+\"/\"+document.title+\".html\";//NO I18N\n    }else{\n        if(window.CurrentSiteData && CurrentSiteData.siteData.published){\n            dn=CurrentSiteData.siteData.domainName;\n        }\n        dn = \"ht\"+\"tp://\"+dn+\"/\"+pageUrl+\".html\";//NO I18N\n    }\n    return dn;\n}\n\n// get browser language \nfunction getBrowserLanguage(){\n\treturn (window.navigator.userLanguage || window.navigator.language);\n}\n\n// cookie's functions \nfunction setCookie(name, value, expires, path, domain, secure) {\n   document.cookie = name + \"=\" + escape (value) +\n    ((expires && expires!=\"\") ?(\"; expires=\" + expires.toGMTString()):\"\") +// No I18N\n    ((path) ?(\"; path=\" + path):\"\") +// No I18N\n    ((domain) ?(\"; domain=\" + domain):\"\") +// No I18N\n    ((secure) ?\"; secure\" : \"\");// No I18N\n}\nfunction getCookie(cname) {\n  var rexPat = new RegExp(cname+\"=[^;]*\");\n  var allCookie = document.cookie;\n  var myCookie = rexPat.exec(allCookie);\n  if(myCookie){\n  \tvar cookie=myCookie[0].split(\"=\");\n\treturn unescape(cookie[1]);\n  }\n  else{\n\treturn null;\n  }\n}\nfunction delCookie(name,path,domain,secure) {\n  var exp = new Date();\n  exp.setTime (exp.getTime() - 1);\n  var cval = getCookie(name);\n  if(cval){\n  \tdocument.cookie = name + \"=null; expires=\" + exp.toGMTString()+// No I18N\n\t((path) ?(\"; path=\" + path):\"\") +// No I18N\n    ((domain) ?(\"; domain=\" + domain):\"\") +// No I18N\n    ((secure) ?\"; secure\" : \"\");// No I18N\n  }\n}\n\nfnAsString = function(str){\n    str = str.replace(/&/g, \"&amp;\");\n    str = str.replace(/</g, \"&lt;\");\n    str = str.replace(/>/g, \"&gt;\");\n    str = str.replace(/\\\"/g, \"&#34;\");\n    return str;\n}\n\ncheckExternalUrl = function(url) {\n    var retVal = false;\n    var lDomain = window.location.host;\n//    var previewLinkPattern = new RegExp('^((http(s)?://)?(labs|pre|features|module|integ)?site(preview|builder)-[0-9]+(.(local|dev)?zohositescontent.com)/[a-zA-Z0-9\\\\x00-\\\\x7F\\-\\/]+((.html)|(/))(\\\\?(mobile|responsive)=true)?)$');\n    var previewLinkPattern = new RegExp('^((http(s)?://)?(labs|pre|features|module|integ)?site(preview|builder)-[0-9]+(.'+content_domain+')/[a-zA-Z0-9\\\\x00-\\\\x7F\\-\\/]+((.html)|(/))(\\\\?(mobile|responsive)=true)?)$');\n    var jscriptPattern = new RegExp('^(javascript)');\n    \n    var t = document.createElement('a');\n    t.href = url;\n    var exDomain = t.host;\n    \n    if(previewLinkPattern.test(url)) {\n        retVal = true;\n    }\n    else if (jscriptPattern.test(url)) {\n        retVal = true;\n    }\n    return retVal; \n} \n\ncheckMoreMenuLink =function(link) {\n    var retVal= false;\n    if(link.hasAttribute(\"more\") && link.getAttribute(\"more\") === \"true\") {\n            retVal = true;\n    }\n    return retVal;\n}\n"
"/*\n    http://www.JSON.org/json2.js\n    2011-02-23\n\n    Public Domain.\n\n    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n\n    See http://www.JSON.org/js.html\n\n\n    This code should be minified before deployment.\n    See http://javascript.crockford.com/jsmin.html\n\n    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n    NOT CONTROL.\n\n\n    This file creates a global JSON object containing two methods: stringify\n    and parse.\n\n        JSON.stringify(value, replacer, space)\n            value       any JavaScript value, usually an object or array.\n\n            replacer    an optional parameter that determines how object\n                        values are stringified for objects. It can be a\n                        function or an array of strings.\n\n            space       an optional parameter that specifies the indentation\n                        of nested structures. If it is omitted, the text will\n                        be packed without extra whitespace. If it is a number,\n                        it will specify the number of spaces to indent at each\n                        level. If it is a string (such as '\\t' or '&nbsp;'),\n                        it contains the characters used to indent at each level.\n\n            This method produces a JSON text from a JavaScript value.\n\n            When an object value is found, if the object contains a toJSON\n            method, its toJSON method will be called and the result will be\n            stringified. A toJSON method does not serialize: it returns the\n            value represented by the name/value pair that should be serialized,\n            or undefined if nothing should be serialized. The toJSON method\n            will be passed the key associated with the value, and this will be\n            bound to the value\n\n            For example, this would serialize Dates as ISO strings.\n\n                Date.prototype.toJSON = function (key) {\n                    function f(n) {\n                        // Format integers to have at least two digits.\n                        return n < 10 ? '0' + n : n;\n                    }\n\n                    return this.getUTCFullYear()   + '-' +\n                         f(this.getUTCMonth() + 1) + '-' +\n                         f(this.getUTCDate())      + 'T' +\n                         f(this.getUTCHours())     + ':' +\n                         f(this.getUTCMinutes())   + ':' +\n                         f(this.getUTCSeconds())   + 'Z';\n                };\n\n            You can provide an optional replacer method. It will be passed the\n            key and value of each member, with this bound to the containing\n            object. The value that is returned from your method will be\n            serialized. If your method returns undefined, then the member will\n            be excluded from the serialization.\n\n            If the replacer parameter is an array of strings, then it will be\n            used to select the members to be serialized. It filters the results\n            such that only members with keys listed in the replacer array are\n            stringified.\n\n            Values that do not have JSON representations, such as undefined or\n            functions, will not be serialized. Such values in objects will be\n            dropped; in arrays they will be replaced with null. You can use\n            a replacer function to replace those with JSON values.\n            JSON.stringify(undefined) returns undefined.\n\n            The optional space parameter produces a stringification of the\n            value that is filled with line breaks and indentation to make it\n            easier to read.\n\n            If the space parameter is a non-empty string, then that string will\n            be used for indentation. If the space parameter is a number, then\n            the indentation will be that many spaces.\n\n            Example:\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}]);\n            // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\\t');\n            // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n            text = JSON.stringify([new Date()], function (key, value) {\n                return this[key] instanceof Date ?\n                    'Date(' + this[key] + ')' : value;\n            });\n            // text is '[\"Date(---current time---)\"]'\n\n\n        JSON.parse(text, reviver)\n            This method parses a JSON text to produce an object or array.\n            It can throw a SyntaxError exception.\n\n            The optional reviver parameter is a function that can filter and\n            transform the results. It receives each of the keys and values,\n            and its return value is used instead of the original value.\n            If it returns what it received, then the structure is not modified.\n            If it returns undefined then the member is deleted.\n\n            Example:\n\n            // Parse the text. Values that look like ISO date strings will\n            // be converted to Date objects.\n\n            myData = JSON.parse(text, function (key, value) {\n                var a;\n                if (typeof value === 'string') {\n                    a =\n/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n                    if (a) {\n                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n                            +a[5], +a[6]));\n                    }\n                }\n                return value;\n            });\n\n            myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n                var d;\n                if (typeof value === 'string' &&\n                        value.slice(0, 5) === 'Date(' &&\n                        value.slice(-1) === ')') {\n                    d = new Date(value.slice(5, -1));\n                    if (d) {\n                        return d;\n                    }\n                }\n                return value;\n            });\n\n\n    This is a reference implementation. You are free to copy, modify, or\n    redistribute.\n*/\n\n/*jslint evil: true, strict: false, regexp: false */\n\n/*members \"\", \"\\b\", \"\\t\", \"\\n\", \"\\f\", \"\\r\", \"\\\"\", JSON, \"\\\\\", apply,\n    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n\n\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\n\nvar JSON;\nif (!JSON) {\n    JSON = {};\n}\n\n(function () {\n    \"use strict\";\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10 ? '0' + n : n;\n    }\n\n    if (typeof Date.prototype.toJSON !== 'function') {\n\n        Date.prototype.toJSON = function (key) {\n\n            return isFinite(this.valueOf()) ?\n                this.getUTCFullYear()     + '-' +\n                f(this.getUTCMonth() + 1) + '-' +\n                f(this.getUTCDate())      + 'T' +\n                f(this.getUTCHours())     + ':' +\n                f(this.getUTCMinutes())   + ':' +\n                f(this.getUTCSeconds())   + 'Z' : null;\n        };\n\n        String.prototype.toJSON      =\n            Number.prototype.toJSON  =\n            Boolean.prototype.toJSON = function (key) {\n                return this.valueOf();\n            };\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200a-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n\n    function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string' ? c :\n                '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n\n\n    function str(key, holder) {\n\n// Produce a string from holder[key].\n\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            mind = gap,\n            partial,\n            value = holder[key];\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value && typeof value === 'object' &&\n                typeof value.toJSON === 'function') {\n            value = value.toJSON(key);\n        }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n// What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce 'null'. The case is included here in\n// the remote chance that this gets fixed someday.\n\n            return String(value);\n\n// If the type is 'object', we might be dealing with an object or an array or\n// null.\n\n        case 'object':\n\n// Due to a specification blunder in ECMAScript, typeof null is 'object',\n// so watch out for that case.\n\n            if (!value) {\n                return 'null';\n            }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n// Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === 'string') {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n            v = partial.length === 0 ? '{}' : gap ?\n                '{\\n' + gap + partial.sort().join(',\\n' + gap) + '\\n' + mind + '}' :\n                '{' + partial.sort().join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n    if (typeof JSON.stringify !== 'function') {\n        JSON.stringify = function (value, replacer, space) {\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n            var i;\n            gap = '';\n            indent = '';\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                    typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n\n// Make a fake root object containing our value under the key of ''.\n// Return the result of stringifying the value.\n\n            return str('', {'': value});\n        };\n    }\n    // get sorted json text\n    JSON.sortStringify = function(value){\n        return str('', {'':value});\n    }\n// If the JSON object does not yet have a parse method, give it one.\n\n    if (typeof JSON.parse !== 'function') {\n        JSON.parse = function (text, reviver) {\n\n// The parse method takes a text and an optional reviver function, and returns\n// a JavaScript value if the text is a valid JSON text.\n\n            var j;\n\n            function walk(holder, key) {\n\n// The walk method is used to recursively walk the resulting structure so\n// that modifications can be made.\n\n                var k, v, value = holder[key];\n                if (value && typeof value === 'object') {\n                    for (k in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, k)) {\n                            v = walk(value, k);\n                            if (v !== undefined) {\n                                value[k] = v;\n                            } else {\n                                delete value[k];\n                            }\n                        }\n                    }\n                }\n                return reviver.call(holder, key, value);\n            }\n\n\n// Parsing happens in four stages. In the first stage, we replace certain\n// Unicode characters with escape sequences. JavaScript handles many characters\n// incorrectly, either silently deleting them, or treating them as line endings.\n\n            text = String(text);\n            cx.lastIndex = 0;\n            if (cx.test(text)) {\n                text = text.replace(cx, function (a) {\n                    return '\\\\u' +\n                        ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n                });\n            }\n\n// In the second stage, we run the text against regular expressions that look\n// for non-JSON patterns. We are especially concerned with '()' and 'new'\n// because they can cause invocation, and '=' because it can cause mutation.\n// But just to be safe, we want to reject all unexpected forms.\n\n// We split the second stage into 4 regexp operations in order to work around\n// crippling inefficiencies in IE's and Safari's regexp engines. First we\n// replace the JSON backslash pairs with '@' (a non-JSON character). Second, we\n// replace all simple value tokens with ']' characters. Third, we delete all\n// open brackets that follow a colon or comma or that begin the text. Finally,\n// we look to see that the remaining characters are only whitespace or ']' or\n// ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\n\n            if (/^[\\],:{}\\s]*$/\n                    .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                        .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                        .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n// In the third stage we use the eval function to compile the text into a\n// JavaScript structure. The '{' operator is subject to a syntactic ambiguity\n// in JavaScript: it can begin a block or an object literal. We wrap the text\n// in parens to eliminate the ambiguity.\n\n                j = eval('(' + text + ')');\n\n// In the optional fourth stage, we recursively walk the new structure, passing\n// each name/value pair to a reviver function for possible transformation.\n\n                return typeof reviver === 'function' ?\n                    walk({'': j}, '') : j;\n            }\n\n// If the text is not JSON parseable, then a SyntaxError is thrown.\n\n            throw new SyntaxError('JSON.parse');\n        };\n    }\n}());\n"
"<!DOCTYPE html><html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><meta name=\"generator\" content=\"Zoho Sites 1.0, http://zoho.com/sites\" /><title>404-Error</title><meta name=\"keywords\" content=\"\" /><meta name=\"description\" content=\"\" /><meta property=\"og:title\" content=\"404-Error\"/><meta property=\"og:url\" content=\"http://playstationnow.zohosites.com404-erropage\" /><meta property=\"og:description\" content=\"\" /><link href=\"/theme/content_style.css\" rel=\"stylesheet\" type=\"text/css\" /><link href=\"/theme/style.css\" rel=\"stylesheet\" type=\"text/css\" /><link href=\"/theme/contentreset_style.css\" type=\"text/css\" rel=\"stylesheet\" /> <script>var ZS_ColumnFix=false;var responsiveTheme=false;var ZS_FormAppName=\"playstation-now-633383673\"</script><!--[if gt IE 8]><script>ZS_ColumnFix=true</script><script src=\"/js/json2.js\"></script><![endif]--><script src=\"/js/commonUtils.js\"></script><script src=\"/js/bootstrap.js\"></script><script src=\"/js/navigation.js\"></script><script>var ZS_adjustHeight=false;var ZS_PublishMode = true; var ZS_MobileVer = false;</script></head><body>\n<div class=\"background-image\">\n  <div class=\"patternBG\"> \n    <div class=\"page-width\"> \n      <div class=\"siteNamelogoContainer\"> \n        <div class=\"sitenameArea\"> \n          <h1 id=\"zpSitename\">PlayStation Now</h1>\n          \n           </div>\n      </div>\n      \n      <div class=\"menuContainer\">\n        <div id=\"navigation\">\n<ul id=\"nav-top\" data-navorientation=horizontal>\n\n            <li   ><a target=\"_self\" href=\"/home.html\"  ><span>Home</span><em></em></a></li>\n\n            <li   ><a target=\"_self\" href=\"/contact.html\"  ><span>Contact</span><em></em></a></li>\n</ul>\n\n<div id=\"childPageParent\" style=\"position:relative\">\n    <div id=\"childPage\">\n    </div>\n</div>\n</div>\n      </div>\n      \n      \n            <div class=\"contentContainer\">\n        <div class=\"contentContainerInner\"> \n          <div class=\"contentArea floatLeft\" style=\"width:100%\">\n            <div class=\"contentAreaSpace contentAreaInner\"> \n                  <div id=\"page-container\" class=\"zpcontent-wrapper\">\n\n            <div id=\"elm_pageNotFoundElem\" class=\"zpelement-wrapper text\">\n                    <div style='text-align:center;width:450px;margin:auto;'><h3>Page Not Found</h3><p style='font-size: 15px; line-height: 3;'>This page isn't here, or you are in the wrong place.</p></div>\n            </div>\n</div>\n</div>\n          </div>\n          \n           </div>\n      </div>\n      \n      <div class=\"footer\">\n        <div class=\"footerArea\"> <div id=\"footer-container\" class=\"zpcontent-wrapper\"></div><!--zp:branding--><script src=\"//www.zoho.com/sites/js/zsad.js\"></script><!--/zp:branding--></div>\n      </div>\n       </div>\n  </div>\n</div>\n\n<div id=\"carouselCont\" style=\"display:none\"><div class=\"zs-slideshow-right-arrow\"></div><div class=\"zs-slideshow-left-arrow\"></div><div class=\"themeSlideshowOuterContainer\"> <span class=\"themeSlideshowInnerContainer\"> <span class=\"zs-slideshow-control\"></span> </span> </div></div><div id=\"carouselCont\" style=\"display:none\"><div class=\"zs-slideshow-right-arrow\"></div><div class=\"zs-slideshow-left-arrow\"></div><div class=\"themeSlideshowOuterContainer\"><span class=\"themeSlideshowInnerContainer\"><span class=\"zs-slideshow-control\"></span></span></div></div><div id=\"footerBar\" style=\"display:none;font: 13px Arial,Helvetica,sans-serif; overflow: hidden; background:rgba(255, 255, 255, 0.3); padding: 3px 5px;\"><!--zp:branding--><script src=\"//www.zoho.com/sites/js/zsad.js\"></script><!--/zp:branding--><span style=\"float: left; display: none; margin-top: 3px; padding: 0px 10px 0px 0px;\" id=\"mobileSite\"><a onclick=\"setCookie('userView','mobile','','/');\" style=\"text-decoration: none;line-height: 1.5;color:#259A56;\" href=\"/mobile/\">Mobile Site</a></span></span></div><div style=\"clear:both\"></div></body>\n</html>"
"/*$Id: navigation.js,v 2030:c5f590d454a5 2011/07/19 10:33:16 prashantd $*/\nvar navTimer;\nvar navTop;\nvar navMoreUL;\nvar navMoreLI;\nvar navFirstOffset = {};\nvar navFirstElement;\nvar navOffsetParent;\nvar childPage;\nvar same =0;\nvar ofwParent;\nvar smListeners = [];\nvar smTransitionProp=[];\nvar navPositionFixed=false,iconMenu=false,ipadVFix=false;\nvar bFlg=false;\nvar navAlignHor = true;\n\nvar menuLiWidth;\nvar menuLi;\n\nif(!mobile || istab){\n    var menuFontDone = false;\n    if(document.fonts){\n        document.fonts.onloadingdone=function(){\n            wefontLoadHandler();\n        }\n    }else{\n        var maxFontCheck = 3;\n        var str = setInterval(function(){\n            wefontLoadHandler();\n            if(!maxFontCheck>0 || menuFontDone){\n                clearInterval(str)\n            }\n            maxFontCheck = maxFontCheck-1;\n        },1000);\n    }\n}\n\nwefontLoadHandler =function(){\n    if((mobile && !istab) || (navTop && navTop.getAttribute(\"data-navorientation\").toLowerCase()==\"vertical\") || iconMenu){//No I18N\n        menuFontDone = true;\n    }\n\n    if(!menuFontDone && menuLiWidth && menuLi && menuLiWidth != menuLi.offsetWidth){\n        isResize = true;\n        navActivate()\n        menuFontDone = true;\n    }\n}\n\nnavOffset = function (el) {\n    var curleft = 0, curtop = 0;\n    if (el.offsetParent) {\n        curleft = el.offsetLeft;\n        curtop = el.offsetTop;\n        while ((el = el.offsetParent) && (el!=navOffsetParent)) {\n            curleft += el.offsetLeft;\n            curtop += el.offsetTop;\n        }\n    }\n    var n = {\n        left:curleft,\n        top:curtop\n    };\n    return n;\n}\n\nnavOffsetBody = function (el) {\n    var curleft = 0, curtop = 0;\n    if (el.offsetParent) {\n        curleft = el.offsetLeft;\n        curtop = el.offsetTop;\n        while ((el = el.offsetParent)) {\n            curleft += el.offsetLeft;\n            curtop += el.offsetTop;\n            if(el==navOffsetParent){\n                break;\n            }\n        }\n    }\n    var n = {\n        left:curleft,\n        top:curtop\n    };\n    return n;\n}\n\nnavOffsetNavigation = function (el) {\n    var navDiv = document.getElementById(\"navigation\");\n    var childPage = document.getElementById(\"navigation\");\n    var curleft = 0, curtop = 0;\n    if (el.offsetParent) {\n        curleft = el.offsetLeft;\n        curtop = el.offsetTop;\n        if(el==childPage){\n            el = navDiv;\n        }\n        while ((el = el.offsetParent) && (el!=navDiv)) {\n            if(el.id==\"childPage\"){\n                el = navDiv;\n            }\n            if(el.id!=\"navigation\"){\n                curleft += el.offsetLeft;\n                curtop += el.offsetTop;\n            }else{\n                break;\n            }\n        }\n    }\n    var n = {\n        left:curleft,\n        top:curtop\n    };\n    return n;\n}\n\nnavOffsetChildParentPage = function (el) {\n    var navDiv = document.getElementById(\"childPageParent\");\n    var childPage = document.getElementById(\"navigation\");\n    var curleft = 0, curtop = 0;\n    if (el.offsetParent) {\n        curleft = el.offsetLeft;\n        curtop = el.offsetTop;\n        if(el==childPage){\n            el = navDiv;\n        }\n        while ((el = el.offsetParent) && (el!=navDiv)) {\n            if(el.id==\"childPageParent\"){\n                el = navDiv;\n            }\n            if(el.id!=\"navigation\"){\n                curleft += el.offsetLeft;\n                curtop += el.offsetTop;\n            }else{\n                break;\n            }\n        }\n    }\n    var n = {\n        left:curleft,\n        top:curtop\n    };\n    return n;\n}\n\n\nnavGetStyle = function(el,prop) {\n    var val;\n    if(window.getComputedStyle) {\n        var cmpstyle = window.getComputedStyle(el,'')\n        val = cmpstyle.getPropertyValue(prop); //NO I18N\n    }else if(el.currentStyle) {\n        if(prop == 'float') prop='styleFloat'\n        prop = prop.replace(/\\-(\\w)/g,function(s, l) {\n            return l.toUpperCase();\n        })\n        val = el.currentStyle[prop];\n    }\n    return val;\n}\n\nvar trans = false;\nfnCheckTransition = function(){\n    if(!window.ZS_PublishMode && !window.ZS_PreviewMode){navTop.setAttribute(\"data-transition\",false);return;}\n    var styleLen = document.styleSheets.length;\n    var styleSheet;\n    for(i=0;i<styleLen;i++){\n        if(document.styleSheets[i].href !==null &&( document.styleSheets[i].href.indexOf(\"/theme/style.css\")!==-1||document.styleSheets[i].href.indexOf(\"/templates/\")!==-1||document.styleSheets[i].href.indexOf(\"/internalTemplates/\")!==-1)){\n            styleSheet = document.styleSheets[i];\n            break;\n        }\n    }\n    var rules = styleSheet.rules ? styleSheet.rules : styleSheet.cssRules;\n    var rulLen = rules.length;\n    for(i=0;i<rulLen;i++){\n        if(rules[i].selectorText===\".submenu\"){\n            var tr = rules[i].style.transition;\n            if(tr!==\"\"){\n                trans=true;\n            }\n            break;\n        }\n    }\n    navTop.setAttribute(\"data-transition\",trans);\n}\n\nfnRemoveSubmenuOver = function(){\n    var styleLen = document.styleSheets.length;\n    var styleSheet;\n    for(i=0;i<styleLen;i++){\n        if(document.styleSheets[i].href !==null &&( document.styleSheets[i].href.indexOf(\"/theme/style.css\")!==-1)){\n            styleSheet = document.styleSheets[i];\n            break;\n        }\n    }\n    var rules = styleSheet.rules ? styleSheet.rules : styleSheet.cssRules;\n    var rulLen = rules.length;\n    for(i=0;i<rulLen;i++){\n        if(rules[i].selectorText===\".submenu li a:hover\"){\n            var text = rules[i].cssText;\n            var classValue = text.substring(text.indexOf(\"{\"),text.indexOf(\"}\")+1);\n            styleSheet.removeRule(i);\n            styleSheet.insertRule(\".submenu li.selected a\"+classValue,i);// No I18N\n            break;\n        }\n    }\n}\n\nnavGetClassProp= function(el,prop) {\n    var val;\n    if(el.currentStyle) {\n        if(prop === 'float') {\n            prop='styleFloat';//No I18N\n        }\n        prop = prop.replace(/\\-(\\w)/g,function(s, l) {\n            return l.toUpperCase();\n        })\n        val = (el.currentStyle[prop]) ? el.currentStyle[prop] : \"\";\n    }else if(window.getComputedStyle) {\n        var cmpstyle = window.getComputedStyle(el,'')\n        val = cmpstyle[prop]; //NO I18N\n    }\n    return val;\n}\n\nnavGetOffsetParent = function(el){\n    do {\n        el = el.offsetParent;\n        if(el) {\n            var tn = el.tagName.toLowerCase();\n            if(tn == 'body' || tn == 'html') break;\n            if(navGetStyle(el,'position') != 'static') break;\n        }\n    }while(el)\n    return el;\n}\nnavEventInside = function(el,ev) {\n    var rt = ev.relatedTarget||((ev.type == 'mouseover')?ev.fromElement:ev.toElement);\n    if(!rt)return false;\n    var p=rt;\n    do{\n        if(p==el)return true;\n    }while(p=p.parentNode) \n    return false;\n}\n\nvar adjustMoreTimer,adjustMoreTimerCount;\nnavAppendChildPage = function(){\n    childPage = document.getElementById(\"childPageParent\");\n    \n    var topNode = document.getElementById(\"navigation\").parentNode;//No I18N\n    while (topNode!=navOffsetParent){\n        var ofwProp = navGetStyle(topNode,'overflow');//No I18N\n        if(ofwProp==\"hidden\"){\n            ofwParent = topNode;\n        }\n        var posProp = navGetStyle(topNode,'position');//No I18N\n        if(posProp==\"fixed\"){\n            navPositionFixed = true;\n        }\n        topNode = topNode.parentNode; \n    }\n    \n    if(ofwParent){\n        ofwParent.parentNode.insertBefore(childPage, ofwParent);\n    }else{\n    \n        var navElement = document.getElementById(\"navigation\").parentNode;//No I18N\n        var p = navElement;\n        var sibli = document.getElementById(\"navigation\");\n        if(sibli){\n            p.insertBefore(childPage,sibli);\n        }else{\n            p.appendChild(childPage);\n        }\n        //ofwParent= childPage.parentNode;\n    }\n}\nnavSetSMValues = function(){\n    isResize = true;\n    var submenus;\n    if(document.quertSelectorAll){\n        submenus = childPage.querySelectorAll(\".submenu\");//No I18N\n    } else{\n        submenus = fnGetDocumentElements_IEfix(\"div\", \"class\", \"submenu\", childPage);//No I18N\n    }\n    if(submenus.length!==0){\n        smTransitionProp = navGetClassProp(submenus[0],'transitionProperty');//No I18N\n        if(!smTransitionProp) {\n            smTransitionProp = navGetClassProp(submenus[0],'WebkitTransitionProperty');//No I18N\n        }\n        for(i=0;i<submenus.length;i++){\n            var el = submenus[i];\n            fnSetSMValues(el); \n            el.style.display = \"none\";//No I18N\n        }\n    }\n}\n\nnavActivate = function(){\n    var moreSub;\n    navTop = document.getElementById('nav-top');\n    if(navTop.children[0]&& navTop.children[0].id && navTop.children[0].id==\"nav-li1234\"){\n        iconMenu=true;\n    }else{\t\n\t    iconMenu=false;\n    }\n    if(navTop.children[0]){\n        menuLi = navTop.children[0]\n        menuLiWidth = menuLi.offsetWidth\n    }\n    navOffsetParent = document.getElementById(\"zppages\");//No I18N\n    if(!navOffsetParent){\n        navOffsetParent = document.body;\n    }\n    if(!document.getElementById(\"childPageParent\")){\n        childPage = document.createElement('div');\n        childPage.id = \"childPageParent\";\n        childPage.style.position = \"relative\";\n        childPageDiv = document.createElement('div');\n        childPageDiv.id = \"childPage\";\n        childPage.appendChild(childPageDiv);\n        navOffsetParent.appendChild(childPage);\n    }\n    /*var divElems1 = document.getElementsByClassName(\"themeSocialiconandNavigationContainer\");//No I18N\n    var divElems2 = document.getElementsByClassName(\"themeLeftBg\");//No I18N\n    if(divElems1.length>0){\n        divElems1[0].style.zIndex = \"201\";\n    }\n    if(divElems2.length>0){\n       divElems2[0].style.zIndex = \"201\";\n    }*/\n    navAppendChildPage();\n    fnCheckTransition();\n    if(touch && !(typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true)){\n        fnRemoveSubmenuOver();\n    }\n    if(navTop.getAttribute(\"data-navorientation\").toLowerCase()==\"vertical\" && window.innerWidth>=640){\n        //menu is vertical\n        navAlignHor=false;\n        var ulss = navTop.getElementsByTagName(\"ul\");\n        navAlignUlLi(ulss);\n        navAddEventHandler(navTop);\n        ulss = childPage.getElementsByTagName(\"ul\");\n        navAlignUlLi(ulss);\n        navAddEventHandler(navTop);\n        if((typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true && window.innerWidth<640)){\n            document.getElementsByTagName(\"html\")[0].onclick= navDisable;\n        }\n        if(!((typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true &&mobile) ||(window.ZS_PreviewMode && parent.responsivePreview==\"true\"))){\n            if(istab){\n                document.getElementsByTagName(\"html\")[0].onclick= navDisable;\n                document.getElementsByTagName(\"html\")[0].ontouchstart= navDisable;\n            }\n            navSetClassNames();\n            return;\n        }\n    }\n    navSetClassNames();\n    var tempNav = document.createElement('div');\n    var tempUl = document.createElement('ul');\n    var navMore=document.getElementById(\"nav-ulMore\");\n    if(navMore){\n        var childNodes=navMore.childNodes;\n        var childLength=childNodes.length;\n        for(var l=0;l<childLength;l++){\n            navTop.insertBefore(childNodes[0],navTop.lastChild);\n        }\n    }\n    var firstList = [];\n    var listLis = navTop.childNodes;\n    var i,j;\n    for(i=0,j=0;i<listLis.length;i++){\n        if(listLis[i].tagName==\"LI\"){\n            firstList[j]=listLis[i];\n            j++;\n        }\n    }\n    if(firstList.length>1){\n        var ff=navOffset(firstList[0]);\n        var ss=navOffset(firstList[1]);\n        if(ff.top!=ss.top &&(navTop.getAttribute(\"data-navorientation\").toLowerCase()!=\"vertical\") && !mobile){\n            setTimeout(function(){\n                navActivate()\n            },500);\n            return;\n        }\n    }\n    var transAvailable = navTop.getAttribute(\"data-transition\");\n    if(transAvailable===\"true\" && !mobile && !isResize){\n        navSetSMValues();\n    }\n    for(var x=0;x<firstList.length;x++){\n        tempUl.appendChild(firstList[x]);\n    }\n    tempNav.appendChild(tempUl);\n    var len = tempUl.childNodes.length;\n    var moreMenu=document.getElementById(\"nav-submenu-idMore\");\n    if(moreMenu==null){\n        moreSub = document.createElement(\"div\");\n        moreSub.id=\"nav-submenu-idMore\";\n        moreSub.className=\"submenu\";\n        moreSub.style.display='none';\n        moreSub.style.zIndex='201';\n        moreSub.style.top=\"0px\";\n        moreSub.style.overflow=\"hidden\";\n\t    if(window.ZS_PreviewMode && parent.responsivePreview==\"true\"){\n            moreSub.style.zIndex=\"670\";\n\t    }\n        navMoreUL = document.createElement('ul');\n        navMoreUL.id=\"nav-ulMore\";\n        navMoreUL.setAttribute(\"navparent\",\"nav-liMore\");\n        navMoreLI = document.createElement('li');\n        navMoreLI.id=\"nav-liMore\";\n        navMoreLI.className=\" navArrow\";\n        navMoreLI.setAttribute(\"navsub\",\"nav-ulMore\");\n    }else{\n        moreSub=document.getElementById(\"nav-submenu-idMore\");\n    }\n    for(var k=0;k<len;k++){\n        var uls = tempUl.childNodes[0].getElementsByTagName(\"ul\");\n        navAlignUlLi(uls);\n        var elem = tempUl.childNodes[0];\n        navTop.appendChild(tempUl.childNodes[0]);\n        if(k==0){\n            navFirstOffset.left = navOffset(elem).left;\n            navFirstOffset.top = navOffset(elem).top;\n            navFirstElement = elem;\n        }else if(k==1){\n            navSecondElement=elem;\n        }\n        var realTop=navOffset(elem);\n        ipadVFix=false;\n        if(window.innerWidth<800 &&window.innerWidth>640 && mobile && navTop.getAttribute(\"data-navorientation\").toLowerCase()==\"vertical\"){\n            ipadVFix=true;\n        }\n        if((((navFirstOffset.top != realTop.top || navFirstElement.offsetTop != elem.offsetTop)&&navTop.getAttribute(\"data-navorientation\").toLowerCase()!=\"vertical\")||(((mobile && !istab) ||window.innerWidth<=640) && (typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true))||(window.ZS_PreviewMode && parent.responsivePreview==\"true\") ||((window.innerWidth<800 && mobile && navTop.getAttribute(\"data-navorientation\").toLowerCase()==\"vertical\") && k>4 && (typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true)))&& !iconMenu){\n            var mMenu=false;\n            var span=navMoreLI.getElementsByTagName(\"span\")[0];\n            if(k<=2 && (window.innerWidth<=640 || (mobile && !istab))){\n                if(navFirstElement){\n                    navMoreUL.appendChild(navFirstElement);\n                }else if(navSecondElement){\n                    navMoreUL.appendChild(navSecondElement);\n                }\n                mMenu=true;\n                if(span){\n                    span.innerHTML=\"&#x2261; Menu\";//No I18N\n                    navMoreLI.className=\"navArrow selected\";\n                }\n            }else{\n                if(span){\n                    span.innerHTML=\"More\";//No I18N\n                    if(navMoreLI.className.indexOf(\"selected\")!=-1){\n                        navMoreLI.className=navMoreLI.className.replace(\"selected\",\"\");\n                    }\n                }\n            }\n            navMoreUL.appendChild(elem);\n            for(x=0;x<tempUl.childNodes.length;){\n                navMoreUL.appendChild(tempUl.childNodes[0]);\n            }\n            break;\n        }\n    }\n    if(navMoreUL.childNodes.length!=0){\n        var childPageApd = document.getElementById(\"childPage\");\n        moreSub.appendChild(navMoreUL);\n        childPageApd.appendChild(moreSub);\n        if(moreMenu==null){\n            var spanMore = document.createElement('span');\n            var liA = document.createElement('a');\n            if(mMenu==true ){\n                spanMore.innerHTML=\"&#x2261; Menu\";//No I18N\n                navMoreLI.className=navMoreLI.className+\" selected\";\n            }else{\n                spanMore.innerHTML=\"More\";//No I18N\n            }\n            var emMore = document.createElement('em');\n            liA.appendChild(spanMore);\n            liA.appendChild(emMore);\n            navMoreLI.appendChild(liA);\n        }\n        navTop.appendChild(navMoreLI);\n        \n        adjustMoreTimerCount=0;\n        if(!mMenu && !ipadVFix){\n            navAdjustMoreTimerFn();\n        }\n    }else{\n       if(navMoreLI.parentNode){\n            navMoreLI.parentNode.removeChild(navMoreLI);\n        }\n    }\n\n    navAddEventHandler(navTop);\n    var childPageUls = childPage.getElementsByTagName(\"ul\");\n    navAlignUlLi(childPageUls);\n    navAddEventHandler(childPage);\n    if((mobile ) || (typeof(parent.responsivePreview)!=\"undefined\" && parent.responsivePreview==\"true\") || (window.innerWidth<640)){\n        childPage.style.width =\"100%\";\n        document.getElementsByTagName(\"html\")[0].onclick= navDisable;\n        document.getElementsByTagName(\"html\")[0].ontouchstart= navDisable;\n    }\n}\nnavAdjustMore = function(){\n    var liTop = navOffset(navMoreLI);\n    navFirstOffset.left = navOffset(navFirstElement).left;\n    navFirstOffset.top = navOffset(navFirstElement).top;\n    while(navFirstOffset.top!=liTop.top &&navTop.children.length>1){\n        navTop.removeChild(navMoreLI);\n        navMoreUL.insertBefore(navTop.lastChild,navMoreUL.firstChild);\n        navTop.appendChild(navMoreLI);\n        var ulsubs = navMoreLI.parentNode.getElementsByTagName(\"ul\");\n        navAlignUlLi(ulsubs,ulsubs.parentNode);\n        liTop = navOffset(navMoreLI);\n        navFirstOffset.top=navOffset(navTop.children[0]).top;\n    }\n}\nnavAdjustMoreTimerFn = function(){\n    if(adjustMoreTimer) clearTimeout(adjustMoreTimer);\n    navAdjustMore();\n    adjustMoreTimerCount++;\n    if(adjustMoreTimerCount < 60 ) {\n        adjustMoreTimer = setTimeout(navAdjustMoreTimerFn,1000)\n    }\n}\nnavId = function(el) {\n    var undefined;\n    if(el.id == undefined || el.id == \"\")el.id=\"nav-id\"+(Math.random()*11111111111111111111);\n}\n\nnavAlignUlLi = function(uls,liLL){\n    var auls=[]\n    var li;\n    for(var i=0;ul=uls[i];i++) {\n        auls[i]=ul;\n        li = ul.parentNode;\n        unbindAll(ul);\n        if(li.getElementsByTagName('li')[0]){\n            if(ul.id==\"\")navId(ul);\n            if(li.id==\"\")navId(li);\n            if(ul.id===\"\"){ul.setAttribute(\"navparent\",li.id);}\n            if(li.id===\"\"){li.setAttribute(\"navsub\",ul.id);}\n            if(liLL==undefined){\n                navAddEventHandler(ul);\n            }else{\n                liLL.onmouseover = navItemMouseOver;\n                liLL.onmouseout = navItemMouseOut;\n                liLL.ontouchstart = navItemTouch;\n                liLL.onmouseclick= navItemMouseEnter;\n            }\n            if(!((typeof(parent.responsivePreview)!=\"undefined\" && parent.responsivePreview==\"true\" )||( (mobile || window.innerWidth<640) && typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true))){\n    ul.onmouseover = navMouseOver;\n    ul.onmouseout = navMouseOut;\n            }\n            ul.ontouchstart = navTouch;\n        }\n    }\n    var childPageInner = document.getElementById(\"childPage\");\n    for(var i=0;ul=auls[i];i++) {\n        var sm;\n        if(ul.id.indexOf(\"nav-ul\")!=-1){break;}\n        if(document.getElementById(ul.id.replace(/nav\\-/,'nav-submenu-')))\n            sm = document.getElementById(ul.id.replace(/nav\\-/,'nav-submenu-'));\n        else\n            sm = document.createElement('div');\n        sm.className = 'submenu';\n        sm.style.zIndex='201';\n        sm.appendChild(ul);\n        sm.id = ul.id.replace(/nav\\-/,'nav-submenu-');\n        childPageInner.appendChild(sm);\n    }\n    document.getElementsByTagName(\"html\")[0].ontouchstart= fnMouseOut;\n}\nunbindAll = function(li){\n    li.onmouseover = null;\n    li.onmouseout = null;\n    li.onclick=null;\n    li.ontouchstart=null;\n    li.onmouseclick=null;\n\n}\n\nrevort = function(){\n    document.getElementsByTagName(\"html\")[0].onclick= null;\n    var Uls = document.getElementsByTagName(\"ul\");\n    var i,ul;\n    for(i=0;i<Uls.length;i++){\n        ul=Uls[i];\n        var ulParent=ul.parentNode;\n        if(ul.id==\"nav-top\" && (ul.getAttribute(\"data-navorientation\") && ul.getAttribute(\"data-navorientation\")==\"vertical\")){\n            ul.style.removeProperty(\"left\");//No I18N\n            ul.style.removeProperty(\"position\");//No I18N\n            ul.style.removeProperty(\"display\");//No I18N\n        }\n        if(ulParent.id.indexOf(\"nav-submenu\")!=-1){\n            ul.style.removeProperty(\"height\");//No I18N\n            ul.style.removeProperty(\"width\");//No I18N\n\n            ulParent.style.removeProperty(\"opacity\");//No I18N\n\n            ulParent.style.removeProperty(\"position\");//No I18N\n            ulParent.style.removeProperty(\"top\");//No I18N\n            ulParent.style.removeProperty(\"width\");//No I18N\n            ulParent.style.removeProperty(\"height\");//No I18N\n        }\n        var Lis = ul.children;\n        var j,li;\n        for(j=0;j<Lis.length;j++){\n            li=Lis[j];\n            if(li.getAttribute(\"back\")!=null || li.getAttribute(\"firstnav\")!=null){\n                j--;\n                ul.removeChild(li);\n            }else if(li.className.indexOf(\"active\")!=-1){\n                navMobileHideMenu(li.parentNode);\n            }\n        }\n    }\n}\n\nnavAddEventHandler = function(ul){\n    var lis = ul.childNodes;\n    var i,li;\n    var moreReturn=function(){return false;};\n    for(var i=0;li=lis[i];i++) {\n        if(li.tagName==\"LI\" || li.tagName==\"li\") {\n            unbindAll(li);\n            if(li.id==\"nav-li987\" || li.id==\"nav-li1234\"){\n                var aEl=li.firstChild;\n                if(aEl && (aEl.tagName==\"a\" || aEl.tagName==\"A\")){\n                    aEl.onclick=moreReturn;\n                }\n            }\n\n            if(!((typeof(parent.responsivePreview)!=\"undefined\" && parent.responsivePreview==\"true\" )||( (mobile || window.innerWidth<640) && typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true)||istab)){\n                li.onmouseover = navItemMouseOver;\n                li.onmouseout = navItemMouseOut;\n            }else{\n                li.onclick= navItemTouch;\n            }\n            if((typeof(parent.responsivePreview)!=\"undefined\" && parent.responsivePreview==\"true\") || (!mobile && window.innerWidth<640 && typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true)){\n                li.onclick= navItemTouch;\n            }\n            //li.ontouchstart = navItemTouch;\n            li.onmouseclick= navItemMouseEnter;\n        }\n    }\n}\n\nnavMenuAlign = function(curr,sm){\n    var bdHeight = navOffsetParent.offsetHeight;\n    var thisPos = navOffset(curr).top;\n    var toShowHeight = thisPos+curr.offsetHeight+sm.offsetHeight;\n    var childPageParentDiv = document.getElementById(\"childPageParent\");\n    var orient = childPageParentDiv.getAttribute(\"data-sm-orientation\");\n    if(orient!=\"\" && orient!=\"bottom\" &&orient!=\"top\"){\n        if(((bdHeight-toShowHeight)<sm.offsetHeight && thisPos>(bdHeight/2)) || window.innerHeight==(thisPos+curr.offsetHeight)){//|| thisPos == 0){\n            orient=\"bottom\";//No I18N \n        }else{\n            orient=\"top\";//No I18N\n        }\n    }\n    \n    \n    childPageParentDiv.setAttribute(\"data-sm-orientation\",orient);\n    \n    var navigationLeft = navOffset(sm).left;\n    var navigationRight;\n    navigationRight=window.innerWidth-navigationLeft;\n    if(navigationLeft>navigationRight){\n        orient+=\"Right\";//No I18N\n    }else{\n        orient+=\"Left\";//No I18N\n    }\n    return orient;\n}\n\nnavSetClassNames = function(){\n    var lis = navTop.getElementsByTagName(\"li\");\n    for(var i=0;li=lis[i];i++){\n        if(li.getAttribute('navsub') != null)\n            li.className = li.className+\" navArrow\";\n    }\n    lis = childPage.getElementsByTagName(\"li\");\n    for(i=0;li=lis[i];i++){\n        if(li.getAttribute('navsub') != null)\n            li.className = li.className+\" navArrow\";\n    }\n    \n}\n\nnavItemTouch = function(ev){\n    stopPropagation(ev);\n    if(this.tagName &&((this.tagName.toLowerCase()==\"ul\" && (!this.getAttribute(\"navshowing\") != null))||(this.tagName.toLowerCase()==\"li\" && (!this.parentNode.getAttribute(\"navshowing\") != null)))){\n        if(this.tagName.toLowerCase()===\"li\" && this.getAttribute(\"navsub\") !== null && this.className.indexOf(\"active\") === -1){\n            preventDefault(ev);\n        }\n        if(((typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true) ||(window.ZS_PreviewMode && parent.responsivePreview==\"true\")) && (window.innerWidth<640 || ipadVFix || (mobile && !istab))){\n            navMobileShowMenu.call(this,ev);\n        }else{\n            navShowMenu.call(this,ev);\n        }\n    }\n}\nnavTouch =function(ev){\n    if(navTimer)clearTimeout(navTimer);\n}\n\nnavItemMouseOver = function(ev) {\n    ev=ev||window.event;\n    if(navEventInside(this,ev))return;\n    navItemMouseEnter.call(this,ev);\n}\nnavItemMouseOut = function(ev) {\n    if(typeof(parent.responsivePreview)!=\"undefined\" && parent.responsivePreview==\"true\"){\n\treturn;\n    }\n    ev=ev||window.event;\n    if(navEventInside(this,ev))return;\n    navItemMouseLeave.call(this,ev);\n}\nnavMouseOver = function(ev) {\n    ev=ev||window.event;\n    if(navEventInside(this,ev))return;\n    navMouseEnter.call(this,ev);\n}\nnavMouseOut = function(ev) {\n    if(typeof(parent.responsivePreview)!=\"undefined\" && parent.responsivePreview==\"true\"){\n\treturn;\n    }\n    ev=ev||window.event;\n    if(navEventInside(this,ev))return;\n    navMouseLeave.call(this,ev);\n}\nnavItemMouseEnter = function(ev) {\n        if(((typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true) ||(window.ZS_PreviewMode && parent.responsivePreview==\"true\")) && (window.innerWidth<640 || ipadVFix || (mobile && !istab))){\n            navMobileShowMenu.call(this,ev);\n        }else{\n            navShowMenu.call(this,ev);\n        }\n}\nnavItemMouseLeave = function(ev) {\n    var el = this;\n    if(navTimer)clearTimeout(navTimer);\n    navTimer = setTimeout(function(){\n        navHideMenu(el.parentNode)\n    },500);\n}\nnavMouseEnter = function(ev) {\n    var el = this;\n    if(navTimer)clearTimeout(navTimer)\n}\nnavMouseLeave = function(ev) {\n    var el = this;\n    if(navTimer)clearTimeout(navTimer)\n    navTimer = setTimeout(function(){\n        navHideSelf(el)\n    },500);\n}\n\nfnSetSMValues = function(sm){\n    var ulElem = getFirstChild(sm);\n    var dummy = document.createElement(\"div\");\n    dummy.id=\"dummyForTransition\";\n    dummy.style.display=\"block\";\n    dummy.style.left=\"-4000px\";\n    var dum = sm.cloneNode(true);\n    dum.style.height='';\n    //dum.style.width='';\n    dummy.appendChild(dum);\n    navOffsetParent.appendChild(dummy);\n    \n    /*if(smTransitionProp.indexOf(\"height\")>-1){\n        sm.style.height='0px';\n    }\n    if(smTransitionProp.indexOf(\"width\")>-1){\n        sm.style.width='0px';\n    }\n    if(smTransitionProp.indexOf(\"top\")>-1){\n        sm.style.top='0px';\n    }\n    /*if(smTransitionProp.indexOf(\"opacity\")>-1){\n        ulElem.style.opacity='0';\n        sm.style.opacity='0';\n    }*/\n    \n    var smOffHei = dum.offsetHeight;\n    var smOffWid = dum.offsetWidth;\n    //var smOffTop = 0-dum.offsetHeight;\n    var smOffOpa = 1;\n    if(smTransitionProp.indexOf(\"height\")>-1){\n        sm.setAttribute(\"data-height\",smOffHei+\"px\");\n        ulElem.setAttribute(\"data-height\",smOffHei+\"px\");\n    }\n    if(smTransitionProp.indexOf(\"width\")>-1){\n        sm.setAttribute(\"data-width\",smOffWid+\"px\");\n        ulElem.setAttribute(\"data-width\",smOffWid+\"px\");\n    }\n    /*if(smTransitionProp.indexOf(\"top\")>-1){\n        sm.setAttribute(\"data-top\",smOffTop+\"px\");\n        ulElem.setAttribute(\"data-top\",smOffTop+\"px\");\n    }*/\n    if(smTransitionProp.indexOf(\"opacity\")>-1){\n        sm.setAttribute(\"data-opacity\",1);\n        ulElem.setAttribute(\"data-opacity\",1);\n    }\n    dum.parentNode.parentNode.removeChild(dummy);\n    //var data = {height:smOffHei+\"px\",width:smOffWid+\"px\",top:smOffTop+\"px\",opacity:smOffOpa};\n    var data = {height:smOffHei+\"px\",width:smOffWid+\"px\",opacity:smOffOpa};//No I18N\n    return data;\n}\n\nnavShowMenu = function(ev) {\n    /*if(mobile && window.innerWidth<640){\n        ev.stopPropagation();\n        ev.preventDefault();\n    }*/\n    if(navTimer)clearTimeout(navTimer)\n    var subId = this.getAttribute('navsub');\n    if(!subId){\n        navHideMenu(this.parentNode);\n        return;\n    }\n    subId = subId.replace(\"ul\",\"id\");\n    //var pxls=this.parentNode.hasAttribute(\"navparent\")?5:0;\n    var sm =  document.getElementById(subId.replace(/nav\\-/,'nav-submenu-'));\n    var fstChild = getFirstChild(sm);\n    var getParentId = fstChild.getAttribute(\"navparent\");\n    var showingId = document.getElementById(\"nav-top\").getAttribute('navshowing');\n    /*if((subId===\"nav-idMore\" && showingId===\"nav-liMore\") || (showingId===getParentId) && istab){\n        navHideMenu(this.parentNode);\n        return;\n    }*/\n    navHideMenu(this.parentNode);\n    var off = navOffset(this);\n    var flt = navGetStyle(this,'float');//NO I18N\n    var zIndexNode;\n    var ongoingShowTransit = this.parentNode.parentNode.getAttribute(\"transit\");\n    if(ongoingShowTransit && ongoingShowTransit == \"show\"){\n        return;\n    }\n    if(this.parentNode.getAttribute(\"navparent\") != null){\n        zIndexNode = this.parentNode.parentNode;\n        var zi = navGetStyle(zIndexNode,'z-index');//No I18N\n        sm.style.zIndex=zi-0+1;\n    }\n    for(i=0;i<smListeners.length;){\n        unbindEvent(sm,smListeners[i].type,testhideSM);\n        smListeners.splice(i);\n    }\n    sm.style.display = 'block';\n\n    var getParElem = document.getElementById(getParentId);\n    var parElem = document.getElementById(getParElem.parentNode.getAttribute(\"navparent\"));\n    if(getParElem.className.indexOf(\"active\")== -1)\n        getParElem.className+=\" active\";\n    \n    var diffTop = navOffset(this);\n    var diff = document.getElementById('childPageParent');\n    var offsetChildPage = navOffset(diff);\n    if(navTop.getAttribute(\"data-navorientation\").toLowerCase()!=\"vertical\"){\n        var offsetToNavigation = navOffsetNavigation(this);\n        if(flt!='none'){\n                if((off.left+sm.offsetWidth+this.offsetWidth)>document.body.clientWidth||(parElem && navOffset(parElem).left>off.left)&&(off.left>this.offsetWidth)){\n                    sm.style.left = (offsetToNavigation.left-sm.offsetWidth-offsetChildPage.left+this.offsetWidth )+'px';\n                }else{\n                    sm.style.left = offsetToNavigation.left-offsetChildPage.left+ 'px';\n                }\n        }else{\n            if((off.left+sm.offsetWidth+this.offsetWidth)>document.body.clientWidth||(parElem && navOffset(parElem).left>off.left)&&(off.left>this.offsetWidth))         {\n                sm.style.left = (offsetToNavigation.left-this.offsetWidth-offsetChildPage.left )+'px';\n            }else{\n                sm.style.left = (offsetToNavigation.left+this.offsetWidth-offsetChildPage.left )+'px';\n            }\n        }\n        var smPos = navMenuAlign(this,sm);\n        \n        var dummy = document.createElement(\"div\");\n        dummy.id=\"dummyForTransition\";\n        dummy.style.display=\"block\";\n        dummy.style.left=\"-4000px\";\n        var dum = sm.cloneNode(true);\n        dum.style.height='';\n        dummy.appendChild(dum);\n        navOffsetParent.appendChild(dummy);\n        var smOffHei = dum.offsetHeight;\n        dum.parentNode.parentNode.removeChild(dummy);\n        switch(smPos){\n            case \"bottomRight\"://No I18N\n            case \"bottomLeft\"://No I18N\n                if(offsetChildPage.top==diffTop.top){\n                    sm.style.top = 0-smOffHei+'px';\n                }else{\n                    var offsetToChildPage = navOffsetChildParentPage(this);\n                    sm.style.top = (offsetToChildPage.top+this.offsetHeight-smOffHei)+'px';\n                }\n                break;\n            default:\n                if(flt!='none'){\n                    sm.style.top = (diffTop.top-offsetChildPage.top+this.offsetHeight)+'px';\n                }else{\n                    sm.style.top = this.parentNode.parentNode.offsetTop+this.offsetTop+'px';\n                }\n                break;\n        }\n    }else{\n        var smWidth = sm.offsetWidth;\n        var dataWidth = sm.getAttribute(\"data-width\");\n        if(dataWidth){\n            smWidth = parseInt(dataWidth.replace(\"px\",\"\"));\n        }\n        sm.style.top = diffTop.top-offsetChildPage.top+'px';\n        if((diffTop.left+this.offsetWidth+smWidth)>window.innerWidth){\n            sm.style.left = diffTop.left-offsetChildPage.left-this.offsetWidth+'px';\n        }else{\n            sm.style.left = diffTop.left-offsetChildPage.left+this.offsetWidth+'px';\n        }\n        if( this.parentNode.id == 'nav-top' && mobile==true  && (typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true)){\n                sm.style.left = \"100%\";\n                var np;\n                if(!navAlignHor && this.parentNode.id == 'nav-top'){\n                        np = this.parentNode;\n                }\n                else{\n                        np = getParElem.parentNode.parentNode;\n                }\n                np.style.position=\"relative\";\n                if(window.innerWidth<640 || ipadVFix || (mobile && !istab)){\n                navMobileShowMenu.call(this,ev);\n                }\n        }\n    }\n    var transAvailable = navTop.getAttribute(\"data-transition\");\n    if(transAvailable==\"true\"){\n        if(sm.getAttribute(\"hiding-interval\")){\n            clearInterval(sm.getAttribute(\"hiding-interval\"));\n            sm.setAttribute(\"hiding-counter\",0);\n        }\n        sm.setAttribute(\"transit\",\"show\");\n        var smTransitionDuration = navGetClassProp(sm,\"transitionDuration\");//NO I18N\n        if(!smTransitionDuration){\n            smTransitionDuration = navGetClassProp(sm,\"WebkitTransitionDuration\");//NO I18N\n        }\n        smTransitionDuration = parseFloat(smTransitionDuration);\n        smTransitionProp = navGetClassProp(sm,'transitionProperty');//No I18N\n        if(!smTransitionProp) {\n            smTransitionProp = navGetClassProp(sm,'WebkitTransitionProperty');//No I18N\n        }\n        var ulElem = getFirstChild(sm);\n        if(smTransitionProp.indexOf(\"top\")>-1){\n            var dataTop = sm.getAttribute(\"data-top\");\n            if(dataTop==\"\" || dataTop==null){\n                dataTop= sm.style.top;\n                ulElem.style.top=\"0px\";\n                sm.style.top=\"0px\";\n                sm.setAttribute(\"data-top\",dataTop);\n                ulElem.setAttribute(\"data-top\",dataTop);\n            }\n            ulElem.style.top=dataTop;\n            sm.style.top=dataTop;\n        }\n        if(smTransitionProp.indexOf(\"left\")>-1){\n            var dataLeft = sm.getAttribute(\"data-left\");\n            if(dataLeft==\"\" || dataLeft==null){\n                dataLeft = sm.style.left;\n                ulElem.style.left=\"0px\";\n                sm.style.left=\"0px\";\n                sm.setAttribute(\"data-left\",dataLeft);\n                ulElem.setAttribute(\"data-left\",dataLeft);\n            }\n            ulElem.style.left=dataLeft;\n            sm.style.left=dataLeft;\n        }\n        if(smTransitionProp.indexOf(\"height\")>-1){\n            var dataHeight = sm.getAttribute(\"data-height\");\n            if(dataHeight==\"\" || dataHeight==null ||mobile){\n                var dataObj=fnSetSMValues(sm);\n                dataHeight=dataObj.height;\n            }\n               \n            ulElem.style.height=dataHeight;\n            sm.style.height=dataHeight;\n        }\n    \n        if(smTransitionProp.indexOf(\"width\")>-1){\n            var dataWidth = sm.getAttribute(\"data-width\");\n            if(dataWidth==\"\" || dataWidth==null){\n                var dataObj=fnSetSMValues(sm);\n                dataWidth=dataObj.width;\n            }\n            ulElem.style.width=dataWidth;\n            sm.style.width=dataWidth;\n        }\n        if(smTransitionProp.indexOf(\"opacity\")>-1){\n            var dataOpacity = sm.getAttribute(\"data-opacity\");\n            if(dataOpacity==\"\" || dataOpacity==null){\n                var dataObj=fnSetSMValues(sm);\n                aa = navGetClassProp(sm,'opacity');//No I18N\n                dataOpacity=dataObj.opacity;\n            }\n            ulElem.style.opacity=dataOpacity;\n            sm.style.opacity=dataOpacity;\n        }\n        var support = transSupportNav();\n        if(support.transitionEnd){\n            bindEvent(sm,support.transitionEnd,resetAttr);\n            setTimeout(function(){\n                if(sm.getAttribute(\"transit\") == \"show\"){\n                    resetAttr(null,sm);\n                }else{\n                    return;\n                }\n            },smTransitionDuration*1000);\n        }\n    }\n    this.parentNode.setAttribute(\"navshowing\",this.id);\n    if(window.ZS_PreviewMode){\n\t    fnBindHandleClickEvents();\n    }\n}\n\nresetAttr = function(e,resetSm){\n    var sm;\n    if(resetSm){\n        sm = resetSm;\n    }else{\n        sm = e.currentTarget;\n    }\n    sm.setAttribute(\"transit\",\"none\");\n    unbindEvent(sm,\"transitionend\",resetAttr);//NO I18N\n    var currentMenu = document.querySelectorAll( \"li.navArrow:hover\" )[0];\n    if(currentMenu){\n        var subId = currentMenu.getAttribute('navsub');\n        subId = subId.replace(\"ul\",\"id\");\n        var subMenuToShow =  document.getElementById(subId.replace(/nav\\-/,'nav-submenu-'));\n        if(subMenuToShow.style.display == \"none\"){\n            navShowMenu.call(currentMenu, null);\n        }\n    }    \n}\n\nnavMenuBtm = function(curr){\n   \n    var navigationTop = navOffset(curr).top;\n    var navigationBottom;\n    navigationBottom=window.innerHeight-navigationTop;\n    return navigationBottom;\n}\n\nnavHideSelf = function(ul) {\n    var sm = ul.parentNode;\n    if(sm.className.indexOf('submenu')!=-1) {\n        var transAvailable = navTop.getAttribute(\"data-transition\");\n        if(transAvailable==\"true\"){\n            sm.setAttribute(\"transit\",\"hide\");\n            var support = transSupportNav();\n            var smTransitionDuration = navGetClassProp(sm,\"transitionDuration\");//NO I18N\n            if(!smTransitionDuration){\n                smTransitionDuration = navGetClassProp(sm,\"WebkitTransitionDuration\");//NO I18N\n            }\n            smTransitionDuration = parseFloat(smTransitionDuration);\n            if(support.transitionEnd){\n                if(smTransitionProp.indexOf(\"height\")>-1 && !mobile ){\n                    sm.style.height=\"0px\";\n                }\n                if(smTransitionProp.indexOf(\"width\")>-1){\n                    sm.style.width=\"0px\";\n                }\n                if(smTransitionProp.indexOf(\"opacity\")>-1){\n                    sm.style.opacity=\"0\";\n                }\n                if(smTransitionProp.indexOf(\"top\")>-1){\n                    sm.style.top=\"0px\";\n                }\n                if(smTransitionProp.indexOf(\"left\")>-1){\n                    sm.style.left=\"0px\";\n                }\n                var abc= {\n                    element:sm,\n                    type:support.transitionEnd,\n                    handler:testhideSM\n                };\n                smListeners.push(abc);\n                bindEvent(sm,support.transitionEnd,testhideSM);\n                clearInterval(sm.getAttribute(\"hiding-interval\"));\n                var hiding_interval = setInterval(function(){\n                    check_transitionend(sm);\n                },smTransitionDuration*100);\n                sm.setAttribute(\"hiding-counter\",0);\n                sm.setAttribute(\"hiding-interval\",hiding_interval);\n            }else{\n                sm.style.display = 'none';\n            }\n            setTimeout(function(){\n                if(mobile){\n                    navMobileHideMenu(ul);\n                }else{\n                    navHideMenu(ul);\n                }\n            },500);\n        }else{\n         sm.style.display=\"none\";\n         navHideMenu(ul);\n        }\n    }\n    var navparent = ul.getAttribute('navparent');\n    if(navparent && navparent != '') {\n        var par = document.getElementById(navparent);\n        if(par){\n            var el;\n            if(par.tagName==\"ul\" || par.tagName==\"UL\"){\n                el= par;\n            }else{\n                el= par.parentNode;\n            }\n             \n            if(par.className.indexOf(\"active\")!= -1)\n                par.className = par.className.replace(\"active\",\"\");\n            if(navTimer)clearTimeout(navTimer)\n            navTimer = setTimeout(function(){\n                navHideSelf(el)\n            },500);\n        }\n    }\n}\n\ntesthideSM = function(ab,resetSm){\n    var sm;\n    if(resetSm){\n        sm = resetSm;\n    }else{\n        sm = ab.currentTarget;\n    }\n    sm.style.display=\"none\";\n    sm.setAttribute(\"transit\",\"none\");\n    unbindEvent(sm,\"transitionend\",arguments.callee);//No I18N\n}\n\nnavHideMenu = function(ul) {\n    if(ul && ul.id.indexOf(\"nav-submenu-\")!=-1){\n        ul = getFirstChild(ul);\n       \n    }\n    if(ul && ul.getAttribute('navshowing')){\n        var showingId = ul.getAttribute('navshowing');\n        if(showingId && document.getElementById(showingId)){\n            var subId = document.getElementById(showingId).getAttribute('navsub');\n            var submenu = document.getElementById(subId);\n            subId = subId.replace(\"ul\",\"id\");\n            var sm =  document.getElementById(subId.replace(/nav\\-/,'nav-submenu-'));\n            navHideMenu(submenu);\n            var fstChild = getFirstChild(sm);\n            var getParentId = fstChild.getAttribute(\"navparent\");\n            var getParElem = document.getElementById(getParentId);\n            if(getParElem.className.indexOf(\"active\")!= -1)\n                getParElem.className = getParElem.className.replace(\"active\",\"\");\n            ul.removeAttribute('navshowing');\n            var transAvailable = navTop.getAttribute(\"data-transition\");\n            if(transAvailable==\"true\"){\n                sm.setAttribute(\"transit\",\"hide\");\n                var support = transSupportNav();\n                var smTransitionDuration = navGetClassProp(sm,\"transitionDuration\");//NO I18N\n                if(!smTransitionDuration){\n                    smTransitionDuration = navGetClassProp(sm,\"WebkitTransitionDuration\");//NO I18N\n                }\n                smTransitionDuration = parseFloat(smTransitionDuration);\n                if(support.transitionEnd){\n                    if(smTransitionProp.indexOf(\"height\")>-1 && !(typeof(parent.responsivePreview)!=\"undefined\" && parent.responsivePreview==\"true\")){\n                        sm.style.height=\"0px\";\n                    }\n                    if(smTransitionProp.indexOf(\"width\")>-1){\n                        sm.style.width=\"0px\";\n                    }\n                    if(smTransitionProp.indexOf(\"top\")>-1){\n                        sm.style.top=\"0px\";\n                    }\n                    if(smTransitionProp.indexOf(\"left\")>-1){\n                        sm.style.left=\"0px\";\n                    }\n                    if(smTransitionProp.indexOf(\"opacity\")>-1){\n                        sm.style.opacity=\"0\";\n                    }\n                    var abc= {\n                        element:sm,\n                        type:support.transitionEnd,\n                        handler:testhideSM\n                    };\n                    smListeners.push(abc);\n                    bindEvent(sm,support.transitionEnd,testhideSM);\n                    clearInterval(sm.getAttribute(\"hiding-interval\"));\n                    var hiding_interval = setInterval(function(){\n                        check_transitionend(sm);\n                    },smTransitionDuration*100);\n                    sm.setAttribute(\"hiding-counter\",0);\n                    sm.setAttribute(\"hiding-interval\",hiding_interval);\n                }else{\n                    sm.style.display = 'none';\n                }\n            }else{\n                sm.style.display = 'none';\n            }\n        }\n    }\n}\n\nhideSubMenus = function(sm){\n    sm.style.display=\"none\";\n}\n\nstopPropagation = function(e){\n    if (e.stopPropagation) {\n        e.stopPropagation();\n    }else {\n        e.cancelBubble = true;\n    }\n}\npreventDefault = function(e){\n    if(e.preventDefault) {\n        e.preventDefault();\n    }else {\n        e.returnValue = false;\n    }\n}\n\nfnMouseOut =function(ev){\n    stopPropagation(ev);\n    var targt = ev.target;\n    if(targt && targt.tagName){\n        while(targt && targt.tagName && targt.tagName.toLowerCase()!=\"ul\"){\n            if(targt.tagName.toLowerCase()==\"body\"){\n                break;\n            }else{\n                targt = targt.parentNode;\n            }\n        }\n        if(targt && targt.tagName.toLowerCase()==\"ul\" && (targt.id==\"nav-top\"|| targt.getAttribute(\"navparent\") != null))\n            return;\n    }\n    var lis = document.getElementsByTagName(\"li\");\n    var li,elem;\n    for(var i=0;(li=lis[i]);i++){\n        if(li.className.indexOf(\"active\")!=-1){\n            elem = li;\n            break;\n        }\n    }\n    if(elem){\n        fnNavHideMenu(elem);\n    }\n}\n\nfnNavHideMenu = function(elem){\n    if(elem.getAttribute('navsub') != null){\n        var subId = elem.getAttribute('navsub');\n        var submenu = document.getElementById(subId);\n        var sm =  document.getElementById(subId.replace(/nav\\-/,'nav-submenu-'));\n        if(submenu){\n            var lis = submenu.getElementsByTagName(\"li\");\n            var li;\n            for(var i=0;(li=lis[i]);i++){\n                if(li.getAttribute('navsub') != null)\n                    fnNavHideMenu(li);\n            }\n        }\n        if(elem.className.indexOf(\"active\")!= -1)\n            elem.className = elem.className.replace(\"active\",\"\");\n        if(elem.tagName.toLowerCase()==\"ul\" && elem.getAttribute('navshowing') != null)\n            elem.removeAttribute('navshowing');\n        else if(elem.tagName.toLowerCase()==\"li\" && elem.parentNode.getAttribute('navshowing') != null)\n            elem.parentNode.removeAttribute('navshowing');\n        if(sm){\n            sm.style.height=\"0px\";\n            sm.style.width=\"0px\";\n            sm.style.left=\"-4000px\";\n        }\n    }else{\n        var subId= elem.parentNode.id;\n        var sm =  document.getElementById(subId);\n        if(sm){\n            sm.style.height=\"0px\";\n            sm.style.width=\"0px\";\n            sm.style.left=\"-4000px\";\n        }\n    }\n}\n\ngetFirstChild = function(elm){\n    for(x=0;x<elm.childNodes.length;x++){\n        firstChild=elm.childNodes[x];\n        if(firstChild.nodeType!=3){\n            break;\n        }        \n    }\n    return firstChild;\n}\n\nsetTimeout(function(){\n    if(window.ZS_PublishMode && !window.ZS_PreviewMode){\n        var userView = getCookie('userView');// No I18N\n        if(userView == 'web'){\n            var mobile;\n            var userAgent = navigator.userAgent;\n            mobile =!!(userAgent.match(/(iPhone|iPod|blackberry|android 0.5|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|Playstation Portable|SonyEricsson|Samsung|MobileExplorer|PalmSource|Benq|Windows Phone|Windows Mobile|IEMobile|Windows CE|Nintendo Wii)/i));\n     \n            if(document.getElementById('footerBar').style.display!='none'){\n                if(document.getElementById('mobileBar') && mobile){\n                    document.getElementById('mobileBar').style.display=\"block\";\n                }\n            }\n            else{\n                document.getElementById('footerBar').style.display='block'; \n            }\n            if(mobile){\n                document.getElementById('mobileSite').style.display=\"block\";\n            }\n        }else{\n            delCookie('userView');//No I18N\n        }\n    }\n},1000);//No I18N\n\nfnBindHandleClickEvents = function(){\n        var container = document.getElementsByTagName(\"body\");\n        var links = container[0].getElementsByTagName(\"a\");\n        for(var i =0;link=links[i];i++){\n\t    if(parent.responsivePreview==\"true\"){\n\t\tif(!checkExternalUrl(link.href) && link.parentNode.getAttribute(\"navsub\")==null){\n            \t\t if(((link.parentNode.parentNode.id!==\"nav-top\") || (link.parentNode.parentNode.id===\"nav-top\" && link.parentNode.id!=\"nav-li987\" && link.parentNode.id!=\"nav-li1234\" && !checkExternalUrl(link.href))) && link.id!==\"zpFooterUpgradeLink\" && link.id !== \"zpBlogNext\" && link.id !== \"zpBlogPrev\" && link.href.search(\"blogs/feed/\") === -1 && link.parentNode.id !==\"nav-liMore\" && !checkExternalUrl(link.href) && link.href.indexOf(\"blogs/\") === -1 && !link.parentNode.getAttribute(\"back\")){\n                \t\tbindEvent(link,'click', fnPreviewClickInfoMsg);   //No I18N\n\t\t\t}\n\t\t}\n\t    }\n\t    else{\n\t\tif(!checkExternalUrl(link.href)){\n\t\t\t if(((link.parentNode.parentNode.id!==\"nav-top\") || (link.parentNode.parentNode.id===\"nav-top\" && link.parentNode.id!=\"nav-li987\" && link.parentNode.id!=\"nav-li1234\" && !checkExternalUrl(link.href))) && link.id!==\"zpFooterUpgradeLink\" && link.id !== \"zpBlogNext\" && link.id !== \"zpBlogPrev\" && link.href.search(\"blogs/feed/\") === -1 && link.parentNode.id !==\"nav-liMore\" && !checkExternalUrl(link.href) && link.href.indexOf(\"blogs/\") === -1){\n                                bindEvent(link,'click',fnPreviewClickInfoMsg);   //No I18N\n                         }\n\t\t}\n\t    }\t\t   \n        }\n}\nfnPreviewClickInfoMsg=function(e){\n    preventDefault(e);\n    stopPropagation(e);\n    var infoElem = parent.document.getElementById(\"zpPreviewClickInfoMsg\");\n    if(infoElem && !bFlg){\n        bFlg = true;\n        infoElem.style.display=\"block\";\n        var msgWid = infoElem.offsetWidth;\n        var wwidth = parent.document.documentElement.clientWidth;\n        infoElem.style.left=(wwidth/2-msgWid/2)+'px';\n        infoElem.style.top='0px';\n        infoElem.style.position=\"absolute\";\n        var alertContent = infoElem.getElementsByClassName(\"alertMsgCont\")[0].innerHTML;\n        if((typeof(e.target)!=\"undefined\")&&(e.target.id===\"overlay\")){\n            if(e.target.previousSibling.tagName.toLowerCase() == \"a\"){\n                addedURL=e.target.previousSibling.href;\n            }\n        }\n        else{\n            var addedURL = this.href;\n\t      if(e.target && e.target.href && !addedURL){ \n                addedURL = e.target.href; \n            } \n        }\n        if(addedURL){\n            var tempUrl = addedURL.split(\"/\");\n            if(tempUrl[tempUrl.length-1]==\"signin\" || tempUrl[tempUrl.length-1]==\"signup\"){\n                addedURL = \"Sign In/Sign Up\";//NO I18N\n            }\n            var t = document.createElement('a');\n            t.href = addedURL;\n            var exDomain = t.host;\n            var contLen = exDomain.length + 10;\n\n            if(addedURL.length >= contLen) {\n                addedURL = addedURL.substring(0, contLen) + \" ...\";      \n            }\n        }\n        infoElem.getElementsByClassName(\"alertMsgCont\")[0].innerHTML= addedURL?(addedURL==\"Signin/Signup\"?(addedURL+\" \"+alertContent):(\"\\\"\"+addedURL+\"\\\" \"+alertContent)):('Button '+alertContent); // No I18N\n        setTimeout(function(){\n                infoElem.style.display='none';\n                infoElem.getElementsByClassName(\"alertMsgCont\")[0].innerHTML=alertContent;    \n                bFlg = false;\n                },2000);\n    }\n\n    return false;\n}\n\n\n\ntransSupportNav = function(){\n     var transitions = {\n                'transition':'transitionend',// No I18N\n                'OTransition':'oTransitionEnd',// No I18N\n                'MSTransition':'msTransitionEnd',// No I18N\n                'MozTransition':'transitionend',// No I18N\n                'WebkitTransition':'webkitTransitionEnd'// No I18N\n     }\n     var style = document.body.style || document.documentElement.style;\n     for(transition in transitions){\n        if(style[transition] != undefined){\n            return {transitionEnd:transitions[transition],'transition':transition};\n        }\n     }\n     return {'transitionEnd':undefined};// No I18N\n}\n\nbindEvent=function(el,type,func){\n    if(el.addEventListener){\n        el.addEventListener(type,func,false);\n    }else if(el.attachEvent){\n        el.attachEvent('on'+type,func);\n    }\n}\nunbindEvent=function(el,type,handler){\n    if(handler){\n        if(el.removeEventListener){\n            el.removeEventListener(type,handler,false);    \n        }else if(el.detachEvent){\n            el.detachEvent('on'+type,handler);\n        }\n    }\n}\n\ncheck_transitionend = function(sm){\n    var counter = sm.getAttribute(\"hiding-counter\");\n    sm.setAttribute(\"hiding-counter\",++counter);\n    if(smTransitionProp.indexOf(\"height\")>-1){\n        if(sm.style.height == navGetStyle(sm,'height')){\n            testhideSM(null,sm);\n        }\n    }\n    if(smTransitionProp.indexOf(\"width\")>-1){\n        if(sm.style.width == navGetStyle(sm,'width')){\n            testhideSM(null,sm);\n        }\n    }\n    if(smTransitionProp.indexOf(\"top\")>-1){\n        if(sm.style.top == navGetStyle(sm,'top')){\n            testhideSM(null,sm);\n        }\n    }\n    if(smTransitionProp.indexOf(\"left\")>-1){\n        if(sm.style.left == navGetStyle(sm,'left')){\n            testhideSM(null,sm);\n        }\n    }\n    if(smTransitionProp.indexOf(\"opacity\")>-1){\n        if(sm.style.opacity == navGetStyle(sm,'opacity')){\n            testhideSM(null,sm);\n        }\n    }\n    if(sm.getAttribute(\"hiding-counter\") > 12){\n        clearInterval(sm.getAttribute(\"hiding-interval\"));\n    }\n}\nnavLeftAlign = function(np2,sm2,px){\n    /*if(navAlignHor || window.innerWidth<640){\n        document.body.scrollTop=\"0px\";// No I18N\n    }*/\n    np2.style.left = parseInt(np2.style.left) - px+\"%\";\n    sm2.style.left = parseInt(sm2.style.left) - px+\"%\";\n    if(parseInt(sm2.style.left)<5){\n        sm2.style.left =\"0%\";\n        np2.style.left = \"-100%\";\n        if((sm2.id!=\"nav-submenu-idMore\") || (sm2.id==\"nav-submenu-idMore\" && istab && ipadVFix)){\n            if((np2.id!=\"navigation\" && navAlignHor) ||(!navAlignHor && (np2.id!=\"nav-top\" || (np2.id==\"nav-top\" && ipadVFix && istab)))){\n                np2.style.display = \"none\";\n            }\n        }\n        return;\n    }\n    setTimeout(function(){\n        navLeftAlign(np2,sm2,px);\n    },25);\n}\n\nnavRightAlign = function(np2,sm2,px){\n    sm2.style.left = parseInt(sm2.style.left)+px+\"%\";\n    np2.style.left = parseInt(np2.style.left)+px+\"%\";\n    if(parseInt(sm2.style.left)>95){\n        np2.style.left = \"0%\";\n        sm2.style.left =\"100%\";\n        np2.style.top=\"0px\";\n        sm2.style.display = 'none';\n        return;\n    }\n    setTimeout(function(){\n        navRightAlign(np2,sm2,px);\n    },25);\n}\n\nnavRightAli = function(pid,sid){\n    var smE = document.getElementById(sid);\n    if(parseInt(smE.style.left)!=0){\n        return;\n    }\n    var psm = document.getElementById(pid).parentNode.parentNode.id;\n    var psmE;\n    if(psm == \"navigation\"){\n        psm = \"nav-top\";// No I18N\n    }\n    psmE = document.getElementById(psm);\n    psmE.style.display = 'block';\n    navRightAlign(psmE,smE,10);\n}\n\nnavMobileHideMenu = function(ul) {\n    if(ul && ul.getAttribute('navshowing')){\n        var showingId = ul.getAttribute('navshowing');\n        if(showingId && document.getElementById(showingId)){\n            var subId = document.getElementById(showingId).getAttribute('navsub');\n            var submenu = document.getElementById(subId);\n            subId = subId.replace(\"ul\",\"id\");\n            var sm =  document.getElementById(subId.replace(/nav\\-/,'nav-submenu-'));\n            navMobileHideMenu(submenu);\n            var fstChid = getFirstChild(sm);\n            var getParentId = fstChid.getAttribute(\"navparent\");\n            var getParElem = document.getElementById(getParentId);\n            if(getParElem.className.indexOf(\"active\")!= -1){\n                getParElem.className = getParElem.className.replace(\"active\",\"\");\n            }\n            ul.removeAttribute('navshowing');\n            sm.style.display = 'none';\n            var mainParent=document.getElementById(\"nav-liMore\");\n            if(mainParent==null){\n                mainParent=document.getElementById(\"nav-li1234\");\n            }\n            if(mainParent && mainParent.className.indexOf(\"active\")!= -1){\n                mainParent.className = mainParent.className.replace(\"active\",\"\");\n                document.getElementById(\"nav-top\").removeAttribute('navshowing');\n            }\n        }\n    }\n}\n\nnavDisable =function(ev){\n    ev = ev || window.event;\n    var targt = ev.target;\n    //ev.stopPropagation();\n    if(targt && targt.tagName){\n        while(targt && targt.tagName && targt.tagName.toLowerCase()!=\"ul\"){// No I18N\n            if(targt.tagName.toLowerCase()==\"body\"){\n                break;\n            }else{\n                targt = targt.parentNode;\n            }\n        }\n        if(targt && targt.tagName.toLowerCase()==\"ul\" && (targt.id==\"nav-top\"|| targt.hasAttribute(\"navparent\") || target.id==\"childPageParent\")){\n            return;\n            }\n    }\n    var lis = document.getElementsByTagName(\"li\");\n    var li,elem;\n    for(var i=0;(li=lis[i]);i++){\n        if(li.className.indexOf(\"active\")!=-1){\n            if(li.getAttribute(\"back\")!=\"true\"){\n                elem = li;\n            }\n        }\n    }\n    if(elem && (window.innerWidth<640 || (mobile && !istab) || (ipadVFix && istab) )){\n        navMobileHideMenu(elem.parentNode);\n        if((elem.parentNode.id==\"nav-top\" && ipadVFix && istab)){\n           elem.parentNode.style.display=\"block\";\n           elem.parentNode.style.left=\"0px\";\n           //ev.stopPropagation();\n           //ev.preventDefault();\n           }\n\n    }else if(elem){\n        navHideMenu(elem.parentNode);\n        if(elem.parentNode.id!=\"nav-top\"){\n            navHideMenu(document.getElementById(\"nav-top\"));\n        }\n    }\n}\n\nnavMobileShowMenu = function(ev) {\n    var subId = this.getAttribute('navsub');\n    if(!subId){\n        return;\n    }\n    document.getElementsByTagName('body')[0].style.overflowX=\"hidden\";// No I18N\n    subId = subId.replace(\"ul\",\"id\");\n    if(document.getElementById(\"nav-ulMore\")){\n        document.getElementById(\"nav-ulMore\").style.height=\"\";\n    }\n    var sm =  document.getElementById(subId.replace(/nav\\-/,'nav-submenu-'));\n    var showingId = document.getElementById(\"nav-top\").getAttribute('navshowing');\n    var fstChild = getFirstChild(sm);\n    var getParentId = fstChild.getAttribute(\"navparent\");\n    if((subId===\"nav-idMore\" && showingId===\"nav-liMore\") || (showingId===getParentId)){\n        //sm.style.display=\"none\";\n        navMobileHideMenu(this.parentNode);\n\t/*if(ev){\n        ev.preventDefault();\n        ev.stopPropogation();\n\t}*/\n        return;\n    }\n    navMobileHideMenu(this.parentNode);\n    sm.style.display = '';\n    sm.style.opacity = 1;\n    sm.style.top=\"0px\";\n    var getParElem = document.getElementById(getParentId);\n    var parElem = document.getElementById(getParElem.parentNode.getAttribute(\"navparent\"));\n    if(getParElem.className.indexOf(\"active\")== -1){\n        getParElem.className+=\" active\";// No I18N\n    }\n    sm.style.left = 0+'px';\n    var paddingLeft=parseInt(navGetStyle(sm,\"padding-left\").replace(\"px\",\"\"));// No I18N\n    var paddingRight=parseInt(navGetStyle(sm,\"padding-right\").replace(\"px\",\"\"));// No I18N\n    var navUl=document.getElementById(sm.id.replace(\"nav-submenu-id\",\"nav-ul\"));\n    if(navAlignHor){\n        sm.style.width=(sm.parentNode.clientWidth-paddingLeft-paddingRight)+\"px\";\n        navUl.style.width=sm.style.width;\n    }else{\n        sm.style.width=sm.parentNode.clientWidth+\"px\";\n        navUl.style.width=sm.style.width;\n    }\n    scrollTopMenu();\n\n        smTransitionProp = navGetClassProp(sm,'transitionProperty');//No I18N\n        if(!smTransitionProp) {\n            smTransitionProp = navGetClassProp(sm,'WebkitTransitionProperty');//No I18N\n        }\n        if(smTransitionProp.indexOf(\"height\")>-1){\n            var ulElem = getFirstChild(sm);\n            var dataHeight = sm.getAttribute(\"data-height\");\n            if(dataHeight==\"\" || dataHeight==null ||mobile){\n                //sm.style=\"\";\n                var dataObj=fnSetSMValues(sm);\n                dataHeight=dataObj.height;\n            }\n            //ulElem.style.height=dataHeight;\n            sm.style.height=dataHeight;\n        }\n    if(window.innerWidth<350 && navAlignHor){\n        sm.style.width=\"100%\";\n    }\n    sm.style.height=\"auto\";\n\n    var par=sm.parentNode;\n    var diffTop = navOffset(this);\n    var diff = document.getElementById('childPageParent');\n    var offsetChildPage = navOffset(diff);\n    if(navAlignHor){\n        if(this.parentNode.id == 'nav-top' &&document.getElementById('childPageParent').style.top==\"\"){\n            document.getElementById('childPageParent').style.top=diffTop.top-offsetChildPage.top+this.offsetHeight+\"px\";\n        }\n    }else{\n        if(this.parentNode.id === 'nav-top'){\n            if(ipadVFix && istab){\n                var prevTop=0;\n            this.parentNode.style.position=\"relative\";\n            this.parentNode.style.left=\"0px\";\n                /*if(document.getElementById('childPageParent').style.top!=\"\" &&(diffTop.top-offsetChildPage.top-this.offsetHeight)!=0){\n                    prevTop=parseInt(document.getElementById('childPageParent').style.top.replace(\"px\",\"\"));\n                }\n                document.getElementById('childPageParent').style.top=diffTop.top-(offsetChildPage.top-prevTop)+this.offsetHeight+\"px\";\n                */\n                var child2 = document.getElementById('childPageParent');\n                var nav = document.getElementById('nav-top');\n                var diff = child2.offsetTop - (child2.style.top).replace(\"px\",\"\");\n                child2.style.top = nav.offsetTop-diff + \"px\";\n            }else{\n                var diff=(diffTop.top-offsetChildPage.top);\n                if(!(diff<0)){\n                    document.getElementById('childPageParent').style.top=diff+this.offsetHeight+\"px\";\n                }\n            }\n        }\n    }\n    this.parentNode.setAttribute(\"navshowing\",this.id);\n    var clickLi = this.getAttribute(\"navsub\");\n    var listFirstLi  = document.getElementById(clickLi);\n    if(!listFirstLi.children[0].hasAttribute(\"back\") && !listFirstLi.children[0].hasAttribute(\"firstNav\")){\n        var curElem = document.getElementById(this.id);\n        if(this.id!=\"nav-li987\" && this.id!=\"nav-liMore\" && this.id!=\"nav-li1234\"){\n            var firstLi = curElem.cloneNode(true);\n            firstLi.removeAttribute(\"id\");\n            if(firstLi.getAttribute(\"class\").indexOf(\"selected\")!=-1){\n                firstLi.setAttribute(\"class\",\"selected\");\n            }\n            else{\n                firstLi.removeAttribute(\"class\");\n            }\n            firstLi.removeAttribute(\"navsub\");\n            var fstChd = getFirstChild(firstLi);\n            var href = fstChd.getAttribute('href');\n            /*if(parent.mobilePreview && href!=null && href.indexOf(\"?mobile=true\")== -1){\n                href=href+\"?mobile=true\";//No I18N\n            }*/\n            fstChd.setAttribute('href',href);\n            firstLi.setAttribute(\"firstNav\",\"true\");\n            if(href.indexOf(\"javascript:;\")==-1){\n                listFirstLi.insertBefore(firstLi,listFirstLi.firstChild);\n            }\n        }\n    }\n    if(navAlignHor && parElem == null){\n        if(fstChild.children[0].firstChild.hasAttribute('more')){\n            fstChild.children[0].style.display ='none';\n        }\n    }\n    //else if(!listFirstLi.children[0].hasAttribute(\"back\") && this.id!=\"nav-liMore\" && this.parentNode.id!==\"nav-top\"){\n    else if(!listFirstLi.children[0].hasAttribute(\"back\") && (this.id!=\"nav-liMore\" || (this.id==\"nav-liMore\" && istab && ipadVFix)) && (this.parentNode.id!==\"nav-top\" || (this.parentNode.id==\"nav-top\" && istab && ipadVFix))){    \n        var back = document.createElement('li');\n        back.setAttribute(\"back\",\"true\");\n        back.style.cursor='pointer';\n        back.onclick = function(){\n            this.className ='active';\n            navRightAli(getParentId,this.parentNode.parentNode.id);\n            var parNode=document.getElementById(getParentId);\n            if(parNode.parentNode){\n                parNode.parentNode.removeAttribute('navshowing');\n            }\n            if(parNode.className.indexOf(\"active\")!=-1){\n                parNode.className = parNode.className.replace(\"active\",\"\");\n            }\n        }\n        var a = document.createElement('a');\n        var span = document.createElement('span');\n        span.innerHTML=\"&#8592;Back\";//No I18N\n        span.style.alignContent=\"center\";// No I18N\n        a.appendChild(span);\n        back.appendChild(a);\n        listFirstLi.insertBefore(back,listFirstLi.firstChild);\n    }\n    /*if(!navAlignHor){\n        //sm.style.left = \"-100%\";\n    }*/\n    if(parElem || (mobile && this.parentNode.id == 'nav-top')){\n        sm.style.left = \"100%\";\n        var np;\n        if(!navAlignHor && this.parentNode.id == 'nav-top'){\n            np = this.parentNode;\n        }\n        else{\n            np = getParElem.parentNode.parentNode;\n        }\n        /*if(!navAlignHor && (np.offsetHeight < sm.offsetHeight)){\n            //document.getElementById('navigation').style.height=sm.offsetHeight+\"px\";\n        }*/\n        navLeftAlign(np,sm,10);\n    }\n    document.getElementsByTagName('body')[0].style.overflowX=\"\";// No I18N\n    if(window.ZS_PreviewMode){\n        fnBindHandleClickEvents();\n    }\n}\n\nwindow.onchangeorientation=function(){\n    if(document.readyState==\"complete\" && (typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true)){\n        if(window.innerWidth<640){\n            navMobileHideMenu(document.getElementById(\"nav-top\"));\n        }else{\n            navHideMenu(document.getElementById(\"nav-top\"));\n        }\n        navActivate();\n    }\n    resizeElements();\n}\n\nscrollTopMenu = function(){//move to menu top position\n    var scrollElem = document.getElementById(\"nav-top\");\n    var elemYPos;\n    //topYPos = parseInt((childMenu.style.top).replace(\"px\",\"\"));\n    elemYPos = scrollElem.offsetTop;\n    if(scrollElem && ((mobile || window.innerWidth<640)) && window.pageYOffset>elemYPos){\n        window.scrollTo(window.pageXOffset,elemYPos)\n    }\n}\n"
"/*$Id: navigation-load.js,v 2126:25524a5ec327 2011/07/28 10:46:26 prashantd $*/\nvar _domloaded,drtimer;\nvar xmlhttp;\nvar formscount = new Array();\nvar formscache = new Array();\nvar formsLoaded = new Array();\nvar scriptLoaded = false;\n\nvar creatorJsLoaded = true;\nvar startVal;\nvar endVal;\nvar MAX_EXTRIES = 10;\nvar navigArray = {\"first\":10, \"last1\":0, \"previous\":10, \"next\":20, \"last\":0};   //NO I18N\nvar cbGlobal = {};\nvar cbNavig = {};\nvar commentsArr;\nvar cbCRHTML;\nvar commentsTempArr=[];\nvar cbElm;\nvar origOverlayWidth=0,origOverlayHeight=0,tempOverlayWidth=0,tempOverlayHeight=0,tempOrigOverlayWidth=0,tempOrigOverlayHeight=0;\nvar prevWidth=parent.window.innerWidth;\nvar curWidth=parent.window.innerWidth;\nvar cbDet;\nvar isResize = false;\nvar inpElm;\n var formsLoadedCount=0;\n\nvar drChecker = function(e){\n    if(e && (e.type == \"DOMContentLoaded\" || e.type == \"load\")) {\n        fireDOMReady();\n    } else if (document.readyState) {\n        if((/loaded|complete/).test(document.readyState)) {\n            fireDOMReady();\n        }\n        else if(typeof document.documentElement.doScroll == 'function') {\n            try {\n                loaded || document.documentElement.doScroll('left');\n            }\n            catch(e) {\n                return;\n            }\n            fireDOMReady();\n        }\n    }\n}\nvar fireDOMReady = function() {\n    if(!_domloaded) {\n        _domloaded=true;\n        if(document.removeEventListener) {\n            document.removeEventListener(\"DOMContentLoaded\", drChecker, false);\n        }\n        document.onreadystatechange = null;\n        window.onload = null;\n        clearInterval(drtimer);\n        drtimer = null;\n        onloadFunction();\n    }\n}\nfunction setScroll(){\n    if(window.scrollY!=scrolly){\n        scroll=true;\n        scrolly=window.scrollY;\n    }\n}\n\nif(document.addEventListener)\n    document.addEventListener(\"DOMContentLoaded\", drChecker, false);\n    document.onreadystatechange = drChecker;\n    window.onload = drChecker;\n    drtimer = setInterval(drChecker,5);\n\nvar albumCount;\nvar loadingAlbumCount = 1;\nvar galleryElements;\nvar Gallery = {};\nvar twitterElements = new Array();\nvar twitterWidgetElem = new Array();\nvar twitterButtonElem = new Array();\nvar mapElem = new Array();\nvar gplusElem = new Array();\nvar dyncontElem = new Array();\nvar gplusBlogElm = new Array();\nvar imgElem = new Array();\nvar ownGallery = {}\nvar carousel;\nvar audios=[];\nvar playLists=[];\nvar hash=\"\";\nvar scroll=false;\nvar scrolly=window.scrollY;\nvar assetsUrl=\"\";\nvar newsletter_elts = new Array();\n\ngetElementsByName_iefix=function(tag, name) {\n    var elem = document.getElementsByTagName(tag);\n    var elems = [];\n    for(i = 0,iarr = 0; i < elem.length; i++) {\n        att = elem[i].getAttribute(\"name\");\n        if(att == name && name == \"gallery\") {\n            albumCount.push(elem[i]);\n            galleryElements.push(document.getElementById('zpg'+elem[i].id));\n         }else{\n            elems.push(elem[i]);\n         }\n    }\n    return elems;\n}\n\ngetElementsByClassName_ieFix = function(context, search){\n    var elements_arr = [];\n    elements_arr[0] = context.getElementsByTagName(\"div\");\n    elements_arr[1] = context.getElementsByTagName(\"input\");\n    var result = [];\n    for(var i = 0; i < elements_arr.length; i++){\n        var elements = elements_arr[i];\n        for(var index = 0; index < elements.length; index++){\n            if(elements[index].className === search || elements[index].className.indexOf(search) != -1) {\n                result.push(elements[index]);\n            }\n        }\n    }\n    return result;\n}\n\nif(typeof String.prototype.trim !== \"function\"){\n    String.prototype.trim = function() {\n        return this.replace(/^\\s+|\\s+$/g, ''); \n    }\n}\n\nvar usrAgent = window.navigator.userAgent;\nif(window.ZS_PreviewMode){\n        assetsUrl=\"/zs-site/assets/v0\";//NO I18N\n}\nvar creatorJqueryFile = (usrAgent.toLowerCase().indexOf(\"msie\")!=-1) ? \"/siteforms/appcreator/live/common/js/jqueryie.js\" : \"/siteforms/appcreator/live/common/js/jquery.js\";//NO I18N\n//var creatorScriptSrcs =[creatorJqueryFile,\"/siteforms/appcreator/live/common/js/form.js\",\"/siteforms/appcreator/live/common/js/generatejs.js\",\"/siteforms/appcreator/live/common/js/searchableInput.js\",\"/siteforms/appcreator/live/common/js/app.js\",assetsUrl+\"/js/form-renderer.js\",assetsUrl+\"/js/formSubmitJs.js\"];//NO I18N\nvar preCreatorScript =[\"/siteforms/appcreator/live/common/js/form.js\",\"/siteforms/appcreator/live/common/js/generatejs.js\",\"/siteforms/appcreator/live/common/js/searchableInput.js\",\"/siteforms/appcreator/live/common/js/app.js\",\"/siteforms/appcreator/live/common/js/securityutil.js\"];//NO I18N\nvar creatorScriptSrcs =[assetsUrl+\"/js/form-renderer.js\",assetsUrl+\"/js/formSubmitJs.js\"];//NO I18N\n\nfunction spcLoadScript (src,load,fun) {\n    var script = document.createElement('script');\n    if(load){\n        if(this.addEventListener){\n            script.onload = function(){fun();};\n        }\n        else{\n            script.onreadystatechange = function(){\n                if(v([\"loaded\",\"complete\"],this.readyState)>-1){\n                    this.onreadystatechange= null;\n                    fun();//check call sites scrip\n                }\n            }\n        }\n    }\n    script.onerror = function(){creatorJsLoaded = false;};\n    script.src =src;\n    document.getElementsByTagName('head')[0].appendChild(script);\n}\n\nfunction loadCreatorScripts() {\n    if(creatorScriptSrcs.length>0) {\n        var loadScriptNow = creatorScriptSrcs.shift();\n        //commonLoadScript(loadScriptNow,(creatorScriptSrcs.length==0)?\"setFormContextPath\":\"loadCreatorScripts\");///NO I18N\n        spcLoadScript(loadScriptNow,true,(creatorScriptSrcs.length==0)?setFormContextPath:loadCreatorScripts);///NO I18N\n    }\n}\n\nfunction loadPreCreatorScripts() {//creator js\n    var loadScriptNow = preCreatorScript.shift();\n    if(preCreatorScript.length==0) {\n        spcLoadScript(loadScriptNow,true,loadCreatorScripts);\n    }else{\n        spcLoadScript(loadScriptNow,true,loadPreCreatorScripts);\n    }\n}\n\nfunction getAllFormMeta (){\n    for(i=0;i<formscount.length;i++){\n        getForm(i);\n    }\n}\n\nfunction setFormContextPath (){\n    scriptLoaded = true;\n    if(window.ZCApp){\n        window.ZCApp.contextPath = \"/siteforms\";// No I18N\n        renderFromSave();\n        //getForm(0);\n        if(window.ZCForm){\n            ZCForm.callbackFunc = function(formLinkName, formAccessType, paramsMap, infoMsg, errorMsg, succMsg, succMsgDuration){\n                if(!formLinkName){\n                    return;\n                }\n                var formMsgEle = document.getElementById(\"formMsg_\"+formLinkName);\n                formMsgEle.style.color = \"green\";\n                var successMsg = (succMsg===\"zc_success\")?\"\":fnAsString(succMsg);//NO I18N\n                formMsgEle.innerHTML = successMsg;\n                formMsgEle.style.display = \"block\";\n                setTimeout(function(){formMsgEle.style.display=\"none\"}, 5000);\n                var formElem = fnGetElementByAttribute(\"elname\", formLinkName, \"form\");//NO I18N\n                formElem.reset();\n                relodCurrentForm = false;\n            }\n            ZCApp.showErrorDialog = function(headerMsg, message){\n                var formMsgEle = document.getElementById(\"formMsg_\"+ZohoForms.submittedForm);\n                formMsgEle.style.color = \"red\";\n                formMsgEle.innerHTML = fnAsString(message);\n                formMsgEle.style.display = \"block\";\n                setTimeout(function(){formMsgEle.style.display=\"none\"}, 5000);\n            }\n        }\n    }\n}\n\n\ngetForm = function(formno){\n    var form = formscount[formno];\n    if(!form){\n        return;\n    }\n    var formDiv = form.firstChild;\n    while(!formDiv.tagName) {\n        formDiv = formDiv.nextSibling;\n    }\n    var frmid =formDiv.getAttribute(\"formid\");\n    var siteid = frmid.split(\"-\")[0].replace(/,/g,\"\");\n    var formid = frmid.split(\"-\")[1].replace(/,/g,\"\");\n    if(formsLoaded.indexOf(formid)!=-1){\n        return;\n    }else{\n        formsLoaded.push(formid);\n        try{\n            var xmlhttp;\n            if(window.XMLHttpRequest)\n                xmlhttp = new XMLHttpRequest();\n            else\n                xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            xmlhttp.onreadystatechange = function(){\n                if(xmlhttp.readyState ==4 && xmlhttp.status == 200)\n                    renderOrSave(formno,form,this.responseText);\n            }\n            appName = \"zsa-\"+siteid;\n            var time = new Date().getTime();\n            if(window.ZS_PreviewMode){\n                xmlhttp.open(\"GET\", \"/zs-site/api/v0/getFormMeta?siteId=\" + siteid + \"&formid=\"+formid, true);\n            }else{\n                xmlhttp.open(\"GET\",\"/siteforms/showFormJson.do?formLinkName=\"+formid+\"&sharedBy=\"+siteid+\"&appLinkName=\"+appName+\"&type=json&raw=true&metaData=complete&time=\"+time,true);\n            }\n            xmlhttp.send();\n        }catch(e){}\n    }\n}\n\nrenderOrSave = function(formno,form,metaData){\n    try {\n        if(metaData!=\"formNotExist\"){\n            JSON.parse(metaData);\n        }\n    } catch (e) {\n        formsLoadedCount++;\n        if(formsLoadedCount==formscount.length&&hash!=\"\"&&!scroll){\n            window.location.hash=hash;\n            hash=\"\";\n        }\n        return false;\n    }\n    if(scriptLoaded){\n        installForm(formno,form,metaData);\n    }else{\n        var formJSON ={};\n        formJSON.data=metaData;\n        formJSON.formno=formno;\n        formJSON.form=form;\n        formscache.push(formJSON);\n    }\n}\n\nrenderFromSave = function(){\n    for(j=0;j<formscache.length;j++){\n        var metaData = formscache[j].data;\n        var no = formscache[j].formno;\n        var form = formscache[j].form;\n        installForm(no,form,metaData);\n    }\n}\n\ninstallForm = function(formno,form,metaData){\n    if(metaData==\"formNotExist\"){\n        var result=metaData;\n    }else{\n        var result=JSON.parse(metaData);\n        result.DisplayName = result.DisplayName.replace(/\\\\\\\"/g,\"\\\"\");\n    }\n    var formName = form.children[0].id.replace(\"zpform_\",\"\");\n    if(window.ZS_PreviewMode && ((result.errorlist && result.errorlist[0].error[0]==2893)|| result==\"formNotExist\") && formName==\"Contact_Us\"){\n        fnGetContactUsFormMeta(form, formno);//need check\n        return true;\n    }\n\n    var formid;\n    if(result)\n        formid=result[\"formLinkId\"];\n    if(result && (formid!=undefined)){\n        var formDiv = form.firstChild;\n        while(!formDiv.tagName) {\n            formDiv = formDiv.nextSibling;\n        }\n        formDiv.innerHTML =ZohoForms.renderForm(result);\n        ZohoForms.loadCaptcha(formDiv);\n        formsLoadedCount++;\n        if(formsLoadedCount==formscount.length&&hash!=\"\"&&!scroll){\n            window.location.hash=hash;\n            hash=\"\";\n        }\n        try {\n            var scripts = formDiv.getElementsByTagName(\"script\");\n        } catch(e){}\n        if(creatorJsLoaded==true){\n            ZCForm.inZohoCreator = false;\n            var onLoadExist = result.onLoadExist;\n            var appLinkName = result.appLinkName;\n            var formLinkName = result.formLinkName;\n            var formDispName = fnAsString(result.DisplayName);\n            var formAccessType = result.recType;\n            var formID = result.formid;\n            ZCForm.zcFormAttributes['genScriptURL'] = \"/siteforms/generateJS.do\";\n            ZCForm.zcFormAttributes['formParentDiv'] = false;\n            ZCForm.zcFormAttributes['customCalendar'] = true;\n            ZCForm.zcFormAttributes['browseralert'] = false;\n            ZCForm.zcFormAttributes['ajaxreload'] = true;\n            ZCForm.zcFormAttributes['fieldContainer'] = \"div\";\n            ZCForm.zcFormAttributes['eleErrTemplate'] = \"<div tag='eleErr'> insertMessage </div>\";\n            relodCurrentForm = false;\n            var paramsMapString = \"formID=\" + formID + \",appLinkName=\" + appLinkName + \",formDispName=\"+ formDispName + \",formAccessType=1,formLinkName=\"+formLinkName;\n            ZCForm.addToFormArr(paramsMapString, formLinkName);\n            if(onLoadExist){\n                doActionOnLoad(formID, ZCForm.getForm(formLinkName, formAccessType));\n            }else{\n                ZCForm.enableForm(formLinkName,formAccessType);\n            }\n            ZCForm.regFormEvents(formLinkName,formAccessType);\n        }\n    }\n    return true;\n}\n\n\nonloadFunction = function() {\n    if(responsiveTheme)\n    {\n     var iframes=document.getElementsByTagName(\"iframe\");\n        for(var i=0;i<iframes.length;i++)\n         {\n            if(iframes[i].src.indexOf(\"//www.youtube.com/embed/\")>=0&&iframes[i].clientWidth>iframes[i].parentNode.clientWidth)\n              {\n                var aspect_ratio=iframes[i].width/iframes[i].height;\n                iframes[i].width=\"100%\";\n                iframes[i].height=iframes[i].clientWidth/aspect_ratio;\n              }\n         }   \n    }\n    getPortalUserName();\n    if(document.getElementById('nav-top')){\n    try{\n        if(parent.document.getElementById(\"zp_tmplcustom\")==null ||parent.document.getElementById(\"zp_tmplcustom\").style.display==\"block\"){\n            navActivate();\n        }\n    }catch(e){\n        navActivate();\n    }\n    }\n    var winHref = window.location.href;\n    if(winHref.indexOf(\"zc_success\")!=-1){\n        var loc =winHref.split(\"?\")[0];\n        var msg = winHref.split(\"?\")[1];\n        if(msg.split(\"=\")[1]==\"true\"){\n            alert(\"Form Submitted Successfully\");\n            window.location=loc;\n        }\n    }\n    albumCount = new Array();\n    galleryElements = new Array();\n    twitterElements = new Array();\n    facebookElem = new Array();\n    mapElem = new Array();\n    gplusElem = new Array();\n    gplusBlogElm = new Array();\n    tE = new Array();\n        linkedInElem = new Array();\n        imgElem = new Array();\n    var picasa;\n    var flickr;\n    var form;\n    var isBlogPage = document.getElementById(\"blogPage-container\");\n    var isSlideBanner = document.getElementById(\"carouselImg\");\n    if(document.querySelectorAll){\n        picasa = document.querySelectorAll('.picasa');//NO I18N\n        flickr = document.querySelectorAll('.flickr');//NO I18N\n        var ownGallery = document.querySelectorAll('.ownGallery');//NO I18N\n        for(p=0;p<picasa.length;p++){\n            var accordionParent=findParent(picasa[p],\"zs-tabs-accordion-content\");\n            if(accordionParent==false || accordionParent.style.display==\"block\"){\n                albumCount.push(picasa[p]);\n                galleryElements.push(document.getElementById(\"zpg\"+picasa[p].id));\n            }\n        }\n        for(f=0;f<flickr.length;f++){\n            var accordionParent=findParent(flickr[f],\"zs-tabs-accordion-content\");\n            if(accordionParent==false || accordionParent.style.display==\"block\"){\n            albumCount.push(flickr[f]);\n            galleryElements.push(document.getElementById(\"zpg\"+flickr[f].id));\n            }\n        }\n        for(o=0;o<ownGallery.length;o++){\n            var accordionParent=findParent(ownGallery[o],\"zs-tabs-accordion-content\");\n            if(accordionParent==false || accordionParent.style.display==\"block\"){\n                albumCount.push(ownGallery[o]);\n                galleryElements.push(document.getElementById(\"zpg\"+ownGallery[o].id));\n            }\n        }\n    }\n    else if(!document.querySelectorAll){\n        getElementsByName_iefix('div','gallery');//NO I18N\n    }\n    \n    \n    albumCount.reverse();\n    galleryElements.reverse();\n    if(albumCount.length>0){\n        if(window.ZS_PreviewMode){\n            commonLoadScript(assetsUrl+\"/js/gallery.js\");//NO I18N\n            commonLoadScript(assetsUrl+\"/js/collage.js\");//NO I18N\n            loadingAlbumCount = 1;\n        }else{\n            xml(\"GET\",\"/gallery.txt\",function(res){//NO I18N\n                window.ownGallery = JSON.parse(res);\n                commonLoadScript(\"/js/gallery.js\");//NO I18N\n                commonLoadScript(\"/js/collage.js\");//NO I18N\n                loadingAlbumCount = 1;\n                },\"\");\n        }\n    }\n    if(document.querySelectorAll){\n        carousel = document.querySelectorAll('.carousel');//No I18N\n    }else{\n        carousel = getElementsByName_iefix('div','carousel');//No I18N\n    }\n    if(isSlideBanner || carousel){\n        commonLoadScript(assetsUrl+\"/js/animation.js\");//NO I18N\n        if(isSlideBanner){\n            var func = function(){\n                if(typeof(ImageRotator) != \"undefined\"){\n                    clearInterval(window.interval);\n                    var slider = new ImageRotator(isSlideBanner,slideImages.slideURL,slideImages.settings, slideImages.slideCss, slideImages.slideBg);\n                }\n            }\n            window.interval = setInterval(func,16);\n        }\n        if(carousel){\n            var func2 = function(res){\n                var func3 = function(){\n                    if(typeof(ImageRotator) != \"undefined\"){\n                        clearInterval(window.interval1);\n                        res = JSON.parse(res);\n                        func(res);\n                    }\n                }\n                window.interval1 = setInterval(func3,16);\n            }\n            var func = function(res){\n                for(var c=0;c<carousel.length;c++){\n                    var elem=carousel[c];\n                    var carouselProp = res[elem.getAttribute(\"carouselId\")];\n                    if(carouselProp){\n                    var imgs = carouselProp.slideURL;\n                    var imgArr=[];\n                    for(var i=0;i<imgs.length;i++){\n                        if(window.ZS_PreviewMode){\n                            imgArr.push(imgs[i]);\n                        }else{\n                            var imgSrc = imgs[i].split(\"/\");\n                            imgArr.push(imgs[i].replace(imgSrc[2]+\"/\",\"\"));\n                        }\n                    }\n                    var carCont = document.createElement(\"div\");\n                    carCont.innerHTML=\"<div style=\\\"position: absolute; top: 0px; left: 0px; opacity: 1; z-index: 2; overflow:hidden;background:#fff\\\"></div><div style=\\\"position: absolute; top: 0px; left: 0px; display: block; z-index: 1; overflow:hidden;\\\">\";//No I18N\n                    elem.children[0].appendChild(carCont);\n                    var width = carCont.parentNode.clientWidth;\n                    if(carouselProp.settings.thumbnail == \"on\" && (carouselProp.settings.thumbPos == \"left\" || carouselProp.settings.thumbPos == \"right\")){\n                        width = width-65;\n                    }\n                    var height=Math.floor((width*9)/16);\n                    carCont.style.cssText = \"position:relative;width:\"+width+\"px;height:\"+height+\"px;overflow:hidden;float:left\";//No I18N\n                    carCont.id=\"ir\"+Math.floor(Math.random()*1000000000000);\n                    if((typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true && mobile===true && carouselProp.settings.type===\"film\" )||(typeof(window.parent.responsivePreview)!=\"undefined\" && window.parent.responsivePreview==\"true\" && carouselProp.settings.type===\"film\")){\n                        carouselProp.settings.type=\"stripe\";\n                    }\n                     var rotator=new ImageRotator(carCont,imgArr,carouselProp.settings);}\n                }\n            }\n            if(window.ZS_PreviewMode){\n                    func2(JSON.stringify(carouselProp));\n            }else{\n                xml(\"GET\",\"/carousel.txt\",func2,\"\"); //No I18N\n            }\n        }\n    }\n    if(document.querySelectorAll){\n        audios = document.querySelectorAll(\".audio\");//NO I18N\n    }else{\n        audios = getElementsByName_iefix(\"div\", \"audio\");//NO I18N\n    }\n    if(document.querySelectorAll){\n        playLists = document.querySelectorAll(\".audioplaylist\");//NO I18N\n    }else{\n        playLists = getElementsByName_iefix(\"div\", \"audioplaylist\");//NO I18N\n    }\n    if(audios || playLists){\n        commonLoadScript(assetsUrl+\"/js/audio.js\",\"audio\"); //NO I18N\n    }\n    // for social share it is come first for render fb, twit, gp\n    segregateElements('socialshare', twitterElements, \"name\");//NO I18N\n    segregateElements('socialshare', facebookElem, \"name\");//NO I18N\n    segregateElements('socialshare', gplusElem, \"name\");//NO I18N\n    segregateElements('socialshare', linkedInElem,\"name\");//NO I18N\n    // for twitter\n\n    segregateElements('twitter', twitterElements, \"name\");//NO I18N\n    if(twitterElements.length >0 || isBlogPage){\n        commonLoadScript(assetsUrl+\"/js/twitter.js\",\"loadTwitterJS\");//NO I18N\n    }\n    // for facebook\n    segregateElements('facebook',facebookElem,\"name\");//NO I18N\n    if(facebookElem.length >0 || isBlogPage){\n        commonLoadScript(assetsUrl+\"/js/facebook.js\",\"loadFacebookJS\");//NO I18N\n    }\n\n    // for linkedin\n    segregateElements('linkedin',linkedInElem,\"name\");//NO I18N\n    if(linkedInElem.length >0 || isBlogPage){\n        commonLoadScript('//platform.linkedin.com/in.js', \"loadLIFramework\");\n    }\n\n    commentBoxElm = new Array();\n    segregateElements('commentbox',commentBoxElm,\"name\");//NO I18N\n\n    if(commentBoxElm.length > 0){\n        renderCBRateSVG();\n        \n    }\n\n//  table element - start\n    var docTables = document.getElementsByTagName(\"table\");\n    for(var i=0; i<docTables.length;i++) {\n        var currTable = docTables[i];\n\n        var dummyDiv = document.createElement(\"div\");\n        dummyDiv.style.overflow=\"auto\";\n\n        currTable.parentNode.insertBefore(dummyDiv, currTable);\n        dummyDiv.appendChild(currTable);\n    }\n\n//  resize images for small images in mobile\n    segregateElements('image',imgElem,\"name\");//NO I18N\n\n    var imgFix = function(){\n        var img = this;\n        if(img.clientWidth > img.naturalWidth && ZS_MobileVer) {\n            img.style.width = img.naturalWidth+\"px\";\n        }\n    }\n    for(var c=0;c<imgElem.length;c++){\n        var tabflag = false;\n        var tabimage = findParent(imgElem[c],\"zs-tabs-accordion-content\");\n        if(tabimage && !(tabimage.style.display == \"block\")){\n            tabimage.style.display = \"block\";\n            tabflag =true;\n        }\n        var imgElCont = imgElem[c];\n        var imgF = imgElCont.getElementsByTagName(\"img\")[0];\n        if(imgF.complete) {\n             imgFix.apply(imgF);\n        }\n        else {\n            imgF.onload = imgFix;\n        }\n        if(tabflag == true){\n            tabflag = false;\n            tabimage.style.display = \"none\";\n        }\n    }\n\n    //for imagetext\n    segregateElements('imagetext',imgElem,\"name\");//NO I18N\n    for(var c=0;c<imgElem.length;c++){\n        var tabflag = false;\n        var tabimage = findParent(imgElem[c],\"zs-tabs-accordion-content\");\n        if(tabimage && !(tabimage.style.display == \"block\")){\n            tabimage.style.display = \"block\";\n            tabflag =true;\n        }\n        var imgElCont = imgElem[c];\n        var imgF = imgElCont.getElementsByTagName(\"img\")[0];\n        if(imgF.complete) {\n             imgFix.apply(imgF);\n        }\n        else {\n            imgF.onload = imgFix;\n        }\n        if(tabflag == true){\n            tabflag = false;\n            tabimage.style.display = \"none\";\n        }\n    }\n\n    // for maps\n    segregateElements('map',mapElem,\"name\");//NO I18N\n    if(mapElem.length > 0){\n        commonLoadScript('//maps.googleapis.com/maps/api/js?sensor=false&callback=loadMapJs');//NO I18N\n    }\n    // for gplus1\n    segregateElements('gplus',gplusElem,\"name\");//NO I18N\n    if(gplusElem.length > 0){\n        commonLoadScript(assetsUrl+\"/js/gplus.js\",\"rendergplus\");//NO I18N\n    }\n    if(isBlogPage){\n        segregateElements('g-plusone',gplusBlogElm,\"class\");//NO I18N\n        if(!(window.gapi && window.gapi.plus)){\n            commonLoadScript(assetsUrl+\"/js/gplus.js\",\"rendergplus\");//NO I18N\n            fnGplusAction();\n        }else{\n            fnGplusAction();\n        }\n    }\n    segregateElements('form',formscount,\"name\");//NO I18N\n    var crmFormscount = new Array();;\n    segregateElements('crmform',crmFormscount,\"name\");//NO I18N\n\n    if(formscount.length){\n        if(window.location.hash){\n            hash=window.location.hash;\n            window.location.hash=\"\";\n            window.addEventListener(\"scroll\", setScroll, false);\n        }\n        getAllFormMeta();\n        //loadPreCreatorScripts();\n        spcLoadScript(creatorJqueryFile,true,loadPreCreatorScripts);\n    }else if(crmFormscount.length){\n        commonLoadScript(assetsUrl+\"/js/form-renderer.js\");///NO I18N\n    }\n    segregateElements('dynamiccontent', dyncontElem,\"name\");//NO I18N\n    /*if(dyncontElem.length>0){\n        fnRenderDCnt(0);\n    }*/\n    for(i=0;dyncontElem[i];i++){\n        fnRenderDCnt(i);\n    }\n    if(ZS_ColumnFix){\n        fnSetColumnsWidth();\n    }\n    var googlecart = document.getElementById('googlecart-script-add');\n    if(googlecart){\n        var script = document.createElement('script');\n        script.id='googlecart-script';\n        script.type=\"text/javascript\";\n        script.setAttribute('currency',googlecart.parentNode.parentNode.getAttribute('data-currency'));\n        script.setAttribute('hide-cart-when-empty','true');\n        script.setAttribute('post-cart-to-sandbox','false');\n        script.setAttribute('integration','jscart-wizard');\n        script.src=\"//checkout.google.com/seller/gsc/v2_2/cart.js?mid=\"+googlecart.getAttribute('mid');\n        if(window.ZS_PreviewMode){\n            parent.document.getElementsByTagName('body')[0].appendChild(script);\n        }\n        else{\n            document.getElementsByTagName('body')[0].appendChild(script);\n        }\n    }\n    segregateElements('newsletter', newsletter_elts, \"name\");//NO I18N\n    if(newsletter_elts.length > 0){\n        render_newsletter();\n    }\n    getBlogPostCommentsCount();\n    resizeElements();\n    if((typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true )||(typeof(window.parent.responsivePreview)!=\"undefined\" && window.parent.responsivePreview==\"true\")){\n        var mobileSite=document.getElementById(\"mobileSite\");\n        if(mobileSite){\n            mobileSite.parentNode.removeChild(mobileSite);\n        }\n        if((mobile && !istab) || window.innerWidth<640 ||(typeof(window.parent.responsivePreview)!=\"undefined\" && window.parent.responsivePreview==\"true\")){\n            var searchContainer=document.getElementsByClassName(\"themeSearchContainer\");//NO I18N\n            if(searchContainer[0]){\n                //searchContainer[0].parentNode.removeChild(searchContainer[0]);\n                searchContainer[0].style.display=\"none\";\n            }\n        }\n\n    }\n    if(window.ZS_PreviewMode){\n        fnBindHandleClickEvents();\n    }\n    checkCookie();\n    if(ZS_adjustHeight){\n        setTimeout(function(){fnSetEqualHeight()},1000);\n    }\n}\n\ngetPortalUserName = function(){\n    if(document.getElementById(\"zpPortalSignIn\") != null){\n    //if(window.ZS_PublishMode){\n        try{\n            if(window.XMLHttpRequest){\n                xmlhttp = new XMLHttpRequest();\n            }else{\n                xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n            xmlhttp.onreadystatechange = function(){\n                if(xmlhttp.readyState == 4 && xmlhttp.status == 200){\n                    var dispName = this.responseText; \n                    var showDiv,otherDiv;\n                    if(dispName.indexOf(\"null\")!=-1){\n                        showDiv = document.getElementById(\"zpPortalSignIn\");\n                        otherDiv = document.getElementById(\"zpPortalUser\");\n                        if(dispName.substring(dispName.indexOf(\"null\")+4).trim()!=\"true\"){\n                            document.getElementById(\"zpPortalSignupLi\").style.display=\"none\";\n                        }\n                    }else{\n                        showDiv = document.getElementById(\"zpPortalUser\");\n                        document.getElementById(\"zpUserName\").innerHTML = \"Hi \"+dispName; //NO I18N\n                        document.getElementById(\"zpLogout\").href = \"/signout?logout=true&serviceurl=\"+encodeURIComponent(document.location.protocol + \"//\" + document.location.host); //NO I18N\n                        otherDiv = document.getElementById(\"zpPortalSignIn\");\n                    }\n                    showDiv.style.display=\"block\";     \n                    otherDiv.style.display=\"none\";     \n                }            \n\n            }\n            xmlhttp.open(\"GET\", \"/getCurrentPortalUser\", false);\n            xmlhttp.send();\n        }catch(e){}\n    /*}else{\n        document.getElementById(\"zpPortalSignIn\").style.display=\"block\";\n    }*/\n    }\n}\n\n\nsegregateElements = function(elemType,elmArray,attrName){\n    if(document.querySelectorAll){\n        elmsArr = document.querySelectorAll('.'+elemType); //NO I18N\n        for(var f=0;f<elmsArr.length;f++){\n            elmArray.push(elmsArr[f]);\n        }\n    }\n    else if(!document.querySelectorAll){\n        var elem = document.getElementsByTagName('div');\n        for(var i = 0; i < elem.length; i++) {\n            var att = elem[i].getAttribute(attrName);\n            if(att == elemType) {\n                elmArray.push(elem[i]);\n            }\n        }\n    }\n}\n\nloadAudioFiles=function(){\n    if(audios){\n        for(var i=0,audio;audio=audios[i];i++){\n            fnSetupAudio(audio.children[0].children[0],audio.getAttribute(\"data-autoplay\"),audio.getAttribute(\"data-loop\"));\n        }\n    }\n    if(playLists){\n        for(var i=0,play;play=playLists[i];i++){\n            var audioCont;\n            if(document.querySelector){\n                audioCont = play.querySelector(\".audioContainer\");//NO I18N\n            }else{\n                audioCont = play.children[0].children[0];\n            }\n            if(audioCont.getAttribute(\"data-playlist\") && play.clientHeight!=0){\n            var audioList = audioCont.getAttribute(\"data-playlist\").split(\",\");\n            audioCont.playList = audioList;\n            audioCont.curPlayItem = 0;\n            audioCont.removeAttribute(\"data-playlist\");\n            fnSetupAudio(audioCont,play.getAttribute(\"data-autoplay\"),play.getAttribute(\"data-loop\"),true);\n            }\n        }\n    }\n}\nloadMapJs = function(){\n    commonLoadScript(assetsUrl+\"/js/maps.js\",\"map\");//NO I18N\n}\nfnGplusAction =function(){\n    var obj = {\"size\":\"tall\",\"annotation\":\"none\",\"height\":\"24px\"};//No I18N\n    if(!(window.gapi && window.gapi.plus)){\n        setTimeout(function(){fnGplusAction()},100);\n    }else{\n        while(gplusBlogElm.length>0){\n            var gElm = gplusBlogElm.pop();\n            gapi.plusone.render(gElm,obj);\n        }\n    }\n}\nfnloadTwitterJS = function(){\n    twitterWidgetElem = new Array();\n    twitterButtonElem = new Array();\n    var tW=false,tB=false;\n    for(var i=0;i < twitterElements.length;i++){\n        var elem = twitterElements[i];\n        if(elem.getAttribute(\"data-twType\")==\"share\" || elem.getAttribute(\"data-layout\")){\n            twitterButtonElem.push(elem);\n            tB = true;\n        }\n        else{\n            twitterWidgetElem.push(elem);\n            tW = true;\n        }\n    }\n    if(tB || document.getElementById(\"blogPage-container\") || tW){\n        enableTwitterWidget();\n    }\n}\nfnSetEqualHeight=function() {\n    var page;\n    if((typeof parent.mobilePreview != \"undefined\" && parent.mobilePreview == \"true\" || typeof parent.responsivePreview != \"undefined\" && parent.responsivePreview == \"true\") || (typeof mobile == \"boolean\" && (mobile))){\n        return;\n    }\n    if(!window.blogPage){\n        page = document.getElementById(\"page-container\");\n        page.style.height=\"\";\n    }else{\n        page = document.getElementsByClassName(\"themeContentContainer\")[0];\n    }\n    var side = document.getElementById(\"sidebar-container\");\n    if(!side){\n        return;\n    }\n    //Check equalHeight before setting equal height to sidebar\n    if(side.offsetHeight>page.offsetHeight){\n        page.style.minHeight=side.offsetHeight+\"px\";//NO I18N\n    }else if(side.offsetHeight<page.offsetHeight){\n        side.style.minHeight=page.offsetHeight+'px';//No I18N\n    } else if(window.ZS_adjustHeight){\n        side.style.minHeight=page.offsetHeight+\"px\";//NO I18N\n    }\n\n}\n\nfnSetColumnsWidth=function(){\n    //take width of columns in % and set it as px value\n    var columnElems=getClasses(\"zpcolumns\",\"div\");//('div','.zpcolumns'); //NO I18N\n    var elem,i=0,innerElems,innerElem,wid,cal;\n    for(;elem=columnElems[i];i++){\n        innerElems=getClasses(\"zpflLeft\",\"div\",elem);//NO I18N\n        for(var j=0;innerElem=innerElems[j];j++){\n            if(innerElem.style.width.indexOf(\"%\")!=-1){\n                wid=parseInt(innerElem.style.width);\n                cal = parseInt(elem.parentNode.offsetWidth*wid/100);\n                innerElem.style.width=Math.round(cal)+\"px\";\n            }\n        }\n    }\n}\ngetClasses = function(clsName,tag,elem){\n    var retVal = new Array();\n    var elements;\n    if(elem){\n        elements = elem.childNodes;//getElementsByTagName(tag);\n        for(var i = 0;i < elements.length;i++){\n            if(elements[i].className){\n                var classes = elements[i].className.split(\" \");\n                for(var j = 0;j < classes.length;j++){\n                    if(classes[j] == clsName){\n                        retVal.push(elements[i]);\n                    }\n                }\n            }\n        }\n        return retVal;\n    }\n    if (tag == null) {\n        tag=\"*\";\n    }\n    elements = document.getElementsByTagName(tag);\n    for(var i = 0;i < elements.length;i++){\n        if(elements[i].className){\n            var classes = elements[i].className.split(\" \");\n            for(var j = 0;j < classes.length;j++){\n                if(classes[j] == clsName){\n                    retVal.push(elements[i]);\n                }\n            }\n        }\n    }\n    return retVal;\n}\n\n/*\ngetForm = function(formno){\n    var form = formscount[formno];\n    if(!form){\n        return;\n    }\n    var formDiv = form.firstChild;\n    while(!formDiv.tagName) {\n        formDiv = formDiv.nextSibling;\n    }\n    var frmid =formDiv.getAttribute(\"formid\");\n    var siteid = frmid.split(\"-\")[0].replace(/,/g,\"\");\n    var formid = frmid.split(\"-\")[1].replace(/,/g,\"\");\n    if(ZohoForms.fnCheckFormsInPage(formid,true)){\n        if(++formno<formscount.length){\n            getForm(formno);\n        }\n        return true;\n    }\n    else{\n        try{\n            if(window.XMLHttpRequest)\n                xmlhttp = new XMLHttpRequest();\n            else\n                xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            xmlhttp.onreadystatechange = function(){\n                if(xmlhttp.readyState ==4 && xmlhttp.status == 200)\n                    installForm(formno,form);\n                }\n                appName = \"zsa-\"+siteid;\n                var time = new Date().getTime();\n                if(window.ZS_PreviewMode){\n                    xmlhttp.open(\"GET\", \"/zs-site/api/v0/getFormMeta?siteId=\" + siteid + \"&formid=\"+formid, true);\n                }else{\n                    xmlhttp.open(\"GET\",\"/siteforms/showFormJson.do?formLinkName=\"+formid+\"&sharedBy=\"+siteid+\"&appLinkName=\"+appName+\"&type=json&raw=true&metaData=complete&time=\"+time,true);\n                }\n                xmlhttp.send();\n            }catch(e){}\n    }\n}\n\ninstallForm = function(formno,form){\n    if(xmlhttp.responseText==\"formNotExist\"){\n        var result=xmlhttp.responseText;\n    }else{\n        var result=JSON.parse(xmlhttp.responseText);\n    }\n    var formName = form.children[0].id.replace(\"zpform_\",\"\");\n    if(window.ZS_PreviewMode && ((result.errorlist && result.errorlist[0].error[0]==2893)|| result==\"formNotExist\") && formName==\"Contact_Us\"){\n        fnGetContactUsFormMeta(form, formno);\n        return true;\n    }\n\n    var formid;\n    if(result)\n        formid=result[\"formLinkId\"];\n    if(result && (formid!=undefined)){\n        var formDiv = form.firstChild;\n        while(!formDiv.tagName) {\n            formDiv = formDiv.nextSibling;\n        }\n        formDiv.innerHTML =ZohoForms.renderForm(result);\n    try {\n    var scripts = formDiv.getElementsByTagName(\"script\");\n    } catch(e){}\n      if(creatorJsLoaded==true){\n        ZCForm.inZohoCreator = false;\n        var onLoadExist = result.onLoadExist;\n        var appLinkName = result.appLinkName;\n        var formLinkName = result.formLinkName;\n        var formDispName = fnAsString(result.DisplayName);\n        var formAccessType = result.recType;\n        var formID = result.formid;\n        ZCForm.zcFormAttributes['genScriptURL'] = \"/siteforms/generateJS.do\";\n        ZCForm.zcFormAttributes['formParentDiv'] = false;\n        ZCForm.zcFormAttributes['customCalendar'] = true;\n        ZCForm.zcFormAttributes['browseralert'] = false;\n        ZCForm.zcFormAttributes['ajaxreload'] = true;\n        ZCForm.zcFormAttributes['fieldContainer'] = \"div\";\n        ZCForm.zcFormAttributes['eleErrTemplate'] = \"<div tag='eleErr'> insertMessage </div>\";\n        relodCurrentForm = false;\n        var paramsMapString = \"formID=\" + formID + \",appLinkName=\" + appLinkName + \",formDispName=\"+ formDispName + \",formAccessType=1,formLinkName=\"+formLinkName;\n        ZCForm.addToFormArr(paramsMapString, formLinkName);\n        if(onLoadExist){\n            doActionOnLoad(formID, ZCForm.getForm(formLinkName, formAccessType));\n        }else{\n            ZCForm.enableForm(formLinkName,formAccessType);\n        }\n        ZCForm.regFormEvents(formLinkName,formAccessType);\n    }\n    }\n    if(++formno<formscount.length)\n        getForm(formno);\n    else if(hash!=\"\" && !scroll){\n        window.location.hash=hash;\n    }\n    return true;\n}\n*/\n\naddPostComments = function(){\n    if(window.ZS_PreviewMode){\n        alert('Comments can be only added in Published Site');\n        return;\n    }\n    var path = location.pathname;\n    var pat = /\\/blogs\\/post\\/(.*)\\/?/;\n    var blogPostUrl = path.replace(pat,\"$1\");\n    var authorName = document.getElementById(\"authorName\").value;\n    var authorMailId = document.getElementById(\"authorMailId\").value;\n    var comments = document.getElementById(\"commentsMessage\").value;\n    var errorMsg =  document.getElementById(\"comments_error_msg\");\n    if(authorName === \"\" || comments===\"\"){\n        errorMsg.innerHTML=\"Message and Name fields are mandatory. Please try once again\";//No I18N\n        setTimeout(function() {\n           errorMsg.innerHTML = \"\";\n        },5000)\n        return false;\n    }\n    if(authorMailId !==\"\"){\n        var mailP = new RegExp(\"^[a-zA-Z0-9]([\\\\w\\\\-\\\\.\\\\+\\']*)@([\\\\w\\\\-\\\\.]*)(\\\\.[a-zA-Z]{2,8}(\\\\.[a-zA-Z]{2}){0,2})$\",\"mig\");\n        var reg_mail = mailP.exec(authorMailId);\n        if(!reg_mail){\n            errorMsg.innerHTML=\"Provide a proper email-id\";//No I18N\n            setTimeout(function() {\n                errorMsg.innerHTML = \"\";\n            },5000)\n            return false;\n        }    \n    }\n    comments = comments.replace(/\\r?\\n/g, '<br/>');\n    var paramsdata = \"authorName=\"+encodeURIComponent(authorName)+\"&authorMailId=\"+authorMailId+\"&comments=\"+encodeURIComponent(comments);//No I18N\n    var ie = /*@cc_on!@*/false;\n    if(!ie){\n        xml(\"POST\",\"/blogs/post/\"+blogPostUrl+\"/addComment\",fnAddedComment,paramsdata);//No I18N\n    }else{\n        xml(\"POST\",\"/blogs/post/\"+encodeURIComponent(blogPostUrl)+\"/addComment\",fnAddedComment,paramsdata);//No I18N\n    }\n}\nxml = function(method,url,callBack,postdata,args){\n    try{\n        var xmlhttp;\n        if(window.XMLHttpRequest) {\n            xmlhttp = new XMLHttpRequest();\n        }\n        else {\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n        xmlhttp.onreadystatechange = function(){\n            if(xmlhttp.readyState ==4 && (xmlhttp.status == 200 ||  xmlhttp.status ==304)) {\n                callBack(xmlhttp.responseText, args);\n            }\n        }\n        if(method === 'POST') {\n            xmlhttp.open(method,url, false);\n            xmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n            xmlhttp.setRequestHeader(\"Content-length\", postdata.length);\n            xmlhttp.setRequestHeader(\"Connection\", \"close\");\n            xmlhttp.send(postdata);\n        }\n        else {\n            xmlhttp.open(method,url, true);\n            xmlhttp.send(null);\n        }\n    }\n    catch(e) {\n        return;\n    }\n}\n\ncheckPassword = function(){\n    var pageUrl=window.location.pathname.substr(1);\n    if(document.secured_page_form.password.value.length > 0 && document.secured_page_form.password.value.length < 3 || document.secured_page_form.password.value.length > 25){\n        document.getElementById(\"zp_invalidMsg\").style.display = \"\";\n    }else{\n        document.secured_page_form.action = \"/\"+pageUrl;\n        document.secured_page_form.submit();\n    }\n}\n\nfnAddedComment = function(res){\n    var result=JSON.parse(res);\n    document.getElementById(\"authorName\").value=\"\";\n    document.getElementById(\"authorMailId\").value=\"\";\n    document.getElementById(\"commentsMessage\").value=\"\";\n    if(result.moderation==\"0\"){\n        alert(\"Your comments will be displayed only after moderation\");\n        return;\n    }else if(result.moderation==\"1\"){\n        var newElem = document.createElement(\"div\");\n        newElem.className=\"commentPadBottom\";//No I18N\n        var headElem = document.createElement(\"p\");\n        headElem.className=\"zs-text-highlight-color\";\n        headElem.innerHTML=result.COMMENTS_ADDED_BY;\n        var emElem = document.createElement(\"span\");\n        emElem.className=\"commentDateStyle zs-text-light-color\";\n        emElem.style.display=\"block\";\n        emElem.innerHTML=\"Posted on : \"+result.COMMENTS_ADDED_TIME;//No I18N\n        emElem.style.marginTop = \"3px\"; //No I18N\n        var pElem = document.createElement(\"p\");\n        pElem.className=\"commentTxtStyle\";\n        pElem.innerHTML=result.COMMENTS_CONTENT;\n        var hrElem = document.createElement(\"hr\");\n        hrElem.size=\"1\";\n        newElem.appendChild(headElem);\n        newElem.appendChild(emElem);\n        newElem.appendChild(pElem);\n        newElem.appendChild(hrElem);\n        getBlogPostCommentsCount();\n        //var comElem = document.getElementById(\"zpCommentsCount\");\n        //var comCount = comElem.getAttribute(\"data-commentscount\");\n        //var newCount = parseInt(comCount)+1;\n        //comElem.setAttribute(\"data-commentscount\",newCount);\n        //comElem.innerHTML=\"Comments(\"+newCount+\")\";//No I18N\n        var elem = document.getElementById(\"commentsList\");\n        var noElm = document.getElementById(\"noCommentCont\");\n        elem.insertBefore(newElem,elem.childNodes[0]);\n        if(noElm){\n            noElm.style.display=\"none\"\n        }\n    }else{\n        alert(\"Some problem in adding your comment...Please try later\");\n    }\n}\n\nfnRenderDCnt =function(cnt){\n    var dc =dyncontElem[cnt];\n    var zpPos = getClasses(\"zpAlignPos\",\"div\",dc);//NO I18N\n    var applicationName = zpPos[0].getAttribute(\"data-applicationName\");\n    var formName = zpPos[0].getAttribute(\"data-formName\");\n    var viewname = zpPos[0].getAttribute(\"data-templateid\").replace(\"dyncont\",\"\");\n    //var filename=\"/view/view\"+applicationName+\"_\"+formName+\"_\"+viewname+\".txt\";//NO I18N\n    try{\n        var xmlHttp;\n        if(window.XMLHttpRequest)\n            xmlHttp = new XMLHttpRequest();\n        else\n            xmlHttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        xmlHttp.onreadystatechange = function(){\n            if(xmlHttp.readyState ==4){\n                if(xmlHttp.status == 200){\n                    zpPos[0].innerHTML= this.responseText;\n                    fnDynamicContentSearch(dc, zpPos[0]);\n                }\n                /*if(++cnt<dyncontElem.length){\n                    fnRenderDCnt(cnt);\n                }*/\n            }\n        }\n        if(window.ZS_PreviewMode){\n            xmlHttp.open(\"GET\",\"/zs-site/api/v0/readGeneratedFile?siteId=\"+parent.siteId+\"&applicationName=\"+applicationName+\"&formName=\"+formName+\"&viewName=\"+viewname,true);\n        }else{\n            xmlHttp.open(\"GET\", \"/siteapps/searchView?applicationName=\" + applicationName + \"&viewName=\" + viewname + \"&formName=\" + formName +\"&startindex=1\", true);\n            //xmlHttp.open(\"GET\",filename,true);\n        }\n        xmlHttp.send();\n    }catch(e){}\n}\n\nfnPreviewRss = function(){\n    if(window.ZS_PreviewMode){\n     alert(\"RSS works only in published website\");\n    }\n}\n\nfnFormPreviewSubmit = function(){\n    alert(\"This is a preview and data cannot be submitted now\");\n}\n\nfnFormSubmit = function(formElem){\n    ZohoForms.submittedForm = formElem.getAttribute(\"name\");\n}\n\nfnGetContactUsFormMeta = function(formElem, formno){\n    try{\n        if(window.XMLHttpRequest)\n            xmlhttp = new XMLHttpRequest();\n        else\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        xmlhttp.onreadystatechange = function(){\n            if(xmlhttp.readyState ==4 && xmlhttp.status == 200){\n                fnGetContactUsFormMetaRes(formElem, formno);\n            }\n        }\n        xmlhttp.open(\"GET\",assetsUrl+\"/js/form-meta.js\",true);\n        xmlhttp.send();\n    }catch(e){}\n}\n\nfnGetContactUsFormMetaRes = function(formElem, formno){\n    var jsonText=xmlhttp.responseText;\n    var formsmeta=JSON.parse(jsonText.substring(jsonText.indexOf(\"{\")));\n    var result = formsmeta[\"form7\"];\n    var formid=result[\"formLinkName\"];\n    var formDiv = formElem.firstChild;\n    while(!formDiv.tagName) {\n        formDiv = formDiv.nextSibling;\n    }\n    formDiv.innerHTML =ZohoForms.renderForm(result);\n    ZohoForms.loadCaptcha(formDiv);\n    //if(++formno<formscount.length)\n    //    getForm(formno);\n}\n\nvalidateCrmForm = function(crmfrm){\n    for(i=0;i<crmfrm.elements.length;i++){\n        var elm = crmfrm.elements[i];\n        var regx = new RegExp(\"([0-1][0-9]|[2][0-3]):([0-5][0-9]):([0-5][0-9])\");\n        var time = regx.exec(elm.value);\n        if(elm.getAttribute(\"format\") && time !==null){\n            var hr=parseInt(RegExp.$1);\n            var ampm;\n            ampm= (hr>11)?\"pm\":\"am\"; //NO I18N\n            hr=(hr>11)?(hr-12):hr;\n            hr=(hr===0)?(12):hr;\n            document.getElementsByName(elm.name)[0].value=elm.value.replace(time[0],\"\");;\n            document.getElementsByName(elm.name+\"minute\")[0].value=RegExp.$2;\n            document.getElementsByName(elm.name+\"hour\")[0].value=\"\"+hr;\n            document.getElementsByName(elm.name+\"ampm\")[0].value=ampm;\n        }\n        var remElem = document.getElementById(elm.getAttribute(\"data-labelName\")+\"-error\");\n        if(remElem)\n            remElem.parentNode.removeChild(remElem);\n    }\n    for(i=0;i<crmfrm.elements.length;i++){\n        var elm = crmfrm.elements[i];\n        var dataReqd = elm.getAttribute(\"data-required\");\n        if(dataReqd==\"true\"){\n            var boll=true;\n            var errmsg=\"\";\n            if(elm.value==\"\"){\n                errmsg=\"Enter a value for <strong>\"+elm.getAttribute(\"data-labelName\")+\" </strong>\";///NO I18N\n                boll=false;\n            }else if(elm.type ==\"checkbox\" && elm.checked == false){\n                errmsg=\"Please accept <strong>\"+elm.getAttribute(\"data-labelName\")+\" </strong>\";///NO I18N\n                boll=false;\n            }else if(elm.nodeName==\"SELECT\" && (elm.options[elm.selectedIndex].text==\"-None-\" || elm.options[elm.selectedIndex].text==\"-Select-\")){\n                errmsg=\"<strong>\"+elm.getAttribute(\"data-labelName\")+\" </strong> cannot be none\";///NO I18N\n                boll=false;\n            }\n            if(!boll && errmsg!=\"\"){\n                var errElem = document.createElement(\"div\");\n                errElem.id=elm.getAttribute(\"data-labelName\")+\"-error\";\n                errElem.tag=\"eleErr\";///NO I18N\n                errElem.innerHTML=errmsg;\n                elm.parentNode.parentNode.appendChild(errElem);\n                return false;\n            }\n        }\n    }\n}\n\ncaptchaReload = function(crmfrm){\n        var remElem=crmfrm.parentNode.getElementsByTagName('img')[0];\n        if(remElem){\n            if(remElem.src.indexOf('&d') !== -1 ){\n                remElem.src=remElem.src.substring(0,remElem.src.indexOf('&d'))+'&d'+new Date().getTime();\n            }else{\n                remElem.src=remElem.src+'&d'+new Date().getTime();\n            }\n        }\n        return false;\n}\n\nfnGetElementByAttribute = function(attrName, attrValue, tagName){\n    var attrElem;\n    var elems;\n    var elemArr = document.getElementsByTagName(tagName);\n    for(var j=0; j<elemArr.length; j++){\n        elems = elemArr[j];\n        var eleAttr = elems.getAttribute(attrName);\n        if(eleAttr && eleAttr==attrValue){\n            attrElem = elems;\n            break;\n        }\n    }\n    return attrElem;\n}\n\nfnDynamicContentSearch = function(dc, zpPosElem){\n    var formDataElem = zpPosElem.getElementsByClassName(\"zpformdata\")[0];\n    formDataElem.style.overflow=\"auto\";\n    if((formDataElem.getAttribute(\"data-searchenable\") == null || !formDataElem.getAttribute(\"data-searchenable\")) && (formDataElem.getAttribute(\"data-viewcount\")==null || formDataElem.getAttribute(\"data-viewcount\")<10)){\n        return;\n    }\n    var optArrays = [{\"value\":\"10 Per Page\", \"id\":\"10\"}, {\"value\":\"20 Per Page\", \"id\":\"20\"}, {\"value\":\"30 Per Page\", \"id\":\"30\"}, {\"value\":\"40 Per Page\", \"id\":\"40\"}, {\"value\":\"50 Per Page\", \"id\":\"50\"}];//NO I18N\n    var dyncId = dc.id;\n    var dyncTopElem = document.createElement(\"DIV\");\n    dyncTopElem.id = dyncId+\"_dyViewTopDiv\";\n    dyncTopElem.style.position = \"relative\";\n    var searchTable = document.createElement(\"table\");\n    searchTable.className = \"zpDDSearchPage\";\n    searchTable.width = \"100%\";\n    var searchTbody = document.createElement(\"tbody\");\n    searchTable.appendChild(searchTbody);\n    var searchtr = document.createElement(\"tr\");\n    searchTbody.appendChild(searchtr);\n    var searchth = document.createElement(\"th\");\n    searchth.className = \"zpDSTableBorder\";\n    searchth.height = \"25px\";\n    searchth.colSpan = \"4\";\n    if(formDataElem.getAttribute(\"data-searchenable\")!=null && formDataElem.getAttribute(\"data-searchenable\")){\n        var searchBoxIcon = document.createElement(\"div\");\n        searchBoxIcon.id = dyncId+\"_searchIcon\";\n        searchBoxIcon.className=\"zpDSSearchContainer\";\n        searchBoxIcon.onclick = fnShowDyViewSearch;\n        searchth.appendChild(searchBoxIcon);\n        fnConstructSearchDiv(dyncId, dyncTopElem, zpPosElem);\n    }\n    if(formDataElem.getAttribute(\"data-viewcount\")!=null && formDataElem.getAttribute(\"data-viewcount\")>10){\n        var searchPageDiv = document.createElement(\"div\");\n        searchPageDiv.className = \"zpDSfloatRight\";\n        searchPageDiv.appendChild(document.createTextNode(\"Show : \"));//NO I18N\n        var pgNaSeltElem = document.createElement(\"select\");\n        pgNaSeltElem.id = dyncId+\"_pagenationoption\";\n        pgNaSeltElem.className = \"zpDSPagePerOption\";\n        var pgNaOptElem = pgNaSeltElem.options;\n        for(var i=0; i<optArrays.length; i++){\n            var optArr = optArrays[i]\n                pgNaOptElem[i] = new Option(optArr.value, optArr.id, false, false);\n        }\n    pgNaSeltElem.onchange = fnPageNationSel;\n        searchPageDiv.appendChild(pgNaSeltElem);\n        searchth.appendChild(searchPageDiv);\n    }\n    searchtr.appendChild(searchth);\n    dyncTopElem.appendChild(searchTable);\n    zpPosElem.insertBefore(dyncTopElem, zpPosElem.childNodes[0]);\n    fnConstructDyViewPageNation(dyncId, zpPosElem);\n}\n\nfnConstructSearchDiv = function(dyncId, parentElem, zpPosElem){\n    //Search div\n    var searchDiv = document.createElement(\"div\");\n    searchDiv.className = \"zpDSContainer\";\n    searchDiv.id = dyncId+\"_searchDiv\"\n        searchDiv.appendChild(fnSearchRadioElement(dyncId));\n    //search criteria element\n    var criteriaDiv = document.createElement(\"div\");\n    criteriaDiv.className = \"zpViewSearchCrit\";\n    //Field name select element\n    var fieldList = zpPosElem.getAttribute(\"data-formfields\").split(\"|\");\n    var fieldSelElem = document.createElement(\"select\");\n    fieldSelElem.className=\"zpsearchviewfield\";\n    var opt = new Option(\"-Fields-\", \"none\", false, false);//NO I18N\n    fieldSelElem.appendChild(opt);\n    for(var i=0; i <fieldList.length; i++){\n        var fieldData = fieldList[i].split(\",\");\n        opt = new Option(fieldData[0], fieldData[1], false, false);\n        fieldSelElem.appendChild(opt);\n    }\n    criteriaDiv.appendChild(fieldSelElem);\n    //Criteria select element\n    criteriaDiv.appendChild(viewSearchCritElem());\n    //Search text field element\n    var textElem = document.createElement(\"input\");\n    textElem.type = \"text\";\n    textElem.className = \"zpsearchviewtxt\";\n    textElem.placeholder = \"Search term\";//NO I18N\n    criteriaDiv.appendChild(textElem);\n    //Add link element\n    var addLinkElem = document.createElement(\"span\");\n    addLinkElem.className = \"zpAddMore\";\n    addLinkElem.onclick = fnAddNewCriteria;\n    var addAnchor = document.createElement(\"a\");\n    addAnchor.innerHTML = \"Add\";//NO I18N\n    addLinkElem.appendChild(addAnchor);\n    criteriaDiv.appendChild(addLinkElem);\n    searchDiv.appendChild(criteriaDiv);\n    //Search button element\n    var searchBtnElem = document.createElement(\"button\");\n    searchBtnElem.id = dyncId+\"_searchbtn\";\n    var txtNode = document.createTextNode(\"Search\");//NO I18N\n    searchBtnElem.appendChild(txtNode);\n    searchBtnElem.onclick = fnSearchDynamicView;\n    searchDiv.appendChild(searchBtnElem);\n    parentElem.appendChild(searchDiv);\n}\n\nfnConstructDyViewPageNation = function(dyncId, zpPosElem){\n    var viewCount = zpPosElem.getElementsByClassName(\"zpformdata\")[0].getAttribute(\"data-viewcount\");//NO I18N\n    if(viewCount==null || viewCount<10)\n        return;\n    zpPosElem.setAttribute(\"data-viewcount\", viewCount);\n    zpPosElem.setAttribute(\"data-startindex\", \"1\");\n    var pgNavDiv = document.createElement(\"div\");\n    pgNavDiv.id = dyncId+\"_viewPgNation\";\n    var pgNavTable = document.createElement(\"table\");\n    pgNavTable.className = \"zpDDSearchPage\";\n    pgNavTable.width = \"100%\";\n    pgNavDiv.appendChild(pgNavTable);\n    var pgNavTbody = document.createElement(\"tbody\");\n    pgNavTable.appendChild(pgNavTbody);\n    var pgNavTableRow = document.createElement(\"tr\");\n    pgNavTbody.appendChild(pgNavTableRow);\n    var pgNavTableth = document.createElement(\"th\");\n    pgNavTableth.className = \"zpDSTableBorder\";\n    pgNavTableth.height = \"25px\";\n    pgNavTableth.colSpan = \"4\";\n    pgNavTableRow.appendChild(pgNavTableth);\n    var pgNavContainer = document.createElement(\"div\");\n    pgNavContainer.className = \"zpDSfloatRight\";\n    pgNavTableth.appendChild(pgNavContainer);\n    var pgNavPreviousElem = document.createElement(\"span\");\n    pgNavPreviousElem.id = dyncId+\"_previousPage\";\n    pgNavPreviousElem.className = \"zpDSPrevNext\";\n    pgNavPreviousElem.innerHTML = \"Prev\";//NO I18N\n    pgNavPreviousElem.onclick = fnDyViewPreviousPage;\n    pgNavContainer.appendChild(pgNavPreviousElem);\n    var pgNavNextElem = document.createElement(\"span\");\n    pgNavNextElem.id = dyncId+\"_nextPage\";\n    pgNavNextElem.className = \"zpDSPrevNext\";\n    pgNavNextElem.innerHTML = \"Next\";//NO I18N\n    pgNavNextElem.onclick = fnDyViewNextPage;\n    pgNavContainer.appendChild(pgNavNextElem);\n    zpPosElem.appendChild(pgNavDiv);\n}\n\nfnSearchRadioElement = function(eleId){\n    var radioList = [{\"value\":\"or\", \"name\":\"Any of these Conditions\"}, {\"value\":\"and\", \"name\":\"All these Conditions\"}];//NO I18N\n    var critOpElem = document.createElement(\"div\");\n    critOpElem.className = \"zpCriteriaOperation\";\n    for(var i=0; i<radioList.length; i++){\n        var radioObj = radioList[i];\n        var radioElem = document.createElement(\"input\");\n        radioElem.type = \"radio\";\n        radioElem.name = eleId + \"_zpCritOp\";\n        //radioElem.id = eleId + \"_zpCritOp\";\n        radioElem.value = radioObj.value;\n        radioElem.className = \"zpCritOp\";\n        if(i==0)\n            radioElem.setAttribute(\"checked\", \"checked\");\n        critOpElem.appendChild(radioElem);\n        var radioLabel = document.createElement(\"label\");\n        radioLabel.className = \"zpCritLabel\";\n        radioLabel.innerHTML = radioObj.name;\n        critOpElem.appendChild(radioLabel);\n    }\n    return critOpElem;\n}\n\nviewSearchCritElem = function(){\n    var critArr = [{\"displayName\":\"Equals\", \"value\":\"equals\"}, {\"displayName\":\"Not equal to\", \"value\":\"notequals\"}, {\"displayName\":\"Starts With\", \"value\":\"startsWith\"}, {\"displayName\":\"Ends With\", \"value\":\"endsWith\"}, {\"displayName\":\"Contains\", \"value\":\"contains\"}, {\"displayName\":\"Does not contains\", \"value\":\"notcontains\"}];//NO I18N\n    var critSelElem = document.createElement(\"select\");\n    critSelElem.className = \"zpsearchviewcrit\";\n    var opt = new Option(\"-Operator-\", \"none\", false, false);//NO I18N\n    critSelElem.appendChild(opt);\n    for(var i=0; i<critArr.length; i++){\n        opt = new Option(critArr[i].displayName, critArr[i].value, false, false);\n        critSelElem.appendChild(opt);\n    }\n    return critSelElem;\n}\n\nfnShowDyViewSearch = function(){\n    var dyncId = this.id.replace(\"_searchIcon\", \"\");\n    var dyViewSearchElem = document.getElementById(dyncId+\"_searchDiv\");\n    dyViewSearchElem.style.right = (parseInt(this.parentNode.offsetWidth)-(parseInt(this.offsetLeft)+parseInt(this.offsetWidth)))+\"px\";//NO I18N\n    dyViewSearchElem.style.top = (parseInt(this.offsetTop)+parseInt(this.offsetHeight)+3)+\"px\";\n    if(dyViewSearchElem.style.display != \"block\"){\n        dyViewSearchElem.style.display = \"block\";\n    } else{\n        dyViewSearchElem.style.display = \"none\";\n    }\n}\n\nfnAddNewCriteria = function(){\n    var critElem = this.parentNode;\n    var criteriaDiv = document.createElement(\"div\");\n    criteriaDiv.className = \"zpViewSearchCrit\";\n    //Field element\n    var fieldCloneElem = getClasses(\"zpsearchviewfield\", \"div\", critElem)[0].cloneNode(true);//NO I18N\n    criteriaDiv.appendChild(fieldCloneElem);\n    //operator element\n    criteriaDiv.appendChild(viewSearchCritElem());\n    //Text element\n    var textElem = document.createElement(\"input\");\n    textElem.type = \"text\";\n    textElem.className = \"zpsearchviewtxt\";\n    textElem.placeholder = \"Search term\";//NO I18N\n    criteriaDiv.appendChild(textElem);\n    criteriaDiv.appendChild(this);\n    critElem.parentNode.insertBefore(criteriaDiv, critElem.nextSibling);\n\n    //Add remove criteria link\n    var removeLinkElem = document.createElement(\"span\");\n    removeLinkElem.onclick = fnRemoveCriteria;\n    removeLinkElem.appendChild(document.createTextNode(\"Remove\"));//NO I18N\n    critElem.appendChild(removeLinkElem);\n}\n\nfnRemoveCriteria = function(){\n    var critElem = this.parentNode;\n    critElem.parentNode.removeChild(critElem);\n}\n\nfnSearchDynamicView = function(){\n    var dyncId = this.id.replace(\"_searchbtn\", \"\");\n    var dyncElem = document.getElementById(dyncId);\n    var zpPos = getClasses(\"zpAlignPos\", \"div\", dyncElem);//NO I18N\n    var searchParam = fnGetSearchCriteria(dyncId);\n    zpPos[0].setAttribute(\"data-searchResult\", \"true\");\n    zpPos[0].setAttribute(\"data-searchbtnclick\", \"true\");\n    fnSearchDynamicViewReq(zpPos[0], dyncId, searchParam);\n}\n\nfnGetViewSearchCriteria = function(fieldVal, criteriaVal, textVal){\n    var searchCriteria = \"\";\n    if(criteriaVal == \"contains\" || criteriaVal == \"endsWith\" || criteriaVal == \"startsWith\" || criteriaVal == \"notcontains\"){\n        searchCriteria = \"(\" + fieldVal + \".\" + criteriaVal + \"(\\\"\" + textVal + \"\\\"))\";\n    } else if(criteriaVal == \"equals\" || criteriaVal == \"notequals\"){\n        operatorVal = (criteriaVal == \"equals\") ? \"==\" : \"!=\";//NO I18N\n        searchCriteria = \"(\" + fieldVal + operatorVal +\"\\\"\" + textVal + \"\\\")\";\n    }\n    return searchCriteria;\n}\n\nfnGetSearchCriteria = function(dyncId){\n    var searchElem = document.getElementById(dyncId+\"_searchDiv\");\n    var criteriaElem = getClasses(\"zpViewSearchCrit\", \"div\", searchElem);//NO I18N\n    var searchCriteria = new Array();\n    for(var i=0; i<criteriaElem.length; i++){\n        var fieldSelElem = getClasses(\"zpsearchviewfield\", \"select\", criteriaElem[i])[0];\n        var fieldValue = fieldSelElem.options[fieldSelElem.selectedIndex].value;\n        var critSelElem = getClasses(\"zpsearchviewcrit\", \"select\", criteriaElem[i])[0];\n        var critValue = critSelElem.options[critSelElem.selectedIndex].value;\n        var txtValue = getClasses(\"zpsearchviewtxt\", \"input\", criteriaElem[i])[0].value;\n        searchCriteria.push(fnGetViewSearchCriteria(fieldValue, critValue, txtValue));\n    }\n    var critOperator;\n    var radioList = searchElem.getElementsByClassName(\"zpCritOp\");//NO I18N\n    for(var j=0; j<radioList.length; j++){\n        if(radioList[j].checked){\n            critOperator = radioList[j].value;\n            break;\n        }\n    }\n    return \"&criteria=\" + searchCriteria + \"&operator=\" + critOperator;//NO I18N\n}\n\nfnDyViewPreviousPage = function(){\n    var dyncId = this.id.replace(\"_previousPage\", \"\");\n    var dyncElem = document.getElementById(dyncId);\n    var zpPos = getClasses(\"zpAlignPos\", \"div\", dyncElem);//NO I18N\n    var startIndex = zpPos[0].getAttribute(\"data-startindex\");\n    var pageNationOptElem = document.getElementById(dyncId+\"_pagenationoption\");\n    var limit = parseInt(pageNationOptElem.options[pageNationOptElem.selectedIndex].value);\n    if(startIndex == 1){\n        alert(\"First Page\");\n        return;\n    }\n    startIndex = parseInt(startIndex)-limit;\n    zpPos[0].setAttribute(\"data-startindex\", startIndex);\n    var searchParams = \"&startindex=\" + startIndex + \"&limit=\" + limit;//NO I18N\n    if(zpPos[0].getAttribute(\"data-searchResult\") == null){\n        fnSearchDynamicViewReq(zpPos[0], dyncId, searchParams);\n    } else{\n        fnSearchDynamicViewReq(zpPos[0], dyncId, searchParams, true);\n    }\n}\n\nfnDyViewNextPage = function(){\n    var dyncId = this.id.replace(\"_nextPage\", \"\");\n    var dyncElem = document.getElementById(dyncId);\n    var zpPos = getClasses(\"zpAlignPos\", \"div\", dyncElem);//NO I18N\n    var viewCount = zpPos[0].getAttribute(\"data-viewcount\");\n    var startIndex = zpPos[0].getAttribute(\"data-startindex\");\n    var pageNationOptElem = document.getElementById(dyncId+\"_pagenationoption\");\n    var limit = parseInt(pageNationOptElem.options[pageNationOptElem.selectedIndex].value);\n    startIndex = limit + parseInt(startIndex);\n    if(startIndex > viewCount){\n        alert(\"Last Page\");\n        return;\n    }\n    zpPos[0].setAttribute(\"data-startindex\", startIndex);\n    var searchParams = \"&startindex=\" + startIndex + \"&limit=\" + limit;//NO I18N\n    if(zpPos[0].getAttribute(\"data-searchResult\") == null){\n        fnSearchDynamicViewReq(zpPos[0], dyncId, searchParams);\n    } else{\n        fnSearchDynamicViewReq(zpPos[0], dyncId, searchParams, true);\n    }\n}\n\nfnPageNationSel = function(){\n    var dyncId = this.id.replace(\"_pagenationoption\", \"\");\n    var dyncElem = document.getElementById(dyncId);\n    var zpPos = getClasses(\"zpAlignPos\", \"div\", dyncElem);//NO I18N\n    zpPos[0].setAttribute(\"data-startindex\", \"1\");\n    var limit = parseInt(this.options[this.selectedIndex].value);\n    var searchParams = \"&startindex=1&limit=\" + limit;//NO I18N\n    if(zpPos[0].getAttribute(\"data-searchResult\") == null){\n        fnSearchDynamicViewReq(zpPos[0], dyncId, searchParams);\n    } else{\n        fnSearchDynamicViewReq(zpPos[0], dyncId, searchParams, true);\n    }\n}\n\nfnSearchDynamicViewReq = function(resultElem, dyncId, searchParam, pgNationSchEnable){\n    if(window.ZS_PreviewMode){\n        return;\n    }\n    var applicationName = resultElem.getAttribute(\"data-applicationname\");\n    var formName = resultElem.getAttribute(\"data-formname\");\n    var viewName = resultElem.getAttribute(\"data-templateid\").replace(\"dyncont\", \"\");\n    if(pgNationSchEnable){\n        var searchStr = fnGetSearchCriteria(dyncId);\n        searchParam += searchStr;\n    }\n    try{\n        if(window.XMLHttpRequest)\n            xmlhttp = new XMLHttpRequest();\n        else\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\n        xmlhttp.onreadystatechange = function(){\n            if(xmlhttp.readyState ==4 && xmlhttp.status == 200){\n                if(this.responseText==\"No result\"){\n                    alert(\"Your search criteria did not match\");\n                    return;\n                }\n                var formData=document.createElement(\"div\");\n                formData.innerHTML=this.responseText;\n                var parent = document.getElementById(dyncId);\n                var div = parent.getElementsByClassName(\"zpAlignPos\");\n                div[0].getElementsByClassName(\"zpformdata\")[0].innerHTML=formData.innerHTML;\n                var formDataElem = resultElem.getElementsByClassName(\"zpformdata\")[0];\n                formDataElem.style.overflow=\"auto\";\n                if(formDataElem.getAttribute(\"data-viewcount\") != null){\n                    var viewCount = formDataElem.getAttribute(\"data-viewcount\");\n                    resultElem.setAttribute(\"data-viewcount\", viewCount);\n                    if(resultElem.getAttribute(\"data-searchbtnclick\") != null){\n                        resultElem.setAttribute(\"data-startindex\", \"1\");\n                        resultElem.removeAttribute(\"data-searchbtnclick\");\n                    }\n                }\n            }\n        }\n        xmlhttp.open(\"GET\", \"/siteapps/searchView?applicationName=\" + applicationName + \"&viewName=\" + viewName + \"&formName=\" + formName + searchParam, true);\n        xmlhttp.send();\n    }catch(e){}\n}\n\n/**\n * Code for commentbox - start\n */\naddCBComments = function(arg)\n{\n    var eltCont = findParent(arg, \"zpelement-wrapper commentbox\");//NO I18N\n    cbElm = eltCont.id;\n\n    var resDiv = document.getElementById(cbElm+\"_resultsDiv\");\n    if(resDiv) {\n    resDiv.style.display=\"none\";\n    }\n\n    var actualPath = location.pathname;\n    var path = actualPath.substr(1,actualPath.lastIndexOf(\".\")-1);\n    if(window.location.host.indexOf(\"sitepreview\") !== -1 || window.location.host.indexOf(\"siteipreview\") !== -1 || path.indexOf(\"preview/\") !== -1) {\n        alert(\"Comment Box will work only on published website\");\n        return false;\n    }\n\n    var cbName = document.getElementById(\"cbName\"+cbElm).value;\n    var cbEmail = document.getElementById(\"cbEmail\"+cbElm).value;\n    var comments = document.getElementById(\"cbComment\"+cbElm).value;\n\n    var cbMsg = document.getElementById(\"cbInfoMsg-\"+cbElm);\n    \n    var rFlg = false;\n    var rCont = document.getElementById(\"cbRatingContainer-\"+cbElm);\n    if(rCont) {\n        rFlg = rCont.hasAttribute(\"curRating\"); //No I18N\n    }\n    \n    if((cbDet.CBVisible == \"1\" && cbDet.RatingVisible == \"1\") && (comments == \"\" && !rFlg)) {\n        cbMsg.innerHTML=\"Provide either rating or comment or both to submit the data.\";//No I18N\n        setTimeout(function() {\n            cbMsg.innerHTML = \"\";\n        },4000)\n        return false;\n    }\n    else if(cbDet.CBVisible == \"1\" && cbDet.RatingVisible == \"0\" && comments == \"\") {\n        cbMsg.innerHTML=\"Please add a comment to submit.\";//No I18N\n        setTimeout(function() {\n            cbMsg.innerHTML = \"\";\n        },4000)\n        return false;\n    }\n    cbName = (cbName == \"\") ? \"Guest\" : cbName;\n    if(cbEmail != \"\") {\n        var mailPattern = new RegExp(\"^[a-zA-Z0-9]([\\\\w\\\\-\\\\.\\\\+\\']*)@([\\\\w\\\\-\\\\.]*)(\\\\.[a-zA-Z]{2,8}(\\\\.[a-zA-Z]{2}){0,2})$\",\"mig\");\n        var reg_mail = mailPattern.exec(cbEmail);\n        if(!reg_mail){\n            cbMsg.innerHTML=\"Provide a proper email-id\";//No I18N\n            setTimeout(function() {\n                cbMsg.innerHTML = \"\";\n            },4000)\n            return false;\n        }\n    }\n    path = path.replace(\"mobile/\",\"\");\n    if(path.indexOf(\"siteapps/protected/\") != -1) {\n      path = path.replace(\"siteapps/protected/\",\"\");\n    }\n    \n    var paramsdata = \"cbName=\"+encodeURIComponent(cbName);  //No I18N\n    var voteVal;\n    if(cbDet.CBVisible == \"1\" && cbDet.RatingVisible == \"1\") {\n        if(rFlg) {\n            voteVal = rCont.getAttribute(\"curRating\");\n            paramsdata = paramsdata + \"&rateVal=\"+voteVal;  //NO I18N\n            rCont.removeAttribute(\"curRating\");\n        }\n    }\n    \n    comments = comments.replace(/\\r?\\n/g, '<br/>');\n        setBrowserCookie();\n//    if(comments == \"\" && rFlg) {\n//        setBrowserCookie();\n//    }\n    \n    var randVal = getBrowserCookie();\n    var paramsdata = paramsdata + \"&cbEmailid=\"+cbEmail+\"&comments=\"+encodeURIComponent(comments)+\"&path=\"+path+\"&randVal=\"+randVal;//No I18N\n    \n    var ie = /*@cc_on!@*/false;\n    if(!ie){\n        xml(\"POST\",\"/siteapps/commentbox/addCBComment\",addCBCommentCallback,paramsdata);//No I18N\n    }else{\n        xml(\"POST\",\"/siteapps/commentbox/addCBComment\",addCBCommentCallback,paramsdata);//No I18N\n    }\n    return false;\n}\n\ncbFormReset = function(arg) {\n    var eltCont = findParent(arg, \"zpelement-wrapper commentbox\");//NO I18N\n    cbElm = eltCont.id;\n\n    var rCont = document.getElementById(\"cbRatingContainer-\"+cbElm);\n    if(rCont.hasAttribute(\"curRating\")) {\n        rCont.removeAttribute(\"curRating\");\n    }\n}\n\naddCBCommentCallback = function(res){\n    if(res == \"-1\") {\n        alert(\"Problem while submitting. Please reload the page\");\n        \n        document.getElementById(\"cbName\"+cbElm).value=\"\";\n        document.getElementById(\"cbEmail\"+cbElm).value=\"\";\n        document.getElementById(\"cbComment\"+cbElm).value=\"\";\n        \n        var rCont = document.getElementById(\"cbRatingContainer-\"+cbElm);\n        if(rCont.hasAttribute(\"curRating\")) {\n            rCont.removeAttribute(\"curRating\");\n        }\n        \n        return false;\n    }\n    \n    var result=JSON.parse(res);\n    \n    document.getElementById(\"cbName\"+cbElm).value=\"\";\n    document.getElementById(\"cbEmail\"+cbElm).value=\"\";\n    document.getElementById(\"cbComment\"+cbElm).value=\"\";\n\n    cbDet = result.CB_DET;\n    var cbRatingHTML = result.CB_RATING_HTML;\n\n    var cbComm = result.CB_COMMENTS_CONTENT;\n\n    var commExist = (typeof cbComm != 'undefined' && cbComm != \"\") ? true : false;\n    \n    if(commExist) {\n        commentsArr.unshift(result);\n    }\n\n    if(cbGlobal.MODERATE_COMMENTS === 1 && (commExist)){\n        alert(\"Your comments will be displayed only after moderation\");\n    }\n    else if(cbGlobal.MODERATE_COMMENTS === 0){\n        if(commExist) {\n            noOfRows = noOfRows + 1;\n            for(var i = 0; i < commentBoxElm.length; i++) {\n                cbElm = commentBoxElm[i];\n                elmId = cbElm.id;\n                if(noOfRows === 1) {\n                        var cbCommNode = document.getElementById(\"cbCommentsContainer-\"+elmId);\n                    while (cbCommNode.firstChild) {\n                        cbCommNode.removeChild(cbCommNode.firstChild);\n                    }\n                }\n                cbCBCommentHTML(res, true, elmId);\n            }\n        }\n    }\n\n    for(var i = 0; i < commentBoxElm.length; i++) {\n        cbElm = commentBoxElm[i];\n        elmId = cbElm.id;\n\n        cbNavig[elmId]={};\n        cbNavig[elmId].STARTVAL = 1;\n        cbNavig[elmId].ENDVAL = (noOfRows < cbGlobal[\"MAX_EXTRIES\"]) ? noOfRows : cbGlobal[\"MAX_EXTRIES\"];\n\n        cbNavig[elmId].FIRSTVAL = 0;\n        cbNavig[elmId].PREVVAL = 0;\n        cbNavig[elmId].NEXTVAL = 0;\n        cbNavig[elmId].LASTVAL = 0;\n\n        if(noOfRows > cbGlobal[\"MAX_EXTRIES\"]) {\n            getPaginationValues(cbNavig[elmId].STARTVAL, noOfRows, elmId);\n            constructComments(cbNavig[elmId].STARTVAL, cbNavig[elmId].ENDVAL, elmId);\n            var pnId = document.getElementById(\"prevNextId\"+elmId);\n            pnId.style.display=\"block\";\n            pnId.innerHTML=\"<span class=\\\"zpinactivePrevNext\\\" id=\\\"prev-\"+elmId+\"\\\" onclick=\\\"fnPageNavigate(this)\\\"><p>Prev</p></span><span class=\\\"zpactivePrevNext\\\" id=\\\"next-\"+elmId+\"\\\" onclick=\\\"fnPageNavigate(this)\\\"><p>Next</p></span>\";\n            document.getElementById(\"prev-\"+elmId).innerHTML=\"<p>Prev</p>\";     //No I18N\n            document.getElementById(\"next-\"+elmId).innerHTML=\"<a href='javascript:;'>Next</a>\";\n        }\n\n        if(cbDet.CBVisible == \"1\" && cbDet.RatingVisible == \"1\") {\n            cbRatingHTML = cbRatingHTML.replace(\"rInfoIcon-\",\"rInfoIcon-\"+elmId);\n            document.getElementById(\"cbRatingContainer-\"+elmId).innerHTML = \"\";\n            document.getElementById(\"cbRatingContainer-\"+elmId).innerHTML = cbRatingHTML;\n        }\n        else if(cbDet.CBVisible == \"0\" && cbDet.RatingVisible == \"1\") {\n            cbRatingHTML = cbRatingHTML.replace(\"rInfoIcon-\",\"rInfoIcon-\"+elmId);\n            document.getElementById(\"cbRatingContainer-\"+elmId).innerHTML = \"\";\n            document.getElementById(\"cbRatingContainer-\"+elmId).innerHTML = cbRatingHTML;\n        }\n\n        if(cbRatingHTML) {\n            var rType = cbDet.RatingTypeId.substring(0,1);\n            var cbLiId = document.getElementById(\"ratingFormId-\"+elmId);\n            if(rType == \"1\") {\n            var cbInfoId = document.getElementById(\"rInfoIcon-\"+elmId);\n                if(cbInfoId) {\n                    cbInfoId.onclick=showHideRateResults;\n                }\n            }\n\n            var resultsDiv = document.createElement(\"div\");\n            resultsDiv.className = \"zpDSContainer\";\n            resultsDiv.id = elmId+\"_resultsDiv\";\n            cbLiId.parentNode.appendChild(resultsDiv);\n        }\n        if(result.CB_RATING_RESULT) {\n            var resDiv = document.getElementById(elmId+\"_resultsDiv\");\n            if(resDiv) {\n                resDiv.innerHTML=result.CB_RATING_RESULT;\n            }\n        }\n        if(inpElm) {\n            inpElm.checked=false;\n        }\n    }\n}\n\ncbCBCommentHTML = function(res, arg, elm){\n    var result=JSON.parse(res);\n    var newElem = document.createElement(\"div\");\n    newElem.className=\"commentPadBottom\";//No I18N\n    newElem.style.clear=\"both\"; //NO I18N\n\n    var d1 = document.createElement(\"div\");\n    d1.id=\"cbCommRateCont-\"+result.CB_COMMENT_ID;\n    var cmtRateRes = result.CB_CMT_RATING;\n    if(cmtRateRes){\n    if(cmtRateRes.trim().length == 0) {\n        var nDivElm = document.createElement(\"div\");\n        nDivElm.style.display=\"block\";\n        var pEl1 = document.createElement(\"p\");\n        pEl1.className=\"zs-text-highlight-color\";\n        pEl1.appendChild(document.createTextNode(result.CB_COMMENTS_ADDED_BY));\n        nDivElm.appendChild(pEl1);\n        d1.appendChild(nDivElm);       \n    }                     \n    else {                \n        d1.innerHTML=cmtRateRes;\n    }\n    newElem.appendChild(d1);\n    }\n    var spElem = document.createElement(\"span\");\n    spElem.className=\"commentDateStyle zs-text-light-color\";\n    spElem.style.marginTop = \"3px\"; //No I18N\n    spElem.style.display=\"block\";\n    spElem.innerHTML=\"Posted on : \"+result.CB_COMMENTS_ADDED_TIME;  //No I18N\n    \n    var d2 = document.createElement(\"div\");\n    var pElem = document.createElement(\"p\");\n    pElem.className=\"commentTxtStyle\";\n    pElem.innerHTML=result.CB_COMMENTS_CONTENT;\n    d2.appendChild(pElem);\n    var hrElem = document.createElement(\"hr\");\n    hrElem.size=\"1\";\n    newElem.appendChild(spElem);\n    newElem.appendChild(d2);\n    newElem.appendChild(hrElem);\n    var elem = document.getElementById(\"cbCommentsContainer-\"+elm);\n    if(arg) {\n        elem.insertBefore(newElem, elem.firstChild);\n    } else {\n        elem.appendChild(newElem);\n    }\n}\n\nrenderCBRateSVG =function() {\n    xml(\"GET\",\"/zimages/cbRate.svg\",renderCBRateSVGRes);//No I18N\n}\n\nrenderCBRateSVGRes = function(res1) {\n    var div = document.createElement(\"div\");\n    div.innerHTML = res1;\n    div.style.display=\"none\";\n    document.body.insertBefore(div, document.body.childNodes[0]);\n      \n    loadCBComments();\n}\n\nloadCBComments = function(cbElm)\n{\n    var actualPath = location.pathname;\n    var randVal = getBrowserCookie();\n\n    if(window.location.host.indexOf(\"sitepreview\") !== -1 || window.location.host.indexOf(\"siteipreview\") !== -1 ) {\n        for(var i = 0; i < commentBoxElm.length; i++) {\n            cbElm = commentBoxElm[i];\n            elmId = cbElm.id;\n            document.getElementById(elmId).style.display=\"block\";\n        }\n    }\n\n    var path = actualPath.substr(1,actualPath.lastIndexOf(\".\")-1);\n    path = path.replace(\"mobile/\",\"\");\n    if(path.indexOf(\"siteapps/protected/\") != -1) {\n      path = path.replace(\"siteapps/protected/\",\"\");\n    }\n\n    var paramsdata = \"?path=\"+path+\"&randVal=\"+randVal;//No I18N\n\n    xml(\"GET\",\"/siteapps/commentbox/generateSiteCBComments\"+paramsdata,loadCBCommentCallback);//No I18N\n}\n\nloadCBCommentCallback = function(res)\n{\n    if(res == \"false\") {\n       return;\n    }\n    else {\n        var resp = JSON.parse(res);\n\n        cbGlobal[\"MAX_EXTRIES\"] = resp[\"COMMENTS_PERPAGE\"];\n        cbGlobal[\"MODERATE_COMMENTS\"] = resp[\"MODERATE_COMMENTS\"];\n\n        commentsArr = resp.CB_COMMENTS;\n        noOfRows = commentsArr.length;\n\n        var cbResults = resp.CB_RESULTS;\n        var cbRatingHTML = cbRatingHTMLOrg = resp.CB_RATING_HTML;\n        var cbRatingHTMLBot = resp.CB_RATING_HTML_BOT;\n        cbCRHTML = resp.CB_CMT_RATING;\n        \n        cbDet = resp.CB_DET;\n        var rType = cbDet.RatingTypeId.substring(0,1);\n        \n        for(var i = 0; i < commentBoxElm.length; i++) {\n            cbElm = commentBoxElm[i];\n            elmId = cbElm.id;\n            \n            var cbElmCont = document.getElementById(elmId);\n            cbElmCont.style.display=\"block\";\n            \n            var cbCont = document.getElementById(\"cbContainer-\"+elmId);\n        if(cbCont) {\n            cbCont.style.display=\"block\";\n        }\n\n            if(cbDet.CBVisible == \"0\") {\n                cbCont.style.display=\"none\";\n            }\n            \n            var rBotCont = document.getElementById(\"cbRatingContainerBot-\"+elmId);\n        if(rBotCont) {\n            rBotCont.style.display = \"block\";\n            }\n            if(cbDet.CBVisible == \"1\" && cbDet.RatingVisible == \"1\") {\n            cbRatingHTML = cbRatingHTML.replace(\"rInfoIcon-\",\"rInfoIcon-\"+elmId);\n                document.getElementById(\"cbRatingContainer-\"+elmId).innerHTML = cbRatingHTML;\n                rBotCont.innerHTML = cbRatingHTMLBot;\n            }\n            else if(cbDet.CBVisible == \"0\" && cbDet.RatingVisible == \"1\") {\n                cbRatingHTML = cbRatingHTML.replace(\"rInfoIcon-\",\"rInfoIcon-\"+elmId);\n                document.getElementById(\"cbRatingContainer-\"+elmId).innerHTML = cbRatingHTML;\n                rBotCont.innerHTML = \"\";\n            }\n            cbRatingHTML = cbRatingHTMLOrg;\n\n            cbNavig[elmId]={};\n            cbNavig[elmId].STARTVAL = 1;\n            cbNavig[elmId].ENDVAL = (noOfRows < cbGlobal[\"MAX_EXTRIES\"]) ? noOfRows : cbGlobal[\"MAX_EXTRIES\"];\n\n            cbNavig[elmId].FIRSTVAL = 0;\n            cbNavig[elmId].PREVVAL = 0;\n            cbNavig[elmId].NEXTVAL = 0;\n            cbNavig[elmId].LASTVAL = 0;\n\n            \n            getPaginationValues(cbNavig[elmId].STARTVAL, noOfRows, elmId);\n            constructComments(cbNavig[elmId].STARTVAL, cbNavig[elmId].ENDVAL, elmId);\n            if(noOfRows > cbGlobal.MAX_EXTRIES) {\n                var pnId = document.getElementById(\"prevNextId\"+elmId);\n                pnId.style.display=\"block\";\n                pnId.innerHTML=\"<span class=\\\"zpinactivePrevNext\\\" id=\\\"prev-\"+elmId+\"\\\" onclick=\\\"fnPageNavigate(this)\\\"><p>Prev</p></span><span class=\\\"zpactivePrevNext\\\" id=\\\"next-\"+elmId+\"\\\" onclick=\\\"fnPageNavigate(this)\\\"><p>Next</p></span>\";\n                document.getElementById(\"prev-\"+elmId).innerHTML=\"<p>Prev</p>\"; //No I18N\n                document.getElementById(\"next-\"+elmId).innerHTML=\"<a href='javascript:;'>Next</a>\";\n            }\n            var cbFormCont = document.getElementById(\"cbFormContainer-\"+elmId);\n            if(cbFormCont) {\n                cbFormCont.style.display=\"block\";\n                }\n            //document.getElementById(\"cbFormContainer-\"+elmId).style.display=\"block\";\n            //document.getElementById(\"commentsTitle-\"+elmId).style.display=\"block\";\n            var cbCommTitle = document.getElementById(\"commentsTitle-\"+elmId);\n            if(cbCommTitle) {\n                cbCommTitle.style.display=\"block\";\n            }\n            if(cbDet.IsClosed == \"0\" && cbFormCont && cbCommTitle) {    \n                cbFormCont.style.display=\"none\";\n                if (noOfRows == 0 && cbCommTitle) {\n                    cbCommTitle.style.display=\"none\";\n                }\n            }\n            \n            if(cbRatingHTML) {\n                var cbLiId = document.getElementById(\"ratingFormId-\"+elmId);\n                if(rType == \"1\") {\n                var cbInfoId = document.getElementById(\"rInfoIcon-\"+elmId);\n                    if(cbInfoId) {\n                cbInfoId.onclick=showHideRateResults;\n                    }\n                }\n                var resultsDiv = document.createElement(\"div\");\n                resultsDiv.className = \"zpDSContainer\";\n                resultsDiv.id = elmId+\"_resultsDiv\";\n                cbLiId.parentNode.appendChild(resultsDiv);\n\n                var resDiv = document.getElementById(elmId+\"_resultsDiv\");\n                if(resDiv) {\n                    resDiv.innerHTML=resp.CB_RATING_RESULT;\n                }\n            }\n            if (noOfRows == 0) {\n                if(cbDet.IsClosed == \"1\") {\n                    var newElem = document.createElement(\"div\");\n                    newElem.className=\"commentPadBottom\";//No I18N\n                    var p1Elem = document.createElement(\"p\");\n                    p1Elem.className=\"zs-text-highlight-color\";\n                    var spElem = document.createElement(\"span\");\n                    spElem.className=\"commentDateStyle zs-text-light-color\";\n                    spElem.style.marginTop = \"3px\"; //No I18N\n                    spElem.style.display=\"block\";\n                    var pElem = document.createElement(\"p\");\n                    pElem.className=\"commentTxtStyle\";\n                    pElem.innerHTML=\"Be the first to comment ...\";  //No I18N\n                    newElem.appendChild(p1Elem);\n                    newElem.appendChild(spElem);\n                    newElem.appendChild(pElem);\n                    var elem = document.getElementById(\"cbCommentsContainer-\"+elmId);\n                    elem.appendChild(newElem);\n                }\n            }\n        }\n    }\n}\n            \nshowHideRateResults = function() {\n    var actualPath = location.pathname;\n    var path = actualPath.substr(1,actualPath.lastIndexOf(\".\")-1);\n    if(window.location.host.indexOf(\"sitepreview\") !== -1 || window.location.host.indexOf(\"siteipreview\") !== -1  || path.indexOf(\"preview/\") !== -1) {\n        alert(\"You can view the rating results only on the published site.\");\n        return false;\n    }\n    var elmId = this.id.replace(\"rInfoIcon-\", \"\");\n    \n    var ratingResultsElem = document.getElementById(elmId+\"_resultsDiv\");\n    \n    if(ratingResultsElem.style.display != \"block\"){\n        ratingResultsElem.style.display = \"block\";\n        \n        var rtCloseDial = ratingResultsElem.getElementsByClassName(\"rating-result-close\")[0];\n        rtCloseDial.addEventListener('click', function () {\n            ratingResultsElem.style.display = \"none\";\n        });\n    } else{\n        ratingResultsElem.style.display = \"none\";\n    }\n    \n    if(mobile && ratingResultsElem.style.display == 'block' && !istab) {\n        var wW = window.innerWidth || document.documentElement.clientWidth;\n    \n        ratingResultsElem.style.position = \"absolute\";\n        var whw = ((wW)/2);\n        var divW = ((ratingResultsElem.clientWidth)/2);\n        var left = ((wW)/2) - ((ratingResultsElem.clientWidth)/2);\n        ratingResultsElem.style.left = parseInt(left)+\"px\";//NO I18N\n        ratingResultsElem.style.top = (parseInt(this.offsetTop)+parseInt(this.offsetHeight)+3)+\"px\";//NO I18N\n}\n    else {\n        ratingResultsElem.style.left = (parseInt(this.offsetLeft)+parseInt(this.offsetWidth)+5)+\"px\";//NO I18N\n        ratingResultsElem.style.top = (parseInt(this.offsetTop)+parseInt(this.offsetHeight)+3)+\"px\";\n    }\n}\n\n\n fnPageNavigate = function (e)\n {\n    var obj = e;\n    var elem;\n    while(obj.parentNode) {\n        obj = obj.parentNode;\n        if(obj.className == \"zpelement-wrapper commentbox\") {\n            elem = obj.id;\n            break;\n        }\n    }\n     \n     var navId = e.id.replace(\"-\"+elem,\"\");\n     var showNavig;\n\n     if(noOfRows > commentsArr.length) {\n         loadCBComments();\n     }\n     noOfRows = commentsArr.length;   //actual\n\n    var pElm = document.getElementById(\"prev-\"+elem);\n    var nElm = document.getElementById(\"next-\"+elem);\n    if(noOfRows > cbGlobal[\"MAX_EXTRIES\"]) {\n        pElm.className=\"zpactivePrevNext\";\n        pElm.innerHTML=\"<a href='javascript:;'>Prev</a>\";\n        nElm.className=\"zpactivePrevNext\";\n        nElm.innerHTML=\"<a href='javascript:;'>Next</a>\";\n    }\n     if(navId == 'prev')\n     {\n         if(cbNavig[elem].STARTVAL != 1) {\n             cbNavig[elem].STARTVAL = cbNavig[elem].PREVVAL;\n             cbNavig[elem].ENDVAL = cbNavig[elem].FIRSTVAL-1;\n         }\n         getPaginationValues(cbNavig[elem].STARTVAL, noOfRows, elem);\n         constructComments(cbNavig[elem].STARTVAL, cbNavig[elem].ENDVAL, elem);\n    if(cbNavig[elem].STARTVAL == 1)\n    {\n            pElm.className=\"zpinactivePrevNext\";\n            pElm.innerHTML=\"<p>Prev</p>\";   //No I18N\n        }\n     }\n     else if(navId == 'next')\n     {\n         if(cbNavig[elem].LASTVAL != noOfRows)\n         {\n             cbNavig[elem].STARTVAL = cbNavig[elem].NEXTVAL;\n             cbNavig[elem].ENDVAL = ((cbNavig[elem].NEXTVAL + cbGlobal[\"MAX_EXTRIES\"]) > noOfRows) ? noOfRows : cbNavig[elem].NEXTVAL + cbGlobal[\"MAX_EXTRIES\"]-1;\n             getPaginationValues(cbNavig[elem].STARTVAL, noOfRows, elem);\n             constructComments(cbNavig[elem].STARTVAL, cbNavig[elem].ENDVAL, elem);\n         }\n    if(cbNavig[elem].LASTVAL == noOfRows) {\n            nElm.className=\"zpinactivePrevNext\";\n            nElm.innerHTML=\"<p>Next</p>\";   //No I18N\n        }\n    }\n}\n\nfunction getPaginationValues(start, noOfRows, elm)\n{\n    var prevstartvalue;\n    var endval;\n    var nextstartvalue;\n\n    var startToEndvalCount = cbGlobal[\"MAX_EXTRIES\"] - 1;\n    if(noOfRows > cbGlobal[\"MAX_EXTRIES\"])\n    {\n        end = start + startToEndvalCount;\n        if(end > noOfRows){\n            end = noOfRows;\n        }\n        startvalue = 1;\n        remainder = noOfRows % cbGlobal[\"MAX_EXTRIES\"];\n        if(remainder > 0){\n            endval = noOfRows - remainder + 1;\n        } else if(remainder == 0){\n            endval = noOfRows - startToEndvalCount;\n        }\n    } else{\n        end = noOfRows;\n    }\n\n    if(typeof start != 'undefined' && start != '')\n    {\n        tempnextstartvalue = start + cbGlobal[\"MAX_EXTRIES\"];\n        if(tempnextstartvalue <= noOfRows){\n            nextstartvalue = tempnextstartvalue;\n        }\n        tempprevvalue = start - cbGlobal[\"MAX_EXTRIES\"];\n\n        if(tempprevvalue  > 0){\n            prevstartvalue = tempprevvalue;\n        }\n    } else {\n        if(noOfRows > cbGlobal.MAX_EXTRIES){\n            nextstartvalue = cbGlobal[\"MAX_EXTRIES\"] + 1;\n        }\n    }\n    cbNavig[elm].FIRSTVAL = start;\n    cbNavig[elm].PREVVAL = prevstartvalue;\n    cbNavig[elm].NEXTVAL = nextstartvalue;\n    cbNavig[elm].LASTVAL = end;\n\n    navigArray['first'] = start;\n    navigArray['last1'] = endval;\n    navigArray['previous'] = prevstartvalue;\n    navigArray['next'] = nextstartvalue;\n    navigArray['last'] = end;\n    return JSON.stringify(navigArray);\n}\n\nconstructComments = function(start, end, elm)\n{\n    var cbCommNode = document.getElementById(\"cbCommentsContainer-\"+elm);\n    while (cbCommNode.firstChild) {\n        cbCommNode.removeChild(cbCommNode.firstChild);\n    }\n\n    var rType = cbDet.RatingTypeId.substring(0,1);\n    for(i = start-1; i < end; i++)\n    {\n        var cmtId = commentsArr[i].CB_COMMENT_ID;\n        var jsObj = {};\n        jsObj.CB_COMMENT_ID = cmtId;\n        jsObj.CB_COMMENTS_ADDED_BY = commentsArr[i].CB_COMMENTS_ADDED_BY;\n        jsObj.CB_COMMENTS_ADDED_TIME = commentsArr[i].CB_COMMENTS_ADDED_TIME;\n        jsObj.CB_COMMENTS_CONTENT = commentsArr[i].CB_COMMENTS_CONTENT;\n        jsObj.CB_CMT_RATING = commentsArr[i].CB_CMT_RATING;\n\n        cbCBCommentHTML(JSON.stringify(jsObj), false, elm);\n    }\n}\n/**\n * Code for commentbox - end\n */\n\nfnSetBannerImg = function(src,banWid, banHei){\n    if(typeof(window.parent.responsivePreview)!=\"undefined\" && window.parent.responsivePreview==\"true\"){\n        return;\n    }else if(typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true){//NO I18N\n        if(banWid>window.innerWidth || !mobile){\n                return;\n        }\n    }\n    var imgSrc = src.src;\n    if(imgSrc.indexOf(\"scaled\") != -1)return;\n    var width = (src.parentNode.tagName.toLowerCase() === \"a\"?src.parentNode.parentNode:src.parentNode).clientWidth; //NO I18N\n    var height = (src.parentNode.tagName.toLowerCase() === \"a\"?src.parentNode.parentNode:src.parentNode).clientHeight; //NO I18N\n    var img = new Image();\n    img.onload = function(){\n        var wid = this.width;\n        var hei = this.height;\n        if(wid > width){\n            wid = width;\n            hei = Math.floor(this.height*width/this.width);\n            if(hei < height){\n                hei = height;\n                wid = Math.floor(this.width*height/this.height);\n            }\n        }else{\n            wid = width;\n            hei = Math.floor(this.height*width/this.width);\n            if(hei < height){\n                hei = height;\n                wid = Math.floor(this.width*height/this.height);\n            }\n        }\n        var cssText = src.style.cssText;\n        if(banWid){\n            if(width != banWid || height != banHei){\n                var diffWid = width-banWid;\n                if(diffWid<0){\n                    diffWid=0;\n                }\n                var widApply = src.clientWidth+(diffWid);\n                //src.style.width=widApply+\"px\";\n                src.style.height='auto';\n                if(src.offsetTop < -(src.clientHeight-height)){\n                    //src.style.top = -(src.clientHeight-height)+'px'\n                }\n            }\n        }\n        if (cssText.indexOf( 'width' ) === -1 && cssText.indexOf( 'height' ) === -1) {\n            src.style.cssText = \"position:relative;top:\"+Math.floor((height-hei)/2)+\"px;left:\"+Math.floor((width-wid)/2)+\"px;width:\"+wid+\"px;height:\"+hei+\"px\";//NO I18N \n        }\n\n\n    }\n    img.src = imgSrc;\n}\n\nfnOverlayClick = function(evt){\n   var src = evt.target?evt.target:evt.srcElement;\n   if(src.id == \"overlay\"){\n        if(src.previousSibling.tagName.toLowerCase() == \"a\" && !window.ZS_PreviewMode){\n            window.open(src.previousSibling.href,src.previousSibling.target);\n        }\n        else if(src.previousSibling.tagName.toLowerCase() == \"a\" && window.ZS_PreviewMode){\n                fnPreviewClickInfoMsg(evt);\n        }\n   }\n}\n\nlightBox = function(src,caption){\n    document.body.style.overflow = \"hidden\";\n    var mask = document.createElement(\"div\");\n    mask.style.cssText = \"position:fixed;top:0px;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);z-index:401\";//NO I18N\n    var imgCont = document.createElement(\"div\");\n    var closeBtn = document.createElement(\"div\");\n    closeBtn.className=\"slideShowCloseCont\"\n    closeBtn.innerHTML=\"<div style='float: left;' class='slideShowCloseImg'></div><span style='float: left; padding-left: 5px;'>Close</span>\";\n    var pinitBtn = document.createElement(\"div\");\n    var imgSrc = src.src;\n    var caption = \"\";\n    if(src.nextSibling && src.nextSibling.nextSibling){\n        caption =  src.nextSibling.nextSibling.innerHTML;\n    }\n    pinitBtn.style.cssText = \"position:absolute;cursor:pointer;background:url(/zimages/zspinit.png);width:55px;height:25px;\";// No I18N\n    pinitBtn.onclick = function(){ ZP_Pinterest_Load(imgSrc,caption);}\n    //closeBtn.style.cssText = \"position:absolute;right:-13px;top:0px;cursor:pointer;background: url(../zimages/slideshow.png) 0 -80px no-repeat;width: 14px;height: 14px;\";//NO I18N\n    var func = function(){window.onresize=null;window.onkeypress=null;document.body.style.overflow = \"auto\";document.body.removeChild(mask);};\n    window.onkeypress = function(e){\n        if((e.which?e.which:e.keyCode) == 27){\n           func();\n        }\n    }\n    closeBtn.onclick=function(){func()};\n    var winHeight = window.innerHeight || document.documentElement.clientHeight;\n    var winWidth = window.innerWidth || document.documentElement.clientWidth;\n    imgCont.style.cssText = \"position:absolute;top:\"+((winHeight-40)/2)+\"px;left:\"+((winWidth-40)/2)+\"px;padding:10px;background:#ffffff;width:40px;height:40px;transition:all .5s ease-out;-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-o-transition:all .5s ease-out\";//NO I18N\n    mask.appendChild(pinitBtn);\n    mask.appendChild(imgCont);\n    mask.appendChild(closeBtn);\n    document.body.appendChild(mask);\n    var transSupport = function(){\n        var transitions = {\n            'transition':'transitionend',// No I18N\n            'OTransition':'oTransitionEnd',// No I18N\n            'MSTransition':'msTransitionEnd',// No I18N\n            'MozTransition':'transitionend',// No I18N\n            'WebkitTransition':'webkitTransitionEnd'// No I18N\n        }\n        var style = document.body.style || document.documentElement.style;\n        for(transition in transitions){\n            if(style[transition] != undefined){\n                return {transitionEnd:transitions[transition],'transition':transition};\n            }\n        }\n        return false;\n    }\n    var height,width,actWidth,actHeight;\n    var img = new Image();\n    img.onload = function(){\n        actHeight = height = this.height;\n        actWidth = width = this.width;\n        img.style.cssText = \"width:auto;height:\"+height+\"px;opacity:0;transition:opacity .2s;-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;\";//NO I18N        \n        imgCont.appendChild(this);\n        if( winHeight < winWidth){\n            if(this.height > winHeight-60){\n                this.removeAttribute('width');\n                this.removeAttribute('height');\n                height = winHeight-60;\n                this.setAttribute(\"height\", winHeight-60);\n                img.style.cssText = \"width:auto;height:\"+height+\"px;opacity:0;transition:opacity .2s;-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;\";//NO I18N    \n            }\n            if(this.clientWidth>winWidth-60){\n                this.removeAttribute('height');\n                this.setAttribute(\"width\", winWidth-60 ); \n                width = winWidth-60;                   \n                img.style.cssText = \"height:auto;width:\"+width+\"px;opacity:0;transition:opacity .2s;-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;\";//NO I18N                    \n            }\n        }else{\n            if(this.width >winWidth-60){\n                this.removeAttribute('width');\n                this.removeAttribute('height');\n                width = winWidth-60;\n                this.setAttribute(\"width\", winWidth-60 );\n                img.style.cssText = \"height:auto;width:\"+width+\"px;opacity:0;transition:opacity .2s;-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;\";//NO I18N    \n            }\n            if(this.clientHeight>winHeight-60){\n                this.removeAttribute('width');\n                this.setAttribute(\"height\", winHeight-60 );                  \n                height = winHeight-60;\n                img.style.cssText = \"width:auto;height:\"+height+\"px;opacity:0;transition:opacity .2s;-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;\";//NO I18N    \n            }\n        }\n        imgCont.style.height = this.clientHeight+\"px\";\n        imgCont.style.width = this.clientWidth+\"px\";\n        imgCont.style.top = (winHeight-(this.clientHeight+20))/2+\"px\";\n        imgCont.style.left = (winWidth-(this.clientWidth+20))/2+\"px\";\n        var trans = transSupport();\n        if(trans){\n            imgCont.addEventListener(trans[\"transitionEnd\"],function(){this.style[trans[\"transition\"]]=\"\";img.style.opacity=1},false);\n        }else{\n            img.style.opacity=1;\n        }\n    }\n    img.src = src.src;\n    window.onresize = function(){\n        var winHeight =  document.documentElement.clientHeight;\n        var winWidth =  document.documentElement.clientWidth;\n        if( winHeight < winWidth){\n            if(img.clientHeight > (winHeight-60) || img.clientHeight <actHeight){\n                img.style.height = (winHeight-60) + \"px\";\n                img.style.width=\"auto\";\n            }\n            if(img.clientWidth > winWidth-60 ){\n                img.style.width = (winWidth-60) +\"px\";\n                img.style.height = \"auto\";\n            }\n        }else{\n            if( img.clientWidth > (winWidth-60) || img.clientWidth <  actWidth){\n                img.style.width = (winWidth-60) + \"px\";\n                img.style.height=\"auto\";\n            }\n            if(img.clientHeight > winHeight-60){\n                img.style.height = (winHeight-60) + \"px\";\n                img.style.width=\"auto\";\n            }\n        }\n        if(img.clientWidth >actWidth || img.clientHeight >actHeight){\n            img.style.height=actHeight+\"px\";\n            img.style.width=\"auto\";\n        }\n        imgCont.style.height = img.clientHeight+\"px\";\n        imgCont.style.width = img.clientWidth+\"px\";\n        imgCont.style.top = (winHeight-(img.clientHeight+20))/2+\"px\";\n        imgCont.style.left = (winWidth-(img.clientWidth+20))/2+\"px\";\n    }\n}\n\n\n\nfunction ZP_Pinterest_Load (src,des){\n    if(window.ZS_PublishMode && !window.ZS_PreviewMode){\n\n        var url = encodeURIComponent(document.URL);\n        if(src.indexOf((\"ht\"+\"tp\"))==-1){\n            src = \"ht\"+\"tp://\"+document.domain+src;// No I18N\n        }\n        var src = encodeURIComponent(src);\n        pinterestURL =\"ht\"+\"tp://www.pinterest.com/pin/create/button/?url=\"+url+\"&media=\"+src;// No I18N\n        if(des && des!=' '){\n            pinterestURL+=\"&description=\"+encodeURIComponent(des);// No I18N\n        }\n        window.open(pinterestURL ,\"\",\"width=800,height=300\");// No I18N\n    }\n    else{\n         parent.Dialog.alert(parent.i18n('pages.builder.pinit.msg'),'information');\n    }\n\n}\n\nfnGetDocumentElements_IEfix = function(tag, attr, value, parentElem){\n    var elemList = new Array();\n    var tagList = (parentElem) ? parentElem.getElementsByTagName(tag) : document.getElementsByTagName(tag);\n    for(var i=0; i<tagList.length; i++){\n        var tagValue = tagList[i].getAttribute(attr);\n        if(tagValue !== null && tagValue === value){\n            elemList.push(tagList[i]);\n        }\n    }\n    return elemList;\n}\n\nwindow.onresize=function(){\n    if(prevWidth!=window.innerWidth && (typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true)){\n        isResize=true;\n        prevWidth=window.innerWidth;\n        if(document.getElementById(\"nav-top\")){\n        revort()\n        navActivate();\n        prevWidth=window.innerWidth;\n        var navShowing=document.getElementById(document.getElementById(\"nav-top\").getAttribute('navshowing'));\n        if(navShowing!=null){\n            if(window.innerHeight<600){\n                navMobileHideMenu(document.getElementById(\"nav-top\"));\n                var moreElem=document.getElementById(\"nav-submenu-idMore\");\n                if(moreElem!=null){\n                    moreElem.style.width=\"\";\n    }\n                if(navShowing.id==\"nav-li1234\"){\n                    var subMenu=document.getElementById(navShowing.getAttribute(\"navsub\"));\n                    if(subMenu){\n                        subMenu.style.width=\"\";\n                        subMenu.parentNode.style.width=\"\";\n                    }\n                }\n            }else{\n                if(navShowing.id==\"nav-li1234\"){\n                    var subMenu=document.getElementById(navShowing.getAttribute(\"navsub\"));\n                    if(subMenu){\n                        subMenu.style.opacity=\"\";\n                    }\n                }\n                navHideMenu(document.getElementById(\"nav-top\"));\n            }\n        }\n        }\n    resizeElements(\"resize\");//NO I18N\n}\n}\n\nresizeElements = function(eve){\n    if((typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true) ||(typeof(window.parent.responsivePreview)!=\"undefined\" && window.parent.responsivePreview==\"true\") ){\n        var banner=document.getElementById(\"zpBannerBg\");\n\n        if(banner ){\n            var bannerparent = banner.parentNode;\n            if(bannerparent.tagName.toLowerCase() === \"a\"){\n                bannerparent = bannerparent.parentNode;\n            }\n            var prevParWidth=bannerparent.clientWidth;\n            var prevParHeight=bannerparent.clientHeight;\n            \n            banner.style.height = \"auto\";\n            bannerparent.style.width=\"100%\";\n            bannerparent.style.width=bannerparent.clientWidth+\"px\";\n            bannerparent.style.height=Math.floor(bannerparent.clientWidth*(prevParHeight/prevParWidth))+\"px\";\n            //bannerparent.style.height=bannerparent.clientHeight+\"px\";\n            //banner.style.width=\"100%\";\n            //banner.style.height=\"auto\";\n            if(banner.style.width === \"\"){\n                banner.style.width = banner.width+\"px\";\n            }\n\n        banner.style.width = ((banner.style.width).replace(\"px\",\"\")*(bannerparent.clientWidth/prevParWidth))+\"px\";\n            banner.style.left = ((banner.style.left).replace(\"px\",\"\")*(bannerparent.clientWidth/prevParWidth))+\"px\";\n            banner.style.top = ((banner.style.top).replace(\"px\",\"\")*(bannerparent.clientWidth/prevParWidth))+\"px\";\n            //banner.style.width = bannerparent.clientWidth+\"px\"; \n            \n            var overlay=document.getElementById(\"overlay\");\n            if(overlay){\n                var overlayHeight=overlay.clientHeight;\n                var overlayWidth=overlay.clientWidth;\n                if(origOverlayWidth==0){\n                    origOverlayWidth=overlayWidth;\n                }\n                if(origOverlayHeight==0){\n                    origOverlayHeight=overlayHeight;\n                }\n                overlay.style.width=bannerparent.clientWidth+\"px\";\n                overlay.style.height=bannerparent.clientHeight+\"px\";\n                var elem=overlay.childNodes;\n                for(i=0;i<elem.length;i++){\n                    if(!(overlay.clientWidth>origOverlayWidth) && overlayWidth!==overlay.clientWidth){ \n                        elem[i].style.left=Math.floor((elem[i].offsetLeft/overlayWidth)*overlay.clientWidth)+\"px\";\n                        elem[i].style.top=Math.floor((elem[i].offsetTop/overlayHeight)*overlay.clientHeight)+\"px\";\n                        var temp;\n                        if(elem[i].className.indexOf(\"bannerBtn\")!==-1){\n                            temp= elem[i].getElementsByTagName(\"button\")[0];\n                            var prevWidth=temp.clientWidth;\n                            var prevHeight=temp.clientHeight;\n                            /*temp.style.width=Math.floor(((temp.offsetWidth-padding*2)/overlayWidth)*overlay.clientWidth)+\"px\";\n                            temp.style.height=Math.floor((prevHeight/prevWidth)*temp.clientWidth)+\"px\";\n                            if(temp.clientWidth<=50){\n                                temp.style.width=\"50px\";\n                                temp.style.height=\"15px\";\n                            }*/\n                        }else{\n                            var prevWidth=elem[i].clientWidth;\n                            var prevHeight=elem[i].clientHeight;\n                            elem[i].style.width=Math.floor((elem[i].offsetWidth/origOverlayWidth)*overlay.clientWidth)+\"px\";\n                            elem[i].style.height=Math.floor((elem[i].offsetHeight/origOverlayHeight)*overlay.clientHeight)+\"px\";\n                            elem[i].style.minHeight = \"\";\n                            temp=elem[i];\n                            var font=temp.getElementsByTagName(\"font\");\n                            if(font!==undefined){\n                                //var fSize1=parseInt(font.getAttribute(\"size\"));\n                               for(var z=0; z < font.length ; z++){\n                                    var fSize1 = parseInt(navGetStyle(font[z],\"font-size\").replace(\"px\",\"\"));//No I18N\n                                    if(fSize1!=null){\n                                        fSize1=Math.floor((fSize1/origOverlayWidth)*overlay.clientWidth)+\"px\";//NO I18N\n                                        font[z].removeAttribute(\"size\");\n                                        font[z].style.fontSize = fSize1;\n                                    }\n                                }\n                            }\n                        }\n                        var fontSize=parseInt(navGetStyle(temp,\"font-size\").replace(\"px\",\"\"));//NO I18N\n                        temp.style.fontSize=Math.floor((fontSize/origOverlayWidth)*overlay.clientWidth)+\"px\";//NO I18N\n                        if(parseInt(navGetStyle(temp,\"font-size\").replace(\"px\",\"\"))<8){\n                            temp.style.fontSize=\"8px\";//NO I18N\n                            //if(elem[i].className.indexOf(\"bannerBtn\")==-1){\n                            //}\n                        }\n                        if(navGetStyle(temp, 'font-size').replace('px','') < 8 || temp.scrollHeight > temp.offsetHeight || temp.offsetHeight + temp.offsetTop > overlay.offsetHeight){\n                            var ratio=(temp.clientHeight/temp.clientWidth);\n                            temp.style.minWidth=temp.style.width;\n                            temp.style.width = '';//No I18N\n                            var myMax = ratio*temp.clientWidth;\n                            temp.style.maxHeight = (myMax+temp.offsetTop >= overlay.offsetHeight ? (overlay.offsetHeight-temp.offsetTop-2) : myMax )+'px';//No I18N\n                            temp.style.height=\"\";//No I18N\n                        }\n                        var fontElement;\n                        for(j=1;j<7;j++){\n                            fontElement=temp.getElementsByTagName(\"h\"+j)[0];\n                            if(fontElement!=null){\n                                break;\n                            }\n                        }\n                        if(fontElement!=null){\n                            var fontSize=parseInt(navGetStyle(temp, \"font-size\").replace('px',''));//Math.floor((parseInt(navGetStyle(fontElement,\"font-size\").replace(\"px\",\"\"))/origOverlayWidth)*overlay.clientWidth);//NO I18N\n                            if(fontSize<8){\n                                fontSize=8;\n                            }\n                            var fDiv=\"<div style=\\\"font-size:\"+fontSize*1.2+\"px\\\">\"+fontElement.innerHTML+\"</div>\";\n                            fontElement.innerHTML=fDiv;\n                        }\n                        var padding=parseInt(navGetStyle(temp,\"padding-left\").replace(\"px\",\"\"));//NO I18N\n                        temp.style.paddingLeft=temp.style.paddingRight=Math.floor((padding/origOverlayWidth)*overlay.clientWidth)+\"px\";//NO I18N\n                        var padding1=parseInt(navGetStyle(temp,\"padding-top\").replace(\"px\",\"\"));//NO I18N\n                        temp.style.paddingTop=temp.style.paddingBottom=Math.floor((padding1/origOverlayWidth)*overlay.clientWidth)+\"px\";//NO I18N\n                        var border=parseInt(navGetStyle(temp,\"border\").replace(\"px\",\"\"));//NO I18N\n                        temp.style.border=Math.floor((border/origOverlayWidth)*overlay.clientWidth)+\"px solid\";\n                        if(border && temp.style.border==\"0px solid\"){\n                            temp.style.border=\"1px solid\";\n                        }\n                        while((temp.scrollHeight > temp.offsetHeight) && (temp.scrollHeight - temp.offsetHeight > 2) && (temp.offsetLeft-5 > 0)){ //code to resize the overlay bacckground while overflow // the differece should be greater than 5\n                            temp.style.left = temp.offsetLeft - 5 + 'px';//No I18N\n                        }\n                        if((temp.scrollHeight > temp.offsetHeight) && (temp.scrollHeight - temp.offsetHeight > 2)){\n                            while((temp.scrollHeight > temp.offsetHeight) && (temp.scrollHeight - temp.offsetHeight > 2)){\n                                var mySize = parseInt(navGetStyle(temp, \"font-size\").replace(\"px\",\"\"));//No I18N\n                                if(mySize < 3){\n                                    break;\n                                }\n                                temp.style.fontSize = (mySize-3 )+'px';//No I18N\n                            }\n                        }\n                    }\n                }\n            }\n            //if(eve!=null){\n                //fnSetBannerImg(banner,750,500);\n                fnSetBannerImg(banner,banner.clientWidth,banner.clientHeight);\n            //}\n        }\n        banner=document.getElementById(\"carouselImg\");\n        if(banner){\n            if(origOverlayWidth==0){\n                origOverlayWidth=banner.clientWidth;\n            }\n            if(origOverlayHeight==0){\n                origOverlayHeight=banner.clientHeight;\n            }\n            if(tempOrigOverlayWidth==0){\n                tempOrigOverlayWidth=banner.clientWidth;\n            }\n            if(tempOrigOverlayHeight==0){\n                tempOrigOverlayHeight=banner.clientHeight;\n            }\n            var overlay=document.getElementById(\"overTxt\");\n            \n            /*    tempOverlayHeight=banner.clientHeight;\n               tempOverlayWidth=banner.clientWidth;\n            var height=(banner.clientHeight/banner.clientWidth);\n            banner.parentNode.style.width=banner.parentNode.parentNode.style.width;\n            var padWidth = parseInt(navGetStyle(banner.parentNode,'padding-left').replace(\"px\",\"\"));;//No I18N\n            banner.style.width=(banner.parentNode.clientWidth-padWidth*2)+\"px\";\n            banner.style.height=Math.floor((banner.parentNode.clientWidth-padWidth*2)*height)+\"px\";\n            banner.parentNode.style.height=banner.clientHeight+\"px\";\n            banner.parentNode.style.width=banner.clientWidth+\"px\";*/\n        }\n    banner =document.getElementsByClassName(\"themeBannerArea\")[0];\n    if(!banner){\n        banner =document.getElementsByClassName(\"themeBanner\")[0];\n    }\n    if(banner){\n        var swfBanner=banner.getElementsByTagName(\"object\")[0];\n            if(swfBanner){\n                    swfBanner.parentNode.parentNode.style.width=banner.clientWidth+\"px\";\n                    var prevHeight=swfBanner.getAttribute(\"height\");\n                    var prevWidth=swfBanner.getAttribute(\"width\");\n                    var padWidth = parseInt(navGetStyle(banner,'padding-left').replace(\"px\",\"\"));;//No I18N\n                    swfBanner.setAttribute(\"width\",banner.clientWidth-padWidth*2);\n            }\n    }\n        var logo=document.getElementById(\"zpLogo\");\n        if(logo && logo.clientWidth>window.innerWidth){\n            logo.style.width=window.innerWidth+\"px\";;\n            /*logo.style.width=\"100%\";\n            logo.parentNode.style.width=\"100%\";*/\n        }\n        var imgs=document.getElementsByClassName(\"zpImage\");//NO I18N\n        for(i=0;i<imgs.length;i++){\n            if(imgs[i].clientWidth>window.innerWidth){\n                imgs[i].style.width=window.innerWidth+\"px\";\n            }\n        }\n\n        /*\n        var gImgs=document.getElementsByClassName(\"photoContent\");//NO I18N\n        if(gImgs && window.innerWidth<350){\n            for(i=0;i<gImgs.length;i++){\n                //gImgs[i].style.width=Math.floor(window.innerWidth/2)+\"px\";\n                //gImgs[i].children[0].style.width=gImgs[i].style.width;\n            }\n        }*/\n\n        var photoList=document.getElementsByClassName(\"photoListView\");//NO I18N\n        var ownG=document.getElementsByClassName(\"ownGallery\");//NO I18N\n        if(ownG && photoList.length!=0){\n            for(i=0;i<ownG.length;i++){\n                var zpAlignGal=ownG[i].children[1];\n                var cheight=photoList[0].clientHeight;\n                zpAlignGal.style.height=cheight+\"px\";\n                //gImgs[i].style.width=Math.floor(window.innerWidth/2)+\"px\";\n                //gImgs[i].children[0].style.width=gImgs[i].style.width;\n            }\n        }\n\n        var slideShow=document.getElementsByClassName(\"carousel\");//NO I18N\n        for(i=0;i<slideShow.length;i++){\n            var zpAlign=slideShow[0].children[0].children[0];\n            if(zpAlign){\n                var prevHeight=zpAlign.clientHeight;\n                var prevWidth=zpAlign.clientWidth;\n                zpAlign.style.width=zpAlign.parentNode.clientWidth+\"px\";\n                //zpAlign.style.height=zpAlign.parentNode.clientWidth+\"px\";\n                var calculatedHeight=(prevHeight/prevWidth)*zpAlign.clientWidth;\n                zpAlign.style.height=Math.round(calculatedHeight)+\"px\";\n            }\n        }\n        if(mobile){\n            var searchContainer=document.getElementsByClassName(\"themeSearchContainer\");//NO I18N\n            if(searchContainer[0]){\n                //searchContainer[0].parentNode.removeChild(searchContainer[0]);\n                if(!istab || window.innerWidth<640){\n                searchContainer[0].style.display=\"none\";\n                }else{\n                    searchContainer[0].style.display=\"\";\n                }\n            }\n        }\n        if(mobile){\n            var imageCaption=document.getElementsByClassName(\"zpImageCaption\");//NO I18N\n            for(i=0;i<imageCaption.length;i++){\n                imageCaption[i].style.width=\"auto\";\n            }\n        }\n    }\n}\n\nresizeOverlay=function(){\n            var banner=document.getElementById(\"carouselImg\");\n            var overlay=document.getElementById(\"overTxt\");\n            if(banner.parentNode.style && banner.parentNode.style.height && banner.parentNode.style.width){\n                banner.style.height = banner.parentNode.style.height;\n                banner.style.width = banner.parentNode.style.width;\n            }\n            if(overlay){\n                var overlayHeight=overlay.clientHeight;\n                var overlayWidth=overlay.clientWidth;\n                if(tempOrigOverlayWidth==0){\n                    tempOrigOverlayWidth=overlayWidth;\n                }\n                overlay.style.width=banner.clientWidth+\"px\";\n                overlay.style.height=banner.clientHeight+\"px\";\n                var elem=overlay.childNodes;\n                for(i=0;i<elem.length;i++){\n                    if(overlay.clientWidth<tempOrigOverlayWidth){\n                        elem[i].style.left=Math.floor((elem[i].offsetLeft/tempOrigOverlayWidth)*overlay.clientWidth)+\"px\";\n                        elem[i].style.top=Math.floor((elem[i].offsetTop/tempOrigOverlayHeight)*overlay.clientHeight)+\"px\";\n                        var temp;\n                        if(elem[i].className.indexOf(\"bannerBtn\")!==-1){\n                            temp= elem[i].getElementsByTagName(\"button\")[0];\n                            var prevWidth=temp.clientWidth;\n                            var prevHeight=temp.clientHeight;\n                            /*temp.style.width=Math.floor((temp.offsetWidth/tempOrigOverlayWidth)*overlay.clientWidth)+\"px\";\n                            temp.style.height=Math.floor((prevHeight/prevWidth)*temp.clientWidth)+\"px\";\n                            if(temp.clientWidth<=50){\n                                temp.style.width=\"50px\";\n                                temp.style.height=Math.floor((prevHeight/prevWidth)*50)+\"px\";\n                            }*/\n                        }else{\n                            var prevWidth=elem[i].clientWidth;\n                            var prevHeight=elem[i].clientHeight;\n                            elem[i].style.width=Math.floor((elem[i].offsetWidth/tempOrigOverlayWidth)*overlay.clientWidth)+\"px\";\n                            elem[i].style.height=Math.floor((elem[i].offsetHeight/tempOrigOverlayHeight)*overlay.clientHeight)+\"px\";\n                            elem[i].style.minHeight = \"\";//No I18N\n                            temp=elem[i];\n                            var font=temp.getElementsByTagName(\"font\");\n                            if(font!==undefined){\n                                //var fSize1=font.getAttribute(\"size\");\n                                //var sizeArray = [11,13,16,19,24,32,42];\n                                // var fSize1 = sizeArray[fSize1-1];\n                                for(var z=0; z < font.length ; z++){\n                                    var fSize1 = parseInt(navGetStyle(font[z],\"font-size\").replace(\"px\",\"\"));//No I18N\n                                    if(fSize1!=null){\n                                        fSize1=Math.floor((fSize1/tempOrigOverlayWidth)*overlay.clientWidth)+\"px\";//NO I18N\n                                        font[z].removeAttribute(\"size\");\n                                        font[z].style.fontSize = fSize1;\n                                    }\n                                }\n                            }\n                        }\n                        var fontSize=parseInt(navGetStyle(temp,\"font-size\").replace(\"px\",\"\"));//NO I18N\n                        temp.style.fontSize=Math.floor((fontSize/tempOrigOverlayWidth)*overlay.clientWidth)+\"px\";//NO I18N\n                        if(parseInt(navGetStyle(temp,\"font-size\").replace(\"px\",\"\"))<8){\n                            temp.style.fontSize=\"8px\";//NO I18N\n                            //if(elem[i].className.indexOf(\"bannerBtn\")==-1){\n                            //}\n                        }\n                        if(navGetStyle(temp, 'font-size').replace('px','') < 8 || temp.scrollHeight > temp.offsetHeight || temp.offsetHeight + temp.offsetTop > overlay.offsetHeight){\n                            var ratio=(temp.clientHeight/temp.clientWidth);\n                            temp.style.minWidth=temp.style.width;\n                            temp.style.width = '';//No I18N\n                            var myMax = ratio*temp.clientWidth;\n                            temp.style.maxHeight = (myMax+temp.offsetTop >= overlay.offsetHeight ? (overlay.offsetHeight-temp.offsetTop-2) : myMax )+'px';//No I18N\n                        }\n                        var fontElement;\n                        for(j=1;j<7;j++){\n                            fontElement=temp.getElementsByTagName(\"h\"+j)[0];\n                            if(fontElement!=null){\n                                break;\n                            }\n                        }\n                        if(fontElement!=null){\n                            var fontSize=parseInt(navGetStyle(temp, \"font-size\").replace('px',''));//Math.floor((parseInt(navGetStyle(fontElement,\"font-size\").replace(\"px\",\"\"))/tempOrigOverlayWidth)*overlay.clientWidth);//NO I18N\n                            if(fontSize<8){\n                                fontSize=8;\n                            }\n                            var fDiv=\"<div style=\\\"font-size:\"+fontSize*1.2+\"px\\\">\"+fontElement.innerHTML+\"</div>\";\n                            fontElement.innerHTML=fDiv;\n                        }\n \n                        var padding=parseInt(navGetStyle(temp,\"padding-left\").replace(\"px\",\"\"));//NO I18N\n                        temp.style.paddingLeft=temp.style.paddingRight=Math.floor((padding/tempOrigOverlayWidth)*overlay.clientWidth)+\"px\";//NO I18N\n                        var padding1=parseInt(navGetStyle(temp,\"padding-top\").replace(\"px\",\"\"));//NO I18N\n                        temp.style.paddingTop=temp.style.paddingBottom=Math.floor((padding1/tempOrigOverlayWidth)*overlay.clientWidth)+\"px\";//NO I18N\n \n                        var border=parseInt(navGetStyle(temp,\"border\").replace(\"px\",\"\"));//NO I18N\n                        temp.style.border=Math.floor((border/tempOrigOverlayWidth)*overlay.clientWidth)+\"px solid\";\n                        if(border && temp.style.border==\"0px solid\"){\n                            temp.style.border=\"1px solid\";\n                        }\n                        while((temp.scrollHeight > temp.offsetHeight) && (temp.scrollHeight - temp.offsetHeight > 2) && (temp.offsetLeft-5 > 0)){ //code to resize the overlay bacckground while overflow // the differece should be greater than 5\n                            temp.style.left = temp.offsetLeft - 5 + 'px';//No I18N\n                        }\n                        if((temp.scrollHeight > temp.offsetHeight) && (temp.scrollHeight - temp.offsetHeight > 2)){\n                            while((temp.scrollHeight > temp.offsetHeight) && (temp.scrollHeight - temp.offsetHeight > 2)){\n                                var mySize = parseInt(navGetStyle(temp, \"font-size\").replace(\"px\",\"\"));//No I18N\n                                if(mySize < 3){\n                                    break;\n                                }\n                                temp.style.fontSize = (mySize-2 )+'px';//No I18N\n                            }\n                        }\n                        temp.style.height=\"\";//No I18N\n                    }\n                }                \n            }\n}\n\nfnChangeTab = function(evt){\n    var elem = evt.target?evt.target:evt.srcElement;\n    if(elem.id==\"\" && elem.className==\"\"){\n        elem=elem.parentNode;\n    }\n    if(elem.className.indexOf(\"selected\")!==-1){\n        return;\n    }\n    var prevSelected;\n    if(elem.className.indexOf(\"zs-accordion\")!=-1){\n        prevSelected = getClasses('selected',\"div\",elem.parentNode)[0];//NO I18N\n    }else{\n        prevSelected = getClasses('selected',\"li\",elem.parentNode)[0];//NO I18N\n    }\n    prevSelected.className=prevSelected.className.replace(\"selected\",\"\");\n    var accordionSelected;\n    var contents;\n    if(prevSelected.className.indexOf(\"zs-tabs-accordion-header\")!=-1){\n        contents=getClasses(\"zs-tabs-accordion-content\",\"span\",prevSelected.parentNode.parentNode.parentNode);//NO I18N\n    }else{\n        contents=getClasses(\"zs-tabs-accordion-content\",\"span\",prevSelected.parentNode);//NO I18N\n    }\n    var name=\"content\"+prevSelected.getAttribute(\"name\").replace(\"tab\",\"\");//NO I18N\n    var newName=\"content\"+elem.getAttribute(\"name\").replace(\"tab\",\"\");//NO I18N\n    for(var i=0,length=contents.length;i<length;i++){\n        if(contents[i].getAttribute(\"name\")===name){\n            contents[i].style.display=\"none\";\n        }\n        if(contents[i].getAttribute(\"name\")===newName){\n            contents[i].style.display=\"block\";\n            accordionSelected=contents[i];\n        }\n    }\n    elem.className=elem.className+\" selected\";\n    loadAudioFiles();\n    var childElements=accordionSelected.getElementsByClassName(\"picasa\");//NO I18N\n    for(var i=0;i<childElements.length;i++){\n            if(childElements[i].clientHeight<75){\n            if(childElements[i].clientHeight!=0){\n                var atitle=childElements[i].getElementsByClassName(\"zpalbumTitle-container\");\n                for(j=0;j<atitle.length;j++){\n                    atitle[j].parentNode.removeChild(atitle[j]);\n                }\n                var agallery=document.getElementById('zpg'+childElements[i].id);\n            }\n            albumCount.push(childElements[i]);  \n            galleryElements.push(document.getElementById('zpg'+childElements[i].id));\n            }\n    }    \n    childElements=accordionSelected.getElementsByClassName(\"flickr\");//NO I18N\n    for(var i=0;i<childElements.length;i++){\n            if(childElements[i].clientHeight<75){\n            albumCount.push(childElements[i]);  \n            galleryElements.push(document.getElementById('zpg'+childElements[i].id));\n            }\n    }    \n    childElements=accordionSelected.getElementsByClassName(\"ownGallery\");//NO I18N\n    for(var i=0;i<childElements.length;i++){\n            albumCount.push(childElements[i]);  \n            galleryElements.push(document.getElementById('zpg'+childElements[i].id));\n    }    \n    if(typeof(Gallery.fnShowOwnGalleryImgs)==\"undefined\"){\n        if(albumCount.length>0){\n            if(window.ZS_PreviewMode){\n                commonLoadScript(assetsUrl+\"/js/gallery.js\");//NO I18N\n                commonLoadScript(assetsUrl+\"/js/collage.js\");//NO I18N\n                loadingAlbumCount = 1;\n            }else{\n                xml(\"GET\",\"/gallery.txt\",function(res){//NO I18N\n                    window.ownGallery = JSON.parse(res);\n                    commonLoadScript(\"/js/gallery.js\");//NO I18N\n                    commonLoadScript(\"/js/collage.js\");//NO I18N\n                    loadingAlbumCount = 1;\n                    },\"\");\n            }\n        }\n    }else{\n    if(albumCount.length>0){\n        var album = albumCount.pop();\n        if(album.className == \"zpelement-wrapper picasa\"){\n            setTimeout(function(){commonLoadScript(\"//picasaweb.google.com/data/feed/api/user/\"+album.getAttribute('albumusername')+\"/albumid/\"+album.getAttribute('albumid')+\"?alt=json-in-script&callback=Gallery.showAlbumPhotos\");},10);\n        }\n        else if(album.className == \"zpelement-wrapper flickr\"){\n            setTimeout(function(){commonLoadScript(\"ht\"+\"tps://www.flickr.com/services/rest?method=flickr.photosets.getPhotos&api_key=317b7c22e9394b291b75f6356335d254&photoset_id=\"+album.getAttribute('albumid')+\"&format=json&jsoncallback=Gallery.showAlbumPhotos\");},10);// No I18N\n\n        }else{\n        if(album.clientHeight<75){\n        var func = function(){\n          Gallery.fnShowOwnGalleryImgs(album.getAttribute(\"albumid\"),album.getAttribute(\"albumusername\"));\n        }\n         setTimeout(func,1000);\n         }\n        }\n    }\n    }\n    var fbElem=accordionSelected.getElementsByClassName(\"facebook\");//NO I18N\n    for(var i=0;i<fbElem.length;i++){\n        var fbComment=getClasses(\".fb-comments\",\"div\",fbElem[i]);// No I18N\n        if(!fbComment[0]){\n            fbComment=getClasses(\".facebook\",\"div\",fbElem[i]);// No I18N\n        }\n        if(fbComment[0]){\n            fbComment[0].setAttribute(\"data-width\",(window.ZS_PublishMode||window.ZS_PreviewMode)?fbElem[i].offsetWidth:fbElem[i].offsetWidth-2);\n        }\n        if(fbElem[i].clientHeight==0){\n            facebookElem.push(fbElem[i]);\n        }\n    }\n    for(var i=0;i<fbElem.length;i++){\n       var wType = fbElem[i].getAttribute(\"data-fwType\");\n       facebookElem.push(fbElem[i]);\n    }\n    if(fbElem.length>0){\n            if(window.FB){\n                enableFacebookWidget();\n                window.FB.XFBML.parse();\n            }\n    }   \n    //for carousel\n    var carousel=accordionSelected.getElementsByClassName(\"carousel\");//NO I18N\n        if(carousel){\n            var func2 = function(res){\n                var func3 = function(){\n                    if(typeof(ImageRotator) != \"undefined\"){\n                        clearInterval(window.interval1);\n                        res = JSON.parse(res);\n                        func(res);\n                    }\n                }\n                window.interval1 = setInterval(func3,16);\n            }\n            var func = function(res){\n                for(var c=0;c<carousel.length;c++){\n                    var elem=carousel[c];\n                    var carouselProp = res[elem.getAttribute(\"carouselId\")];\n                    if(carouselProp){\n                    var imgs = carouselProp.slideURL;\n                    var imgArr=[];\n                    for(var i=0;i<imgs.length;i++){\n                        if(window.ZS_PreviewMode){\n                            imgArr.push(imgs[i]);\n                        }else{\n                            var imgSrc = imgs[i].split(\"/\");\n                            imgArr.push(imgs[i].replace(imgSrc[2]+\"/\",\"\"));\n                        }\n                    }\n                    var carCont;\n                    carCont=getClasses(\"zpAlignPos\",\"div\",elem)[0];// No I18N\n                    var cLength=carCont.childNodes.length;\n                    if(cLength>0){\n                    while(carCont.firstChild){\n                        carCont.removeChild(carCont.firstChild);\n                     }\n                    }\n                    carCont = document.createElement(\"div\");\n                    carCont.innerHTML=\"<div style=\\\"position: absolute; top: 0px; left: 0px; opacity: 1; z-index: 2; overflow:hidden;background:#fff\\\"></div><div style=\\\"position: absolute; top: 0px; left: 0px; display: block; z-index: 1; overflow:hidden;\\\">\";//No I18N\n                    elem.children[0].appendChild(carCont);\n                    var width = carCont.parentNode.clientWidth;\n                    if(carouselProp.settings.thumbnail == \"on\" && (carouselProp.settings.thumbPos == \"left\" || carouselProp.settings.thumbPos == \"right\")){\n                        width = width-65;\n                    }\n                    var height=Math.floor((width*9)/16);\n                    carCont.style.cssText = \"position:relative;width:\"+width+\"px;height:\"+height+\"px;overflow:hidden;float:left\";//No I18N\n                    carCont.id=\"ir\"+Math.floor(Math.random()*1000000000000);\n                    if((typeof(responsiveTheme)!=\"undefined\" && responsiveTheme==true && mobile===true && carouselProp.settings.type===\"film\" )||(typeof(window.parent.responsivePreview)!=\"undefined\" && window.parent.responsivePreview==\"true\" && carouselProp.settings.type===\"film\")){\n                        carouselProp.settings.type=\"stripe\";\n                    }\n                     var rotator=new ImageRotator(carCont,imgArr,carouselProp.settings);}\n                }\n            }\n            if(window.ZS_PreviewMode){\n                    func2(JSON.stringify(carouselProp));\n            }else{\n                xml(\"GET\",\"/carousel.txt\",func2,\"\"); //No I18N\n            }\n        }\n\n}\n\nfindParent=function(el2,cls) {\n        var el2 = el2.parentNode;\n        while(el2) {if(el2.className && el2.className.indexOf(cls)!=-1){ return el2;}el2 = el2.parentNode;}\n        return false;\n    }\n\nfunction submitVote(param) {\n    var actualPath = location.pathname;\n    var path = actualPath.substr(1,actualPath.lastIndexOf(\".\")-1);\n    path = path.replace(\"mobile/\",\"\");\n    if(window.location.host.indexOf(\"sitepreview\") !== -1 || window.location.host.indexOf(\"siteipreview\") !== -1  || path.indexOf(\"preview/\") !== -1) {\n        alert(\"Rating will work only on published website\");\n        return false;\n    }\n    \n    var inp = param.id;\n    inpElm = document.getElementById(inp);\n    inpElm.checked=true;\n    \n    var eltCont = findParent(param, \"zpelement-wrapper commentbox\");//NO I18N\n    var elmId = eltCont.id;\n    \n    var resDiv = document.getElementById(elmId+\"_resultsDiv\");\n    if(resDiv) {\n    resDiv.style.display=\"none\";\n    }\n    \n    var voteVal = inp.replace(\"rating-\",\"\");\n    var rCont = document.getElementById(\"cbRatingContainer-\"+elmId);\n    rCont.setAttribute(\"curRating\",voteVal);\n    \n    var rFormId= param.parentNode.parentNode;\n    rFormId.setAttribute(\"voted\",\"true\");\n    \n    var actualPath = location.pathname;\n\n    var path = actualPath.substr(1,actualPath.lastIndexOf(\".\")-1);\n    path = path.replace(\"mobile/\",\"\");\n    if(path.indexOf(\"siteapps/protected/\") != -1) {\n        path = path.replace(\"siteapps/protected/\",\"\");\n    }\n    var randVal = getBrowserCookie();\n    \n    var paramsdata = \"rateVal=\"+voteVal+\"&path=\"+path+\"&randVal=\"+randVal;  //No I18N\n    \n    if(cbDet.CBVisible == \"0\" && cbDet.RatingVisible == \"1\") {\n        var ie = /*@cc_on!@*/false;\n        if(!ie){\n            xml(\"POST\",\"/siteapps/commentbox/addRankVotes\",addRankVotesCallback,paramsdata);//No I18N\n        }else{\n            xml(\"POST\",\"/siteapps/commentbox/addRankVotes\",addRankVotesCallback,paramsdata);//No I18N\n        }\n    }\n}\n\nfunction addRankVotesCallback(resp) {\n    var cbResults = JSON.parse(resp);\n    var currRData = cbResults.RESULT.currUsrRatingData;\n    var totResData = cbResults.RESULT.usrTotVoteResults;\n    var rType = cbDet.RatingTypeId.substring(0,1);\n    \n    if(document.querySelectorAll){\n        var matches = document.querySelectorAll(\"div.rating-outer-container\");  //NO I18N\n        for(p=0;p<matches.length;p++){\n            if(matches[p].hasAttribute(\"voted\")) {\n                var rateCont = matches[p];\n                rateCont.removeAttribute(\"voted\");\n                if(rType == \"1\") {\n                    var starRatingDiv = rateCont.querySelectorAll(\"div.star-rating\");   //NO I18N\n                    starRatingDiv[0].removeAttribute(\"style\");\n\n                    for(var i = 0; i < commentBoxElm.length; i++) {\n                        cbElm = commentBoxElm[i];\n                        elmId = cbElm.id;\n                        \n                        if(cbResults.CB_RATING_RESULT) {\n                            var resDiv = document.getElementById(elmId+\"_resultsDiv\");\n                            if(resDiv) {\n                                resDiv.innerHTML=cbResults.CB_RATING_RESULT;\n                            }\n                        }\n                    }\n                    \n                    var rateAvgDiv = starRatingDiv[0].parentNode.nextSibling.nextSibling;\n                    var vStr = (totResData.votes > 1) ? \"Votes\" : \"Vote\";    //NO I18N\n                    rateAvgDiv.innerHTML = totResData.average + \"/ 5 (\"+totResData.votes+\" \"+vStr+\")\"; \n                }\n                else if(rType == \"2\") {\n                    var thumbUpResDiv = rateCont.querySelectorAll(\"div.thumb-up-result\");   //NO I18N\n                    thumbUpResDiv[0].innerHTML=totResData.rateScale1;\n                \n                    var thumbDownResDiv = rateCont.querySelectorAll(\"div.thumb-down-result\");   //NO I18N\n                    thumbDownResDiv[0].innerHTML=totResData.rateScale2;\n                }\n            }\n        }\n    }\n}\n\nvar rateVal;\nfunction generateCookie() {\n\n    var get_as_float=5.5;\n  \n    var now = new Date().getTime() / 1000;\n    var s = parseInt(now, 10);\n\n    var ans = (get_as_float) ? now : (Math.round((now - s) * 1000) / 1000) + ' ' + s;\n    \n    var v = ans+\"\"+Math.random().toString(36).slice(2);\n    var f = v.replace(\".\",\"\");\n    return f;\n}\n\nfunction setBrowserCookie() {\n    //if(detectCookie()) {\n        var date = new Date();\n        date.setTime(date.getTime()+(20*24*60*60*1000)); // cookie will be active for 20 days\n        var expires = \"; expires=\"+date.toGMTString();  //NO I18N\n        var idVal = generateCookie();\n        document.cookie = \"rtId=\"+idVal+expires+\"; path=/\";\n}\n\nfunction checkCookie() {\n    var cookie = document.cookie;\n    var cVal = cookie.indexOf(\"rtId\");\n//    if(cVal == -1) {\n        setBrowserCookie();\n//    }\n}\n\nfunction getBrowserCookie() {\n    var cs = document.cookie.split(\";\");\n    var cookieVal;\n    for(i=0;i<cs.length;i++) {\n        var v = cs[i];\n        if(v.indexOf(\"rtId\") != -1) {\n            val=v.split(\"=\");\n            cookieVal = val[1];\n        }\n    }\n    return cookieVal;\n}\n\nrender_newsletter = function(){\n    var site_id = newsletter_elts[0].getAttribute('data_site_id');\n    if(window.ZS_PreviewMode){\n        xml(\"GET\",\"/zs-site/api/v0/renderNewsletter?siteId=\"+site_id,render_newsletter_handler,\"\");//No I18N\n    }else{\n        xml(\"GET\",\"/siteapps/renderNewsletter?siteId=\"+site_id,render_newsletter_handler,\"\");//No I18N\n    }\n}\n\nrender_newsletter_handler = function(response){\n    for(var i=0; i < newsletter_elts.length; i++){\n        var position_elt;\n        if(!(newsletter_elts[i].getElementsByClassName)){\n            position_elt = (getElementsByClassName_ieFix(newsletter_elts[i], \"zpAlignPos\"))[0];\n        }else{\n            position_elt = newsletter_elts[i].getElementsByClassName(\"zpAlignPos\")[0]\n        }\n        if(response != -1){\n            position_elt.innerHTML = response;\n        }else{\n            position_elt.innerHTML = \"Error in loading newsletter\";//NO I18N\n        }\n    }\n}\n\nvalidate_name = function(field){\n    var name = field.value;\n    var container_elt = findParent(field, \"zpelement-wrapper newsletter\");//NO I18N\n    var error_msg_div = (!container_elt.getElementsByClassName) ? (getElementsByClassName_ieFix(container_elt, \"newsletter_response\"))[0] : container_elt.getElementsByClassName(\"newsletter_response\")[0];\n    var name_pattern = new RegExp(\"^[a-zA-Z\\\\.\\\\-\\\\s]+$\");\n    if(name.trim().length == 0){\n        error_msg_div.innerHTML = \"Please enter your name\";//NO I18N\n        error_msg_div.style.color = \"red\";\n        error_msg_div.style.display = \"block\";\n        return false;\n    }else if(name.trim().length > 50){\n        error_msg_div.innerHTML = \"Length of the name must not exceed 50 charecters\";//NO I18N\n        error_msg_div.style.color = \"red\";\n        error_msg_div.style.display = \"block\";\n        return false;\n    }/*else if(!name_pattern.exec(name)){\n        error_msg_div.innerHTML = \"Use only letters and these special charecters .- in name\";//NO I18N\n        error_msg_div.style.color = \"red\";\n        error_msg_div.style.display = \"block\";\n        return false;\n    }*/\n    return true;\n}\n\nvalidate_email = function(field){\n    var email = field.value;\n    var container_elt = findParent(field, \"zpelement-wrapper newsletter\");//NO I18N\n    var error_msg_div = (!container_elt.getElementsByClassName) ? (getElementsByClassName_ieFix(container_elt, \"newsletter_response\"))[0] : container_elt.getElementsByClassName(\"newsletter_response\")[0];\n    if(email.trim().length == 0){\n        error_msg_div.innerHTML = \"Please enter your email id\";//NO I18N\n        error_msg_div.style.color = \"red\";\n        error_msg_div.style.display = \"block\";\n        return false;\n    }\n    var email_pattern= new RegExp(\"^[\\\\w]([\\\\w\\\\-\\\\.\\\\'\\\\/]*)@([\\\\w\\\\-\\\\.]*)(\\\\.[a-zA-Z]{2,22}(\\\\.[a-zA-Z]{2}){0,2})$\");\n    if(!email_pattern.exec(email)){\n        error_msg_div.innerHTML = \"Invalid email id\";//NO I18N\n        error_msg_div.style.color = \"red\";\n        error_msg_div.style.display = \"block\";\n        return false;\n    }\n    return true;\n}\n\nclear_field = function(){\n    var error_msg_divs = (!document.getElementsByClassName) ? (getElementsByClassName_ieFix(document, \"newsletter_response\")) : document.getElementsByClassName(\"newsletter_response\");//NO I18N\n    for(var i = 0;i < error_msg_divs.length; i++){\n        error_msg_divs[i].innerHTML = \"\";\n        error_msg_divs[i].style.display = \"none\";\n    }\n}\n\nsubscribe_user = function(field){\n    if(window.ZS_PreviewMode){\n        alert(parent.i18n(\"pages.newsletter.preview.Error\"));\n    }else{\n        var container_elt = findParent(field, \"zpelement-wrapper newsletter\");//NO I18N\n        var email_field = (!container_elt.getElementsByClassName) ? (getElementsByClassName_ieFix(container_elt, \"newsletter-input-field email_field\"))[0] : container_elt.getElementsByClassName(\"newsletter-input-field email_field\")[0];\n        var is_valid = validate_email(email_field);\n        var name_field = (!container_elt.getElementsByClassName) ? (getElementsByClassName_ieFix(container_elt, \"newsletter-input-field name_field\"))[0] : container_elt.getElementsByClassName(\"newsletter-input-field name_field\")[0];\n        var email = email_field.value;\n        email = encodeURIComponent(email);\n        if(name_field){\n            is_valid = is_valid && validate_name(name_field);\n            var name = name_field.value;\n        }\n        if(!is_valid){\n            return;\n        }\n        var site_id = container_elt.getAttribute(\"data_site_id\");\n        var source = 0;//Data from WIDGET\n        var params = \"siteId=\"+site_id+\"&source=\"+source+\"&email=\"+email;//No I18N\n        if(name_field){\n            params = params+\"&fname=\"+name;//No I18N\n        }\n        xml(\"POST\",\"/siteapps/subscribeUser\",subscribe_user_handler,params,container_elt);//No I18N\n    }\n}\n\nsubscribe_user_handler = function(response,container){\n    var response_div = (!container.getElementsByClassName) ? (getElementsByClassName_ieFix(container, \"newsletter_response\"))[0] : container.getElementsByClassName(\"newsletter_response\")[0];\n    try{\n        var response_object = JSON.parse(response);\n        if(response_object.error_code){\n            response_div.innerHTML = \"Error in adding data\";//NO I18N\n            response_div.style.color = \"red\";\n            response_div.style.display=\"block\";\n        }else if(response_object.subscriber_added && response_object.subscriber_added == \"true\"){\n            response_div.innerHTML = \"You have been successfully added to our mailing list\";//No I18N\n            response_div.style.color = \"green\";\n            response_div.style.display=\"block\";\n            var email_field = (!container.getElementsByClassName) ? (getElementsByClassName_ieFix(container, \"newsletter-input-field email_field\"))[0] : container.getElementsByClassName(\"newsletter-input-field email_field\")[0];\n            email_field.value = \"\";\n            var name_field = (!container.getElementsByClassName) ? (getElementsByClassName_ieFix(container, \"newsletter-input-field name_field\"))[0] : container.getElementsByClassName(\"newsletter-input-field name_field\")[0];\n            if(name_field){\n                name_field.value = \"\";\n            }\n        }\n    }catch(e){\n        response_div.innerHTML = \"Error in adding data\";//NO I18N\n        response_div.style.color = \"red\";\n        response_div.style.display=\"block\";\n    }\n}\n\ngetBlogPostCommentsCount = function () {\n    var count_elements = document.querySelectorAll('span[data-post-id]');//NO I18N\n    if(count_elements.length != 0) {\n        var resource_ids = [];\n        Object.keys(count_elements).map(function(index){ \n            resource_ids.push(count_elements[index].getAttribute('data-post-id'));\n        })\n        var request_uri = \"/siteapps/commentbox/commentscount?resource_ids=\" + resource_ids.join();//NO I18N\n        xml(\"GET\", request_uri, getBlogPostCommentsCountHandler, null, count_elements);//No I18N\n    }\n}\n\ngetBlogPostCommentsCountHandler = function (response, count_elements) {\n    if(response.trim() != \"\") {\n        var count_map = JSON.parse(response);\n        Object.keys(count_elements).map(function(index){ \n            var post_id = count_elements[index].getAttribute('data-post-id');\n            var count = count_map[post_id];\n            count_elements[index].innerHTML = \"Comments(\"+ count +\")\";//NO I18N\n        })\n    }\n}\n\n"
